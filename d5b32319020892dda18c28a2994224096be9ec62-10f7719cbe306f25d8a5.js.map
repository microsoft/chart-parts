{"version":3,"file":"d5b32319020892dda18c28a2994224096be9ec62-10f7719cbe306f25d8a5.js","mappings":";gIAAe,SAAS,EAACA,EAAGC,GAC1B,OAAOD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIC,wICE3CC,GAAkB,OAAS,KACpBC,EAAcD,EAAgBE,MACjBF,EAAgBG,MACd,OAAS,KAAQC,OAC3C,wFCNe,SAAS,EAACC,GACvB,IAAIC,EAAQD,EACRE,EAAUF,EAUd,SAASF,EAAKN,EAAGW,EAAGC,EAAIC,GAItB,IAHU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKb,EAAEc,QAEhBF,EAAKC,GAAI,CACd,IAAIE,EAAMH,EAAKC,IAAO,EAClBH,EAAQV,EAAEe,GAAMJ,GAAK,EAAGC,EAAKG,EAAM,EAAOF,EAAKE,EAGrD,OAAOH,EAsBT,OAvCiB,IAAbJ,EAAEM,SACJL,EAAQ,SAAeO,EAAGL,GACxB,OAAOH,EAAEQ,GAAKL,GAGhBD,EAyCJ,SAA6BF,GAC3B,OAAO,SAAUQ,EAAGL,GAClB,OAAO,OAAUH,EAAEQ,GAAIL,IA3CbM,CAAoBT,IAkCzB,CACLF,KAAMA,EACNC,OATF,SAAgBP,EAAGW,EAAGC,EAAIC,GACd,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKb,EAAEc,QACvB,IAAII,EAAIZ,EAAKN,EAAGW,EAAGC,EAAIC,EAAK,GAC5B,OAAOK,EAAIN,GAAMH,EAAMT,EAAEkB,EAAI,GAAIP,IAAMF,EAAMT,EAAEkB,GAAIP,GAAKO,EAAI,EAAIA,GAMhEb,MAtBF,SAAeL,EAAGW,EAAGC,EAAIC,GAIvB,IAHU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKb,EAAEc,QAEhBF,EAAKC,GAAI,CACd,IAAIE,EAAMH,EAAKC,IAAO,EAClBH,EAAQV,EAAEe,GAAMJ,GAAK,EAAGE,EAAKE,EAASH,EAAKG,EAAM,EAGvD,OAAOH,qHChCPO,EAAuB,SAAyBC,GAEpD,SAASC,EAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAE9K,SAAqCF,EAAGO,GAAU,IAAKP,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOQ,EAAkBR,EAAGO,GAAS,IAAIE,EAAIC,OAAOC,UAAUC,SAASC,KAAKb,GAAGc,MAAM,GAAI,GAAc,WAANL,GAAkBT,EAAEe,cAAaN,EAAIT,EAAEe,YAAYC,MAAM,GAAU,QAANP,GAAqB,QAANA,EAAa,OAAOJ,MAAMY,KAAKjB,GAAI,GAAU,cAANS,GAAqB,2CAA2CS,KAAKT,GAAI,OAAOD,EAAkBR,EAAGO,GAFnOY,CAA4BnB,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAER,OAAqB,CAAMU,IAAIF,EAAIE,GAAI,IAAIN,EAAI,EAAOwB,EAAI,aAAiB,MAAO,CAAEC,EAAGD,EAAGX,EAAG,WAAe,OAAIb,GAAKI,EAAER,OAAe,CAAE8B,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOvB,EAAEJ,OAAW4B,EAAG,SAAWC,GAAM,MAAMA,GAAOvC,EAAGkC,GAAO,MAAM,IAAIM,UAAU,yIAA4I,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAER,EAAG,WAAenB,EAAKA,EAAGW,KAAKb,IAAOS,EAAG,WAAe,IAAIqB,EAAO5B,EAAG6B,OAAsC,OAA9BH,EAAmBE,EAAKR,KAAaQ,GAASN,EAAG,SAAWQ,GAAOH,GAAS,EAAMF,EAAMK,GAAQ9C,EAAG,WAAe,IAAW0C,GAAiC,MAAb1B,EAAG+B,QAAgB/B,EAAG+B,SAAY,QAAU,GAAIJ,EAAQ,MAAMF,KAIz9B,SAASnB,EAAkB0B,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAI1C,UAAQ2C,EAAMD,EAAI1C,QAAQ,IAAK,IAAII,EAAI,EAAGwC,EAAO,IAAI/B,MAAM8B,GAAMvC,EAAIuC,EAAKvC,IAAOwC,EAAKxC,GAAKsC,EAAItC,GAAM,OAAOwC,EAEjK,SAAS,EAAC/C,GACvB,OAAa,OAANA,EAAaT,KAAOS,EAEtB,SAASS,EAAQuC,EAAQC,GAC9B,IAAIC,EAAWC,EAAOjB,EAAOkB,EAAOC,EAAYC,EAAQC,EAExD,OAAO,UAAyB,SAAkBC,GAChD,OACE,OAAQA,EAASC,KAAOD,EAASd,MAC/B,KAAK,EACH,QAAkBgB,IAAZT,EAAwB,CAC5BO,EAASd,KAAO,GAChB,MAGFQ,EAAYxC,EAA2BsC,GACvCQ,EAASC,KAAO,EAEhBP,EAAUlB,IAEZ,KAAK,EACH,IAAKmB,EAAQD,EAAU9B,KAAKa,KAAM,CAChCuB,EAASd,KAAO,GAChB,MAKF,KAAe,OAFfR,EAAQiB,EAAMjB,SAEUA,GAASA,IAAUA,GAAQ,CACjDsB,EAASd,KAAO,EAChB,MAIF,OADAc,EAASd,KAAO,EACTR,EAET,KAAK,EACHsB,EAASd,KAAO,EAChB,MAEF,KAAK,GACHc,EAASd,KAAO,GAChB,MAEF,KAAK,GACHc,EAASC,KAAO,GAChBD,EAASG,GAAKH,EAAgB,MAAE,GAEhCN,EAAUf,EAAEqB,EAASG,IAEvB,KAAK,GAKH,OAJAH,EAASC,KAAO,GAEhBP,EAAUrD,IAEH2D,EAASI,OAAO,IAEzB,KAAK,GACHJ,EAASd,KAAO,GAChB,MAEF,KAAK,GACHU,GAAS,EACTC,EAAa3C,EAA2BsC,GACxCQ,EAASC,KAAO,GAEhBJ,EAAWrB,IAEb,KAAK,GACH,IAAKsB,EAASD,EAAWjC,KAAKa,KAAM,CAClCuB,EAASd,KAAO,GAChB,MAKF,GAFAa,EAASD,EAAOpB,QAEqC,OAA9CqB,EAASN,EAAQM,IAAUH,EAAOJ,MAAqBO,GAAUA,IAAWA,GAAS,CAC1FC,EAASd,KAAO,GAChB,MAIF,OADAc,EAASd,KAAO,GACTa,EAET,KAAK,GACHC,EAASd,KAAO,GAChB,MAEF,KAAK,GACHc,EAASd,KAAO,GAChB,MAEF,KAAK,GACHc,EAASC,KAAO,GAChBD,EAASK,GAAKL,EAAgB,MAAE,IAEhCH,EAAWlB,EAAEqB,EAASK,IAExB,KAAK,GAKH,OAJAL,EAASC,KAAO,GAEhBJ,EAAWxD,IAEJ2D,EAASI,OAAO,IAEzB,KAAK,GACL,IAAK,MACH,OAAOJ,EAASM,UAGrBtD,EAAS,KAAM,CAAC,CAAC,EAAG,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,0CCxHpC,SAAS,EAACuD,EAAOD,EAAMrB,GACpCsB,GAASA,EAAOD,GAAQA,EAAMrB,GAAQrB,EAAI4C,UAAU7D,QAAU,GAAK2D,EAAOC,EAAOA,EAAQ,EAAG,GAAK3C,EAAI,EAAI,GAAKqB,EAK9G,IAJA,IAAIlC,GAAK,EACLa,EAAoD,EAAhD6C,KAAKC,IAAI,EAAGD,KAAKE,MAAML,EAAOC,GAAStB,IAC3C2B,EAAQ,IAAIpD,MAAMI,KAEbb,EAAIa,GACXgD,EAAM7D,GAAKwD,EAAQxD,EAAIkC,EAGzB,OAAO2B,sJCVT,IAAIC,EAAMJ,KAAKK,KAAK,IAChBC,EAAKN,KAAKK,KAAK,IACfE,EAAKP,KAAKK,KAAK,GACJ,SAAS,EAACP,EAAOD,EAAMW,GACpC,IAAIC,EAEAtD,EACAuD,EACAlC,EAHAlC,GAAK,EAKT,GAD8BkE,GAASA,GAAzBV,GAASA,MAAvBD,GAAQA,IACcW,EAAQ,EAAG,MAAO,CAACV,GAEzC,IADIW,EAAUZ,EAAOC,KAAO3C,EAAI2C,EAAOA,EAAQD,EAAMA,EAAO1C,GACT,KAA9CqB,EAAOmC,EAAcb,EAAOD,EAAMW,MAAkBI,SAASpC,GAAO,MAAO,GAEhF,GAAIA,EAAO,EAAG,CACZ,IAAIqC,EAAKb,KAAKc,MAAMhB,EAAQtB,GACxBuC,EAAKf,KAAKc,MAAMjB,EAAOrB,GAK3B,IAJIqC,EAAKrC,EAAOsB,KAASe,EACrBE,EAAKvC,EAAOqB,KAAQkB,EACxBL,EAAQ,IAAI3D,MAAMI,EAAI4D,EAAKF,EAAK,KAEvBvE,EAAIa,GACXuD,EAAMpE,IAAMuE,EAAKvE,GAAKkC,MAEnB,CACLA,GAAQA,EAER,IAAIwC,EAAKhB,KAAKc,MAAMhB,EAAQtB,GACxByC,EAAMjB,KAAKc,MAAMjB,EAAOrB,GAM5B,IAJIwC,EAAKxC,EAAOsB,KAASkB,EACrBC,EAAMzC,EAAOqB,KAAQoB,EACzBP,EAAQ,IAAI3D,MAAMI,EAAI8D,EAAMD,EAAK,KAExB1E,EAAIa,GACXuD,EAAMpE,IAAM0E,EAAK1E,GAAKkC,EAK1B,OADIiC,GAASC,EAAMD,UACZC,EAEF,SAASC,EAAcb,EAAOD,EAAMW,GACzC,IAAIhC,GAAQqB,EAAOC,GAASE,KAAKC,IAAI,EAAGO,GACpCU,EAAQlB,KAAKmB,MAAMnB,KAAKoB,IAAI5C,GAAQwB,KAAKqB,MACzCC,EAAQ9C,EAAOwB,KAAKuB,IAAI,GAAIL,GAChC,OAAOA,GAAS,GAAKI,GAASlB,EAAM,GAAKkB,GAAShB,EAAK,EAAIgB,GAASf,EAAK,EAAI,GAAKP,KAAKuB,IAAI,GAAIL,IAAUlB,KAAKuB,IAAI,IAAKL,IAAUI,GAASlB,EAAM,GAAKkB,GAAShB,EAAK,EAAIgB,GAASf,EAAK,EAAI,GAEpL,SAASiB,EAAS1B,EAAOD,EAAMW,GACpC,IAAIiB,EAAQzB,KAAK0B,IAAI7B,EAAOC,GAASE,KAAKC,IAAI,EAAGO,GAC7CmB,EAAQ3B,KAAKuB,IAAI,GAAIvB,KAAKmB,MAAMnB,KAAKoB,IAAIK,GAASzB,KAAKqB,OACvDC,EAAQG,EAAQE,EAEpB,OADIL,GAASlB,EAAKuB,GAAS,GAAYL,GAAShB,EAAIqB,GAAS,EAAWL,GAASf,IAAIoB,GAAS,GACvF9B,EAAOC,GAAS6B,EAAQA,wMCjD7BC,EAAO,CAAC,EAAG,GACR,SAASC,EAAS9F,GACvB,OAAOA,EAGT,SAAS+F,EAAU1G,EAAGC,GACpB,OAAQA,GAAKD,GAAKA,GAAK,SAAUW,GAC/B,OAAQA,EAAIX,GAAKC,ICXaU,EDYnBgG,MAAM1G,GAAKC,IAAM,GCXvB,WACL,OAAOS,IAFI,IAAmBA,EDyBlC,SAASiG,EAAMC,EAAQ9B,EAAO+B,GAC5B,IAAIC,EAAKF,EAAO,GACZG,EAAKH,EAAO,GACZpB,EAAKV,EAAM,GACXY,EAAKZ,EAAM,GAEf,OADIiC,EAAKD,GAAIA,EAAKL,EAAUM,EAAID,GAAKtB,EAAKqB,EAAYnB,EAAIF,KAASsB,EAAKL,EAAUK,EAAIC,GAAKvB,EAAKqB,EAAYrB,EAAIE,IACzG,SAAUhF,GACf,OAAO8E,EAAGsB,EAAGpG,KAIjB,SAASsG,EAAQJ,EAAQ9B,EAAO+B,GAC9B,IAAII,EAAItC,KAAKuC,IAAIN,EAAO/F,OAAQiE,EAAMjE,QAAU,EAC5CE,EAAI,IAAIW,MAAMuF,GACdE,EAAI,IAAIzF,MAAMuF,GACdhG,GAAK,EAOT,IALI2F,EAAOK,GAAKL,EAAO,KACrBA,EAASA,EAAOzE,QAAQiD,UACxBN,EAAQA,EAAM3C,QAAQiD,aAGfnE,EAAIgG,GACXlG,EAAEE,GAAKwF,EAAUG,EAAO3F,GAAI2F,EAAO3F,EAAI,IACvCkG,EAAElG,GAAK4F,EAAY/B,EAAM7D,GAAI6D,EAAM7D,EAAI,IAGzC,OAAO,SAAUP,GACf,IAAIO,GAAI,EAAAmG,EAAA,IAAOR,EAAQlG,EAAG,EAAGuG,GAAK,EAClC,OAAOE,EAAElG,GAAGF,EAAEE,GAAGP,KAId,SAAS2G,EAAKC,EAAQC,GAC3B,OAAOA,EAAOX,OAAOU,EAAOV,UAAU9B,MAAMwC,EAAOxC,SAAS+B,YAAYS,EAAOT,eAAeW,MAAMF,EAAOE,SAASC,QAAQH,EAAOG,WAE9H,SAASC,IACd,IAGIC,EACAC,EACAH,EAEAI,EACAC,EACAC,EATAnB,EAASL,EACTzB,EAAQyB,EACRM,EAAc,IAIdW,EAAQhB,EAKZ,SAASwB,IACP,IA3DajI,EAAGC,EACdiI,EA0DEnG,EAAI6C,KAAKuC,IAAIN,EAAO/F,OAAQiE,EAAMjE,QAItC,OAHI2G,IAAUhB,IA5DDzG,EA4D2B6G,EAAO,GA5D/B5G,EA4DmC4G,EAAO9E,EAAI,GA1D5D/B,EAAIC,IAAGiI,EAAIlI,EAAGA,EAAIC,EAAGA,EAAIiI,GA0DHT,EAzDnB,SAAU9G,GACf,OAAOiE,KAAKC,IAAI7E,EAAG4E,KAAKuC,IAAIlH,EAAGU,MAyD/BmH,EAAY/F,EAAI,EAAIkF,EAAUL,EAC9BmB,EAASC,EAAQ,KACVG,EAGT,SAASA,EAAMxH,GACb,OAAY,MAALA,GAAagG,MAAMhG,GAAKA,GAAK+G,GAAWK,IAAWA,EAASD,EAAUjB,EAAOuB,IAAIR,GAAY7C,EAAO+B,KAAec,EAAUH,EAAM9G,KA+B5I,OA5BAwH,EAAME,OAAS,SAAUC,GACvB,OAAOb,EAAMI,GAAaG,IAAUA,EAAQF,EAAU/C,EAAO8B,EAAOuB,IAAIR,GAAY,OAAqBU,MAG3GH,EAAMtB,OAAS,SAAU0B,GACvB,OAAO5D,UAAU7D,QAAU+F,EAASlF,MAAMY,KAAKgG,EAAG,KAASN,KAAapB,EAAOzE,SAGjF+F,EAAMpD,MAAQ,SAAUwD,GACtB,OAAO5D,UAAU7D,QAAUiE,EAAQpD,MAAMY,KAAKgG,GAAIN,KAAalD,EAAM3C,SAGvE+F,EAAMK,WAAa,SAAUD,GAC3B,OAAOxD,EAAQpD,MAAMY,KAAKgG,GAAIzB,EAAc,IAAkBmB,KAGhEE,EAAMV,MAAQ,SAAUc,GACtB,OAAO5D,UAAU7D,QAAU2G,IAAQc,GAAW9B,EAAUwB,KAAaR,IAAUhB,GAGjF0B,EAAMrB,YAAc,SAAUyB,GAC5B,OAAO5D,UAAU7D,QAAUgG,EAAcyB,EAAGN,KAAanB,GAG3DqB,EAAMT,QAAU,SAAUa,GACxB,OAAO5D,UAAU7D,QAAU4G,EAAUa,EAAGJ,GAAST,GAG5C,SAAUQ,EAAGO,GAElB,OADAb,EAAYM,EAAGL,EAAcY,EACtBR,KAGI,SAASS,IACtB,OAAOf,GAAAA,CAAclB,EAAUA,uCEvH1B,SAASkC,EAAU9B,EAAQ9B,GAChC,OAAQJ,UAAU7D,QAChB,KAAK,EACH,MAEF,KAAK,EACH8H,KAAK7D,MAAM8B,GACX,MAEF,QACE+B,KAAK7D,MAAMA,GAAO8B,OAAOA,GAI7B,OAAO+B,KAEF,SAASC,EAAiBhC,EAAQiC,GACvC,OAAQnE,UAAU7D,QAChB,KAAK,EACH,MAEF,KAAK,EAEqB,mBAAX+F,EAAuB+B,KAAKE,aAAajC,GAAa+B,KAAK7D,MAAM8B,GAC5E,MAGJ,QAEI+B,KAAK/B,OAAOA,GACgB,mBAAjBiC,EAA6BF,KAAKE,aAAaA,GAAmBF,KAAK7D,MAAM+D,GAK9F,OAAOF,kMC/BF,SAASG,EAAUZ,GACxB,IAAItB,EAASsB,EAAMtB,OAmDnB,OAjDAsB,EAAM7C,MAAQ,SAAUF,GACtB,IAAIpE,EAAI6F,IACR,OAAO,QAAM7F,EAAE,GAAIA,EAAEA,EAAEF,OAAS,GAAa,MAATsE,EAAgB,GAAKA,IAG3D+C,EAAMa,WAAa,SAAU5D,EAAO6D,GAClC,IAAIjI,EAAI6F,IACR,OAAO,OAAW7F,EAAE,GAAIA,EAAEA,EAAEF,OAAS,GAAa,MAATsE,EAAgB,GAAKA,EAAO6D,IAGvEd,EAAMe,KAAO,SAAU9D,GACR,MAATA,IAAeA,EAAQ,IAC3B,IAKI+D,EACA/F,EANApC,EAAI6F,IACJuC,EAAK,EACLC,EAAKrI,EAAEF,OAAS,EAChB4D,EAAQ1D,EAAEoI,GACV3E,EAAOzD,EAAEqI,GAGTC,EAAU,GAOd,IALI7E,EAAOC,IACTtB,EAAOsB,EAAOA,EAAQD,EAAMA,EAAOrB,EACnCA,EAAOgG,EAAIA,EAAKC,EAAIA,EAAKjG,GAGpBkG,KAAY,GAAG,CAGpB,IAFAlG,GAAO,QAAcsB,EAAOD,EAAMW,MAErB+D,EAGX,OAFAnI,EAAEoI,GAAM1E,EACR1D,EAAEqI,GAAM5E,EACDoC,EAAO7F,GACT,GAAIoC,EAAO,EAChBsB,EAAQE,KAAKmB,MAAMrB,EAAQtB,GAAQA,EACnCqB,EAAOG,KAAKE,KAAKL,EAAOrB,GAAQA,MAC3B,MAAIA,EAAO,GAIhB,MAHAsB,EAAQE,KAAKE,KAAKJ,EAAQtB,GAAQA,EAClCqB,EAAOG,KAAKmB,MAAMtB,EAAOrB,GAAQA,EAKnC+F,EAAU/F,EAGZ,OAAO+E,GAGFA,EAEM,SAASoB,IACtB,IAAIpB,GAAQ,UAOZ,OALAA,EAAMb,KAAO,WACX,OAAO,QAAKa,EAAOoB,MAGrB,UAAgBpB,EAAOxD,WAChBoE,EAAUZ,oJC5DnB,SAASqB,EAAa7I,GACpB,OAAOiE,KAAKoB,IAAIrF,GAGlB,SAAS8I,EAAa9I,GACpB,OAAOiE,KAAK8E,IAAI/I,GAGlB,SAASgJ,EAAchJ,GACrB,OAAQiE,KAAKoB,KAAKrF,GAGpB,SAASiJ,EAAcjJ,GACrB,OAAQiE,KAAK8E,KAAK/I,GAGpB,SAASkJ,EAAMlJ,GACb,OAAO6E,SAAS7E,KAAO,KAAOA,GAAKA,EAAI,EAAI,EAAIA,EAejD,SAASmJ,EAAQtJ,GACf,OAAO,SAAUG,GACf,OAAQH,GAAGG,IAIR,SAASoJ,EAAQnC,GACtB,IAGIoC,EACAC,EAJA9B,EAAQP,EAAU4B,EAAcC,GAChC5C,EAASsB,EAAMtB,OACfqD,EAAO,GAIX,SAASjC,IAUP,OATA+B,EApBJ,SAAcE,GACZ,OAAOA,IAAStF,KAAKuF,EAAIvF,KAAKoB,IAAe,KAATkE,GAAetF,KAAKwF,OAAkB,IAATF,GAActF,KAAKyF,OAASH,EAAOtF,KAAKoB,IAAIkE,GAAO,SAAUvJ,GAC5H,OAAOiE,KAAKoB,IAAIrF,GAAKuJ,IAkBdI,CAAKJ,GAAOD,EA1BvB,SAAcC,GACZ,OAAgB,KAATA,EAAcL,EAAQK,IAAStF,KAAKuF,EAAIvF,KAAK8E,IAAM,SAAU/I,GAClE,OAAOiE,KAAKuB,IAAI+D,EAAMvJ,IAwBI4J,CAAKL,GAE3BrD,IAAS,GAAK,GAChBmD,EAAOF,EAAQE,GAAOC,EAAOH,EAAQG,GACrCrC,EAAU+B,EAAeC,IAEzBhC,EAAU4B,EAAcC,GAGnBtB,EA2ET,OAxEAA,EAAM+B,KAAO,SAAU3B,GACrB,OAAO5D,UAAU7D,QAAUoJ,GAAQ3B,EAAGN,KAAaiC,GAGrD/B,EAAMtB,OAAS,SAAU0B,GACvB,OAAO5D,UAAU7D,QAAU+F,EAAO0B,GAAIN,KAAapB,KAGrDsB,EAAM7C,MAAQ,SAAUF,GACtB,IAGIgC,EAHApG,EAAI6F,IACJ4B,EAAIzH,EAAE,GACNwJ,EAAIxJ,EAAEA,EAAEF,OAAS,IAEjBsG,EAAIoD,EAAI/B,KAAGvH,EAAIuH,EAAGA,EAAI+B,EAAGA,EAAItJ,GACjC,IAEIuJ,EACAC,EACAxC,EAJAhH,EAAI8I,EAAKvB,GACTvB,EAAI8C,EAAKQ,GAITzI,EAAa,MAATqD,EAAgB,IAAMA,EAC1BuF,EAAI,GAER,KAAMT,EAAO,IAAMhD,EAAIhG,EAAIa,EAAG,CAE5B,GADAb,EAAI0D,KAAKmB,MAAM7E,GAAIgG,EAAItC,KAAKE,KAAKoC,GAC7BuB,EAAI,GAAG,KAAOvH,GAAKgG,IAAKhG,EAC1B,IAAKwJ,EAAI,EAAGD,EAAIR,EAAK/I,GAAIwJ,EAAIR,IAAQQ,EAEnC,MADAxC,EAAIuC,EAAIC,GACAjC,GAAR,CACA,GAAIP,EAAIsC,EAAG,MACXG,EAAEC,KAAK1C,SAEJ,KAAOhH,GAAKgG,IAAKhG,EACtB,IAAKwJ,EAAIR,EAAO,EAAGO,EAAIR,EAAK/I,GAAIwJ,GAAK,IAAKA,EAExC,MADAxC,EAAIuC,EAAIC,GACAjC,GAAR,CACA,GAAIP,EAAIsC,EAAG,MACXG,EAAEC,KAAK1C,GAGI,EAAXyC,EAAE7J,OAAaiB,IAAG4I,GAAI,QAAMlC,EAAG+B,EAAGzI,SAEtC4I,GAAI,QAAMzJ,EAAGgG,EAAGtC,KAAKuC,IAAID,EAAIhG,EAAGa,IAAIqG,IAAI6B,GAG1C,OAAO7C,EAAIuD,EAAEtF,UAAYsF,GAG3BxC,EAAMa,WAAa,SAAU5D,EAAO6D,GAGlC,GAFiB,MAAbA,IAAmBA,EAAqB,KAATiB,EAAc,MAAQ,KAChC,mBAAdjB,IAA0BA,GAAY,QAAOA,IACpD7D,IAAUyF,EAAAA,EAAU,OAAO5B,EAClB,MAAT7D,IAAeA,EAAQ,IAC3B,IAAIsF,EAAI9F,KAAKC,IAAI,EAAGqF,EAAO9E,EAAQ+C,EAAM7C,QAAQxE,QAEjD,OAAO,SAAUE,GACf,IAAIE,EAAIF,EAAIiJ,EAAKrF,KAAKc,MAAMsE,EAAKhJ,KAEjC,OADIE,EAAIgJ,EAAOA,EAAO,KAAKhJ,GAAKgJ,GACzBhJ,GAAKwJ,EAAIzB,EAAUjI,GAAK,KAInCmH,EAAMe,KAAO,WACX,OAAOrC,GAAO,OAAKA,IAAU,CAC3Bd,MAAO,SAAepF,GACpB,OAAOsJ,EAAKrF,KAAKmB,MAAMiE,EAAKrJ,MAE9BmE,KAAM,SAAcnE,GAClB,OAAOsJ,EAAKrF,KAAKE,KAAKkF,EAAKrJ,UAK1BwH,EAEM,SAASnC,IACtB,IAAImC,EAAQ4B,GAAQ,WAAelD,OAAO,CAAC,EAAG,KAO9C,OALAsB,EAAMb,KAAO,WACX,OAAO,QAAKa,EAAOnC,KAAOkE,KAAK/B,EAAM+B,SAGvC,UAAgB/B,EAAOxD,WAChBwD,sCClJM,SAASe,EAAKrC,EAAQiE,GAEnC,IAII5C,EAJAkB,EAAK,EACLC,GAFJxC,EAASA,EAAOzE,SAEAtB,OAAS,EACrBiK,EAAKlE,EAAOuC,GACZ4B,EAAKnE,EAAOwC,GAUhB,OAPI2B,EAAKD,IACP7C,EAAIkB,EAAIA,EAAKC,EAAIA,EAAKnB,EACtBA,EAAI6C,EAAIA,EAAKC,EAAIA,EAAK9C,GAGxBrB,EAAOuC,GAAM0B,EAAS/E,MAAMgF,GAC5BlE,EAAOwC,GAAMyB,EAAShG,KAAKkG,GACpBnE,qECfM,SAASoE,EAAOtK,GAC7B,OAAQA,0ICDV,SAASU,EAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAE9K,SAAqCF,EAAGO,GAAU,IAAKP,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOQ,EAAkBR,EAAGO,GAAS,IAAIE,EAAIC,OAAOC,UAAUC,SAASC,KAAKb,GAAGc,MAAM,GAAI,GAAc,WAANL,GAAkBT,EAAEe,cAAaN,EAAIT,EAAEe,YAAYC,MAAM,GAAU,QAANP,GAAqB,QAANA,EAAa,OAAOJ,MAAMY,KAAKjB,GAAI,GAAU,cAANS,GAAqB,2CAA2CS,KAAKT,GAAI,OAAOD,EAAkBR,EAAGO,GAFnOY,CAA4BnB,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAER,OAAqB,CAAMU,IAAIF,EAAIE,GAAI,IAAIN,EAAI,EAAOwB,EAAI,aAAiB,MAAO,CAAEC,EAAGD,EAAGX,EAAG,WAAe,OAAIb,GAAKI,EAAER,OAAe,CAAE8B,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOvB,EAAEJ,OAAW4B,EAAG,SAAWC,GAAM,MAAMA,GAAOvC,EAAGkC,GAAO,MAAM,IAAIM,UAAU,yIAA4I,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAER,EAAG,WAAenB,EAAKA,EAAGW,KAAKb,IAAOS,EAAG,WAAe,IAAIqB,EAAO5B,EAAG6B,OAAsC,OAA9BH,EAAmBE,EAAKR,KAAaQ,GAASN,EAAG,SAAWQ,GAAOH,GAAS,EAAMF,EAAMK,GAAQ9C,EAAG,WAAe,IAAW0C,GAAiC,MAAb1B,EAAG+B,QAAgB/B,EAAG+B,SAAY,QAAU,GAAIJ,EAAQ,MAAMF,KAIz9B,SAASnB,EAAkB0B,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAI1C,UAAQ2C,EAAMD,EAAI1C,QAAQ,IAAK,IAAII,EAAI,EAAGwC,EAAO,IAAI/B,MAAM8B,GAAMvC,EAAIuC,EAAKvC,IAAOwC,EAAKxC,GAAKsC,EAAItC,GAAM,OAAOwC,EAGzK,IAAIwH,EAAWzJ,OAAO,YACd,SAAS0J,IACtB,IAAIpH,EAAQ,IAAIqH,IACZvE,EAAS,GACT9B,EAAQ,GACR2C,EAAUwD,EAEd,SAAS/C,EAAMnH,GACb,IAAIqK,EAAMrK,EAAI,GACVE,EAAI6C,EAAMuH,IAAID,GAElB,IAAKnK,EAAG,CACN,GAAIwG,IAAYwD,EAAU,OAAOxD,EACjC3D,EAAMwH,IAAIF,EAAKnK,EAAI2F,EAAO+D,KAAK5J,IAGjC,OAAO+D,GAAO7D,EAAI,GAAK6D,EAAMjE,QAuC/B,OApCAqH,EAAMtB,OAAS,SAAU0B,GACvB,IAAK5D,UAAU7D,OAAQ,OAAO+F,EAAOzE,QACrCyE,EAAS,GAAI9C,EAAQ,IAAIqH,IAEzB,IACItH,EADAD,EAAYxC,EAA2BkH,GAG3C,IACE,IAAK1E,EAAUlB,MAAOmB,EAAQD,EAAU9B,KAAKa,MAAO,CAClD,IAAIC,EAAQiB,EAAMjB,MACdwI,EAAMxI,EAAQ,GACdkB,EAAMyH,IAAIH,IACdtH,EAAMwH,IAAIF,EAAKxE,EAAO+D,KAAK/H,KAE7B,MAAOI,GACPY,EAAUf,EAAEG,GACZ,QACAY,EAAUrD,IAGZ,OAAO2H,GAGTA,EAAMpD,MAAQ,SAAUwD,GACtB,OAAO5D,UAAU7D,QAAUiE,EAAQpD,MAAMY,KAAKgG,GAAIJ,GAASpD,EAAM3C,SAGnE+F,EAAMT,QAAU,SAAUa,GACxB,OAAO5D,UAAU7D,QAAU4G,EAAUa,EAAGJ,GAAST,GAGnDS,EAAMb,KAAO,WACX,OAAO6D,EAAQtE,EAAQ9B,GAAO2C,QAAQA,IAGxC,UAAgBS,EAAOxD,WAChBwD,yJC1DT,SAASsD,EAAaC,GACpB,OAAO,SAAU/K,GACf,OAAOA,EAAI,GAAKiE,KAAKuB,KAAKxF,EAAG+K,GAAY9G,KAAKuB,IAAIxF,EAAG+K,IAIzD,SAASC,EAAchL,GACrB,OAAOA,EAAI,GAAKiE,KAAKK,MAAMtE,GAAKiE,KAAKK,KAAKtE,GAG5C,SAASiL,EAAgBjL,GACvB,OAAOA,EAAI,GAAKA,EAAIA,EAAIA,EAAIA,EAGvB,SAASkL,EAAOjE,GACrB,IAAIO,EAAQP,EAAU,KAAU,MAC5B8D,EAAW,EAEf,SAASzD,IACP,OAAoB,IAAbyD,EAAiB9D,EAAU,KAAU,MAAyB,KAAb8D,EAAmB9D,EAAU+D,EAAeC,GAAmBhE,EAAU6D,EAAaC,GAAWD,EAAa,EAAIC,IAO5K,OAJAvD,EAAMuD,SAAW,SAAUnD,GACzB,OAAO5D,UAAU7D,QAAU4K,GAAYnD,EAAGN,KAAayD,IAGlD,OAAUvD,GAEJ,SAAShC,IACtB,IAAIgC,EAAQ0D,GAAO,WAOnB,OALA1D,EAAMb,KAAO,WACX,OAAO,QAAKa,EAAOhC,KAAOuF,SAASvD,EAAMuD,aAG3C,UAAgBvD,EAAOxD,WAChBwD,EAEF,SAASlD,IACd,OAAOkB,EAAI2F,MAAM,KAAMnH,WAAW+G,SAAS,mHCvC9B,SAASK,IACtB,IAKIrE,EALAqD,EAAK,EACLC,EAAK,EACLjJ,EAAI,EACJ8E,EAAS,CAAC,IACV9B,EAAQ,CAAC,EAAG,GAGhB,SAASoD,EAAMxH,GACb,OAAY,MAALA,GAAaA,GAAKA,EAAIoE,GAAM,QAAO8B,EAAQlG,EAAG,EAAGoB,IAAM2F,EAGhE,SAASO,IACP,IAAI/G,GAAK,EAGT,IAFA2F,EAAS,IAAIlF,MAAMI,KAEVb,EAAIa,GACX8E,EAAO3F,KAAOA,EAAI,GAAK8J,GAAM9J,EAAIa,GAAKgJ,IAAOhJ,EAAI,GAGnD,OAAOoG,EA8BT,OA3BAA,EAAMtB,OAAS,SAAU0B,GACvB,IAAIyD,EAAMC,EAEV,OAAOtH,UAAU7D,QAAWkL,EAAOzD,EAAG0D,GAAQ,OAAeD,EAAM,GAAIjB,EAAKkB,EAAM,GAAIjB,EAAKiB,EAAM,GAAWlB,GAAMA,EAAIC,GAAMA,EAAI/C,KAAa,CAAC8C,EAAIC,IAGpJ7C,EAAMpD,MAAQ,SAAUwD,GACtB,OAAO5D,UAAU7D,QAAUiB,GAAKgD,EAAQpD,MAAMY,KAAKgG,IAAIzH,OAAS,EAAGmH,KAAalD,EAAM3C,SAGxF+F,EAAM+D,aAAe,SAAU5D,GAC7B,IAAIpH,EAAI6D,EAAMoH,QAAQ7D,GACtB,OAAOpH,EAAI,EAAI,CAAChB,IAAKA,KAAOgB,EAAI,EAAI,CAAC6J,EAAIlE,EAAO,IAAM3F,GAAKa,EAAI,CAAC8E,EAAO9E,EAAI,GAAIiJ,GAAM,CAACnE,EAAO3F,EAAI,GAAI2F,EAAO3F,KAG9GiH,EAAMT,QAAU,SAAUa,GACxB,OAAO5D,UAAU7D,QAAU4G,EAAUa,EAAGJ,GAASA,GAGnDA,EAAMiE,WAAa,WACjB,OAAOvF,EAAOzE,SAGhB+F,EAAMb,KAAO,WACX,OAAOyE,IAAWlF,OAAO,CAACkE,EAAIC,IAAKjG,MAAMA,GAAO2C,QAAQA,IAGnD,WAAgB,OAAUS,GAAQxD,sSC7C3C,SAASgD,IACP,IAEIrD,EACAE,EACA6H,EACAzE,EAGAF,EARAqD,EAAK,EACLC,EAAK,EAKLlC,EAAe,KACfrB,GAAQ,EAGZ,SAASU,EAAMxH,GACb,OAAY,MAALA,GAAagG,MAAMhG,GAAKA,GAAK+G,EAAUoB,EAAqB,IAARuD,EAAY,IAAO1L,GAAKiH,EAAUjH,GAAK2D,GAAM+H,EAAK5E,EAAQ7C,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,EAAGxG,IAAMA,IAiBrJ,SAASoE,EAAM+B,GACb,OAAO,SAAUyB,GACf,IAAI+D,EAAOC,EAEP9G,EAAIE,EACR,OAAOhB,UAAU7D,QAAWwL,EAAQ/D,EAAqC9C,GAAlC8G,GAAQ,OAAeD,EAAO,IAAe,GAAI3G,EAAK4G,EAAM,GAAYzD,EAAehC,EAAYrB,EAAIE,GAAKwC,GAAS,CAACW,EAAa,GAAIA,EAAa,KAW/L,OA9BAX,EAAMtB,OAAS,SAAU0B,GACvB,IAAIyD,EAAMC,EAEV,OAAOtH,UAAU7D,QAAWkL,EAAOzD,EAAG0D,GAAQ,OAAeD,EAAM,GAAIjB,EAAKkB,EAAM,GAAIjB,EAAKiB,EAAM,GAAW3H,EAAKsD,EAAUmD,GAAMA,GAAKvG,EAAKoD,EAAUoD,GAAMA,GAAKqB,EAAM/H,IAAOE,EAAK,EAAI,GAAKA,EAAKF,GAAK6D,GAAS,CAAC4C,EAAIC,IAGrN7C,EAAMV,MAAQ,SAAUc,GACtB,OAAO5D,UAAU7D,QAAU2G,IAAUc,EAAGJ,GAASV,GAGnDU,EAAMW,aAAe,SAAUP,GAC7B,OAAO5D,UAAU7D,QAAUgI,EAAeP,EAAGJ,GAASW,GAYxDX,EAAMpD,MAAQA,EAAM,KACpBoD,EAAMK,WAAazD,EAAM,KAEzBoD,EAAMT,QAAU,SAAUa,GACxB,OAAO5D,UAAU7D,QAAU4G,EAAUa,EAAGJ,GAAST,GAG5C,SAAUQ,GAEf,OADAN,EAAYM,EAAG5D,EAAK4D,EAAE6C,GAAKvG,EAAK0D,EAAE8C,GAAKqB,EAAM/H,IAAOE,EAAK,EAAI,GAAKA,EAAKF,GAChE6D,GAIJ,SAASb,EAAKC,EAAQC,GAC3B,OAAOA,EAAOX,OAAOU,EAAOV,UAAUiC,aAAavB,EAAOuB,gBAAgBrB,MAAMF,EAAOE,SAASC,QAAQH,EAAOG,WAElG,SAAS8E,IACtB,IAAIrE,GAAQ,OAAUR,GAAAA,CAAc,OAMpC,OAJAQ,EAAMb,KAAO,WACX,OAAOA,EAAKa,EAAOqE,MAGd,UAAuBrE,EAAOxD,WAEhC,SAAS8H,IACd,IAAItE,GAAQ,OAAQR,KAAed,OAAO,CAAC,EAAG,KAM9C,OAJAsB,EAAMb,KAAO,WACX,OAAOA,EAAKa,EAAOsE,KAAiBvC,KAAK/B,EAAM+B,SAG1C,UAAuB/B,EAAOxD,WAEhC,SAAS+H,IACd,IAAIvE,GAAQ,OAAUR,KAMtB,OAJAQ,EAAMb,KAAO,WACX,OAAOA,EAAKa,EAAOuE,KAAoBC,SAASxE,EAAMwE,aAGjD,UAAuBxE,EAAOxD,WAEhC,SAASiI,IACd,IAAIzE,GAAQ,QAAOR,KAMnB,OAJAQ,EAAMb,KAAO,WACX,OAAOA,EAAKa,EAAOyE,KAAiBlB,SAASvD,EAAMuD,aAG9C,UAAuBvD,EAAOxD,WAEhC,SAASkI,IACd,OAAOD,EAAcd,MAAM,KAAMnH,WAAW+G,SAAS,iIChGvD,SAASoB,EAAgBC,GACvB,OAAO,SAAUpM,GACf,OAAOiE,KAAKoI,KAAKrM,GAAKiE,KAAKqI,MAAMrI,KAAK0B,IAAI3F,EAAIoM,KAIlD,SAASG,EAAgBH,GACvB,OAAO,SAAUpM,GACf,OAAOiE,KAAKoI,KAAKrM,GAAKiE,KAAKuI,MAAMvI,KAAK0B,IAAI3F,IAAMoM,GAI7C,SAASK,EAAUxF,GACxB,IAAImF,EAAI,EACJ5E,EAAQP,EAAUkF,EAAgBC,GAAIG,EAAgBH,IAM1D,OAJA5E,EAAMwE,SAAW,SAAUpE,GACzB,OAAO5D,UAAU7D,OAAS8G,EAAUkF,EAAgBC,GAAKxE,GAAI2E,EAAgBH,IAAMA,IAG9E,OAAU5E,GAEJ,SAASkF,IACtB,IAAIlF,EAAQiF,GAAU,WAMtB,OAJAjF,EAAMb,KAAO,WACX,OAAO,QAAKa,EAAOkF,KAAUV,SAASxE,EAAMwE,aAGvC,UAAgBxE,EAAOxD,+IC/BjB,SAASqE,EAAWtE,EAAOD,EAAMW,EAAO6D,GACrD,IACIqE,EADAlK,GAAO,QAASsB,EAAOD,EAAMW,GAIjC,QAFA6D,GAAY,OAA6B,MAAbA,EAAoB,KAAOA,IAErCsE,MAChB,IAAK,IAED,IAAI1K,EAAQ+B,KAAKC,IAAID,KAAK0B,IAAI5B,GAAQE,KAAK0B,IAAI7B,IAE/C,OAD2B,MAAvBwE,EAAUqE,WAAsB3G,MAAM2G,GAAY,OAAgBlK,EAAMP,MAASoG,EAAUqE,UAAYA,IACpG,QAAarE,EAAWpG,GAGnC,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAE0B,MAAvBoG,EAAUqE,WAAsB3G,MAAM2G,GAAY,OAAelK,EAAMwB,KAAKC,IAAID,KAAK0B,IAAI5B,GAAQE,KAAK0B,IAAI7B,QAAUwE,EAAUqE,UAAYA,GAAgC,MAAnBrE,EAAUsE,OACrK,MAGJ,IAAK,IACL,IAAK,IAE0B,MAAvBtE,EAAUqE,WAAsB3G,MAAM2G,GAAY,OAAelK,MAAQ6F,EAAUqE,UAAYA,EAAuC,GAAP,MAAnBrE,EAAUsE,OAKhI,OAAO,QAAOtE,wNC3BhB,SAASuE,EAAKtF,GACZ,OAAO,IAAIuF,KAAKvF,GAGlB,SAAS+C,EAAO/C,GACd,OAAOA,aAAauF,MAAQvF,GAAK,IAAIuF,MAAMvF,GAGtC,SAASwF,EAASpI,EAAOqI,EAAcC,EAAMC,EAAOC,EAAMC,EAAKC,EAAMC,EAAQC,EAAQC,GAC1F,IAAIhG,GAAQ,UACRE,EAASF,EAAME,OACfxB,EAASsB,EAAMtB,OACfuH,EAAoBD,EAAO,OAC3BE,EAAeF,EAAO,OACtBG,EAAeH,EAAO,SACtBI,EAAaJ,EAAO,SACpBK,EAAYL,EAAO,SACnBM,EAAaN,EAAO,SACpBO,EAAcP,EAAO,MACrBQ,EAAaR,EAAO,MAExB,SAASnF,EAAWwE,GAClB,OAAQU,EAAOV,GAAQA,EAAOY,EAAoBH,EAAOT,GAAQA,EAAOa,EAAeL,EAAKR,GAAQA,EAAOc,EAAeP,EAAIP,GAAQA,EAAOe,EAAaV,EAAML,GAAQA,EAAOM,EAAKN,GAAQA,EAAOgB,EAAYC,EAAab,EAAKJ,GAAQA,EAAOkB,EAAcC,GAAYnB,GA8B5Q,OA3BArF,EAAME,OAAS,SAAUC,GACvB,OAAO,IAAImF,KAAKpF,EAAOC,KAGzBH,EAAMtB,OAAS,SAAU0B,GACvB,OAAO5D,UAAU7D,OAAS+F,EAAOlF,MAAMY,KAAKgG,EAAG0C,IAAWpE,IAASuB,IAAIoF,IAGzErF,EAAM7C,MAAQ,SAAUwF,GACtB,IAAI9J,EAAI6F,IACR,OAAOvB,EAAMtE,EAAE,GAAIA,EAAEA,EAAEF,OAAS,GAAgB,MAAZgK,EAAmB,GAAKA,IAG9D3C,EAAMa,WAAa,SAAU5D,EAAO6D,GAClC,OAAoB,MAAbA,EAAoBD,EAAamF,EAAOlF,IAGjDd,EAAMe,KAAO,SAAU4B,GACrB,IAAI9J,EAAI6F,IAER,OADKiE,GAAsC,mBAAnBA,EAAS/F,QAAsB+F,EAAW6C,EAAa3M,EAAE,GAAIA,EAAEA,EAAEF,OAAS,GAAgB,MAAZgK,EAAmB,GAAKA,IACvHA,EAAWjE,GAAO,OAAK7F,EAAG8J,IAAa3C,GAGhDA,EAAMb,KAAO,WACX,OAAO,QAAKa,EAAOuF,EAASpI,EAAOqI,EAAcC,EAAMC,EAAOC,EAAMC,EAAKC,EAAMC,EAAQC,EAAQC,KAG1FhG,EAEM,SAASyG,IACtB,OAAO,UAAgBlB,EAAS,KAAW,KAAkB,IAAU,IAAW,KAAU,IAAS,IAAU,IAAY,IAAY,MAAY7G,OAAO,CAAC,IAAI4G,KAAK,IAAM,EAAG,GAAI,IAAIA,KAAK,IAAM,EAAG,KAAM9I,gMCzD5L,SAASkK,IACtB,OAAO,WAAgB,OAAS,KAAU,KAAiB,IAAS,IAAU,KAAS,IAAQ,IAAS,IAAW,IAAW,MAAWhI,OAAO,CAAC4G,KAAKqB,IAAI,IAAM,EAAG,GAAIrB,KAAKqB,IAAI,IAAM,EAAG,KAAMnK,sQCJ1L,SAASoK,KAChB,IAAIC,EAAU,GAGVC,EAAY,EAAID,EAGhBE,EAAM,sBACNC,EAAM,gDACNC,EAAM,iDACNC,EAAQ,qBACRC,EAAe,IAAIC,OAAO,UAAY,CAACL,EAAKA,EAAKA,GAAO,QACxDM,EAAe,IAAID,OAAO,UAAY,CAACH,EAAKA,EAAKA,GAAO,QACxDK,EAAgB,IAAIF,OAAO,WAAa,CAACL,EAAKA,EAAKA,EAAKC,GAAO,QAC/DO,EAAgB,IAAIH,OAAO,WAAa,CAACH,EAAKA,EAAKA,EAAKD,GAAO,QAC/DQ,EAAe,IAAIJ,OAAO,UAAY,CAACJ,EAAKC,EAAKA,GAAO,QACxDQ,EAAgB,IAAIL,OAAO,WAAa,CAACJ,EAAKC,EAAKA,EAAKD,GAAO,QAC/DU,EAAQ,CACVC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAiBf,SAASC,IACP,OAAOtQ,KAAKuQ,MAAMC,YAOpB,SAASC,IACP,OAAOzQ,KAAKuQ,MAAMG,YAGL,SAASC,EAAMpL,GAC5B,IAAIqL,EAAGC,EAEP,OADAtL,GAAUA,EAAS,IAAIuL,OAAOC,eACtBH,EAAInK,EAAMuK,KAAKzL,KAAYsL,EAAID,EAAE,GAAG1Y,OAAQ0Y,EAAIK,SAASL,EAAE,GAAI,IAAW,IAANC,EAAUK,EAAKN,GACnF,IAANC,EAAU,IAAIM,EAAIP,GAAK,EAAI,GAAMA,GAAK,EAAI,IAAMA,GAAK,EAAI,GAAU,IAAJA,GAAe,GAAJA,IAAY,EAAQ,GAAJA,EAAS,GAC7F,IAANC,EAAUO,EAAKR,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAANC,EAAUO,EAAKR,GAAK,GAAK,GAAMA,GAAK,EAAI,IAAMA,GAAK,EAAI,GAAMA,GAAK,EAAI,IAAMA,GAAK,EAAI,GAAU,IAAJA,IAAgB,GAAJA,IAAY,EAAQ,GAAJA,GAAW,KAClI,OACGA,EAAIlK,EAAasK,KAAKzL,IAAW,IAAI4L,EAAIP,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC7DA,EAAIhK,EAAaoK,KAAKzL,IAAW,IAAI4L,EAAW,IAAPP,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAI/J,EAAcmK,KAAKzL,IAAW6L,EAAKR,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAI9J,EAAckK,KAAKzL,IAAW6L,EAAY,IAAPR,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAI7J,EAAaiK,KAAKzL,IAAW8L,EAAKT,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAI5J,EAAcgK,KAAKzL,IAAW8L,EAAKT,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxE3J,EAAMqK,eAAe/L,GAAU2L,EAAKjK,EAAM1B,IAC/B,gBAAXA,EAA2B,IAAI4L,EAAI7Z,IAAKA,IAAKA,IAAK,GAAK,KAG3D,SAAS4Z,EAAK/X,GACZ,OAAO,IAAIgY,EAAIhY,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,GAG1D,SAASiY,EAAK5S,EAAG+S,EAAGla,EAAGD,GAErB,OADIA,GAAK,IAAGoH,EAAI+S,EAAIla,EAAIC,KACjB,IAAI6Z,EAAI3S,EAAG+S,EAAGla,EAAGD,GAGnB,SAASoa,EAAW9Y,GAEzB,OADMA,aAAayN,IAAQzN,EAAIiY,EAAMjY,IAChCA,EAEE,IAAIyY,GADXzY,EAAIA,EAAE6X,OACW/R,EAAG9F,EAAE6Y,EAAG7Y,EAAErB,EAAGqB,EAAE+Y,SAFjB,IAAIN,EAId,SAASZ,EAAI/R,EAAG+S,EAAGla,EAAGoa,GAC3B,OAA4B,IAArB1V,UAAU7D,OAAesZ,EAAWhT,GAAK,IAAI2S,EAAI3S,EAAG+S,EAAGla,EAAc,MAAXoa,EAAkB,EAAIA,GAElF,SAASN,EAAI3S,EAAG+S,EAAGla,EAAGoa,GAC3BzR,KAAKxB,GAAKA,EACVwB,KAAKuR,GAAKA,EACVvR,KAAK3I,GAAKA,EACV2I,KAAKyR,SAAWA,EAwBlB,SAASC,IACP,MAAO,IAAMC,EAAI3R,KAAKxB,GAAKmT,EAAI3R,KAAKuR,GAAKI,EAAI3R,KAAK3I,GAGpD,SAASua,IACP,IAAIxa,EAAI4I,KAAKyR,QAEb,OAAc,KADdra,EAAI2G,MAAM3G,GAAK,EAAI4E,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,EAAGnH,KACzB,OAAS,SAAW4E,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,IAAKvC,KAAKc,MAAMkD,KAAKxB,IAAM,IAAM,KAAOxC,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,IAAKvC,KAAKc,MAAMkD,KAAKuR,IAAM,IAAM,KAAOvV,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,IAAKvC,KAAKc,MAAMkD,KAAK3I,IAAM,KAAa,IAAND,EAAU,IAAM,KAAOA,EAAI,KAGpP,SAASua,EAAI1X,GAEX,QADAA,EAAQ+B,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,IAAKvC,KAAKc,MAAM7C,IAAU,KACvC,GAAK,IAAM,IAAMA,EAAMX,SAAS,IAGlD,SAAS+X,EAAKQ,EAAG9X,EAAG8W,EAAGzZ,GAErB,OADIA,GAAK,EAAGya,EAAI9X,EAAI8W,EAAIvZ,IAAauZ,GAAK,GAAKA,GAAK,EAAGgB,EAAI9X,EAAIzC,IAAayC,GAAK,IAAG8X,EAAIva,KACjF,IAAIwa,EAAID,EAAG9X,EAAG8W,EAAGzZ,GAGnB,SAAS2a,EAAWrZ,GACzB,GAAIA,aAAaoZ,EAAK,OAAO,IAAIA,EAAIpZ,EAAEmZ,EAAGnZ,EAAEqB,EAAGrB,EAAEmY,EAAGnY,EAAE+Y,SAEtD,GADM/Y,aAAayN,IAAQzN,EAAIiY,EAAMjY,KAChCA,EAAG,OAAO,IAAIoZ,EACnB,GAAIpZ,aAAaoZ,EAAK,OAAOpZ,EAE7B,IAAI8F,GADJ9F,EAAIA,EAAE6X,OACI/R,EAAI,IACV+S,EAAI7Y,EAAE6Y,EAAI,IACVla,EAAIqB,EAAErB,EAAI,IACVkH,EAAMvC,KAAKuC,IAAIC,EAAG+S,EAAGla,GACrB4E,EAAMD,KAAKC,IAAIuC,EAAG+S,EAAGla,GACrBwa,EAAIva,IACJyC,EAAIkC,EAAMsC,EACVsS,GAAK5U,EAAMsC,GAAO,EAUtB,OARIxE,GACa8X,EAAXrT,IAAMvC,GAAUsV,EAAIla,GAAK0C,EAAc,GAATwX,EAAIla,GAAgBka,IAAMtV,GAAU5E,EAAImH,GAAKzE,EAAI,GAAYyE,EAAI+S,GAAKxX,EAAI,EAC5GA,GAAK8W,EAAI,GAAM5U,EAAMsC,EAAM,EAAItC,EAAMsC,EACrCsT,GAAK,IAEL9X,EAAI8W,EAAI,GAAKA,EAAI,EAAI,EAAIgB,EAGpB,IAAIC,EAAID,EAAG9X,EAAG8W,EAAGnY,EAAE+Y,SAErB,SAASO,EAAIH,EAAG9X,EAAG8W,EAAGY,GAC3B,OAA4B,IAArB1V,UAAU7D,OAAe6Z,EAAWF,GAAK,IAAIC,EAAID,EAAG9X,EAAG8W,EAAc,MAAXY,EAAkB,EAAIA,GAGzF,SAASK,EAAID,EAAG9X,EAAG8W,EAAGY,GACpBzR,KAAK6R,GAAKA,EACV7R,KAAKjG,GAAKA,EACViG,KAAK6Q,GAAKA,EACV7Q,KAAKyR,SAAWA,EA+BlB,SAASQ,EAAQJ,EAAGK,EAAIC,GACtB,OAA4G,KAApGN,EAAI,GAAKK,GAAMC,EAAKD,GAAML,EAAI,GAAKA,EAAI,IAAMM,EAAKN,EAAI,IAAMK,GAAMC,EAAKD,IAAO,IAAML,GAAK,GAAKK,IAhLxG,OAAO/L,EAAOwK,EAAO,CACnBjS,KAAM,SAAc0T,GAClB,OAAOhZ,OAAOiZ,OAAO,IAAIrS,KAAKvG,YAAeuG,KAAMoS,IAErDE,YAAa,WACX,OAAOtS,KAAKuQ,MAAM+B,eAEpBX,IAAKrB,EAELE,UAAWF,EACXiC,UASF,WACE,OAAOR,EAAW/R,MAAMuS,aATxB7B,UAAWD,EACXnX,SAAUmX,KAyDZ,OAAOU,EAAKZ,GAAK,OAAOpK,EAAO,CAC7BqM,SAAU,SAAkB1Q,GAE1B,OADAA,EAAS,MAALA,EAAYuE,EAAYrK,KAAKuB,IAAI8I,EAAWvE,GACzC,IAAIqP,EAAInR,KAAKxB,EAAIsD,EAAG9B,KAAKuR,EAAIzP,EAAG9B,KAAK3I,EAAIyK,EAAG9B,KAAKyR,UAE1DgB,OAAQ,SAAgB3Q,GAEtB,OADAA,EAAS,MAALA,EAAYsE,EAAUpK,KAAKuB,IAAI6I,EAAStE,GACrC,IAAIqP,EAAInR,KAAKxB,EAAIsD,EAAG9B,KAAKuR,EAAIzP,EAAG9B,KAAK3I,EAAIyK,EAAG9B,KAAKyR,UAE1DlB,IAAK,WACH,OAAOvQ,MAETsS,YAAa,WACX,OAAQ,IAAOtS,KAAKxB,GAAKwB,KAAKxB,EAAI,QAAU,IAAOwB,KAAKuR,GAAKvR,KAAKuR,EAAI,QAAU,IAAOvR,KAAK3I,GAAK2I,KAAK3I,EAAI,OAAS,GAAK2I,KAAKyR,SAAWzR,KAAKyR,SAAW,GAE1JE,IAAKD,EAELlB,UAAWkB,EACXhB,UAAWkB,EACXtY,SAAUsY,MA2DZ,OAAOE,EAAKE,GAAK,OAAO7L,EAAO,CAC7BqM,SAAU,SAAkB1Q,GAE1B,OADAA,EAAS,MAALA,EAAYuE,EAAYrK,KAAKuB,IAAI8I,EAAWvE,GACzC,IAAIgQ,EAAI9R,KAAK6R,EAAG7R,KAAKjG,EAAGiG,KAAK6Q,EAAI/O,EAAG9B,KAAKyR,UAElDgB,OAAQ,SAAgB3Q,GAEtB,OADAA,EAAS,MAALA,EAAYsE,EAAUpK,KAAKuB,IAAI6I,EAAStE,GACrC,IAAIgQ,EAAI9R,KAAK6R,EAAG7R,KAAKjG,EAAGiG,KAAK6Q,EAAI/O,EAAG9B,KAAKyR,UAElDlB,IAAK,WACH,IAAIsB,EAAI7R,KAAK6R,EAAI,IAAqB,KAAd7R,KAAK6R,EAAI,GAC7B9X,EAAIgE,MAAM8T,IAAM9T,MAAMiC,KAAKjG,GAAK,EAAIiG,KAAKjG,EACzC8W,EAAI7Q,KAAK6Q,EACTsB,EAAKtB,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAK9W,EACjCmY,EAAK,EAAIrB,EAAIsB,EACjB,OAAO,IAAIhB,EAAIc,EAAQJ,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKK,EAAIC,GAAKF,EAAQJ,EAAGK,EAAIC,GAAKF,EAAQJ,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKK,EAAIC,GAAKnS,KAAKyR,UAEvIa,YAAa,WACX,OAAQ,GAAKtS,KAAKjG,GAAKiG,KAAKjG,GAAK,GAAKgE,MAAMiC,KAAKjG,KAAO,GAAKiG,KAAK6Q,GAAK7Q,KAAK6Q,GAAK,GAAK,GAAK7Q,KAAKyR,SAAWzR,KAAKyR,SAAW,GAE7Hc,UAAW,WACT,IAAInb,EAAI4I,KAAKyR,QAEb,OAAc,KADdra,EAAI2G,MAAM3G,GAAK,EAAI4E,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,EAAGnH,KACzB,OAAS,UAAY4I,KAAK6R,GAAK,GAAK,KAAuB,KAAf7R,KAAKjG,GAAK,GAAW,MAAwB,KAAfiG,KAAK6Q,GAAK,GAAW,KAAa,IAANzZ,EAAU,IAAM,KAAOA,EAAI,4CClVxI,SAAS,EAACqC,EAAaiZ,EAASrZ,GAC7CI,EAAYJ,UAAYqZ,EAAQrZ,UAAYA,EAC5CA,EAAUI,YAAcA,EAEnB,SAASkZ,EAAOC,EAAQC,GAC7B,IAAIxZ,EAAYD,OAAO0Z,OAAOF,EAAOvZ,WAErC,IAAK,IAAIoJ,KAAOoQ,EACdxZ,EAAUoJ,GAAOoQ,EAAWpQ,GAG9B,OAAOpJ,yJCVL0Z,EACOxN,EACAyN,EAM2BH,WAAAA,EALxB,CACZI,UAAW,IACXC,SAAU,CAAC,GACXC,SAAU,CAAC,IAAK,KAGhBJ,GAAS,OAAaF,GACtBtN,EAASwN,EAAOxN,OAChByN,EAAeD,EAAOC,8FCXT,SAAS,EAACjb,GACvB,OAAOA,GAAI,OAAmBiE,KAAK0B,IAAI3F,KAASA,EAAE,GAAKT,wCCF1C,SAAS,EAACS,GACvB,OAAOiE,KAAK0B,IAAI3F,EAAIiE,KAAKc,MAAM/E,KAAO,KAAOA,EAAEqb,eAAe,MAAMC,QAAQ,KAAM,IAAMtb,EAAEuB,SAAS,IAK9F,SAASga,EAAmBvb,EAAG8J,GACpC,IAAKvJ,GAAKP,EAAI8J,EAAI9J,EAAEwb,cAAc1R,EAAI,GAAK9J,EAAEwb,iBAAiBhQ,QAAQ,MAAQ,EAAG,OAAO,KAExF,IAAIjL,EACAkb,EAAczb,EAAEyB,MAAM,EAAGlB,GAG7B,MAAO,CAACkb,EAAYtb,OAAS,EAAIsb,EAAY,GAAKA,EAAYha,MAAM,GAAKga,GAAczb,EAAEyB,MAAMlB,EAAI,8HCZrG,IAAImb,EAAK,2EACM,SAASC,EAAgBrT,GACtC,KAAMsT,EAAQF,EAAGzC,KAAK3Q,IAAa,MAAM,IAAIuT,MAAM,mBAAqBvT,GACxE,IAAIsT,EACJ,OAAO,IAAIE,EAAgB,CACzBC,KAAMH,EAAM,GACZI,MAAOJ,EAAM,GACbvP,KAAMuP,EAAM,GACZK,OAAQL,EAAM,GACdM,KAAMN,EAAM,GACZO,MAAOP,EAAM,GACbQ,MAAOR,EAAM,GACbjP,UAAWiP,EAAM,IAAMA,EAAM,GAAGna,MAAM,GACtCsX,KAAM6C,EAAM,GACZhP,KAAMgP,EAAM,MAKT,SAASE,EAAgBxT,GAC9BL,KAAK8T,UAA0BrY,IAAnB4E,EAAUyT,KAAqB,IAAMzT,EAAUyT,KAAO,GAClE9T,KAAK+T,WAA4BtY,IAApB4E,EAAU0T,MAAsB,IAAM1T,EAAU0T,MAAQ,GACrE/T,KAAKoE,UAA0B3I,IAAnB4E,EAAU+D,KAAqB,IAAM/D,EAAU+D,KAAO,GAClEpE,KAAKgU,YAA8BvY,IAArB4E,EAAU2T,OAAuB,GAAK3T,EAAU2T,OAAS,GACvEhU,KAAKiU,OAAS5T,EAAU4T,KACxBjU,KAAKkU,WAA4BzY,IAApB4E,EAAU6T,WAAsBzY,GAAa4E,EAAU6T,MACpElU,KAAKmU,QAAU9T,EAAU8T,MACzBnU,KAAK0E,eAAoCjJ,IAAxB4E,EAAUqE,eAA0BjJ,GAAa4E,EAAUqE,UAC5E1E,KAAK8Q,OAASzQ,EAAUyQ,KACxB9Q,KAAK2E,UAA0BlJ,IAAnB4E,EAAUsE,KAAqB,GAAKtE,EAAUsE,KAAO,GAZnE+O,EAAgBra,UAAYwa,EAAgBxa,UAe5Cwa,EAAgBxa,UAAUC,SAAW,WACnC,OAAO0G,KAAK8T,KAAO9T,KAAK+T,MAAQ/T,KAAKoE,KAAOpE,KAAKgU,QAAUhU,KAAKiU,KAAO,IAAM,UAAsBxY,IAAfuE,KAAKkU,MAAsB,GAAKlY,KAAKC,IAAI,EAAgB,EAAb+D,KAAKkU,SAAelU,KAAKmU,MAAQ,IAAM,UAA0B1Y,IAAnBuE,KAAK0E,UAA0B,GAAK,IAAM1I,KAAKC,IAAI,EAAoB,EAAjB+D,KAAK0E,aAAmB1E,KAAK8Q,KAAO,IAAM,IAAM9Q,KAAK2E,wGCjChRyP,YCAI,SAAS,EAACrc,EAAG8J,GAC1B,IAAIzJ,GAAI,EAAAic,EAAA,GAAmBtc,EAAG8J,GAC9B,IAAKzJ,EAAG,OAAOL,EAAI,GACnB,IAAIyb,EAAcpb,EAAE,GAChB0K,EAAW1K,EAAE,GACjB,OAAO0K,EAAW,EAAI,KAAO,IAAI/J,OAAO+J,GAAUwR,KAAK,KAAOd,EAAcA,EAAYtb,OAAS4K,EAAW,EAAI0Q,EAAYha,MAAM,EAAGsJ,EAAW,GAAK,IAAM0Q,EAAYha,MAAMsJ,EAAW,GAAK0Q,EAAc,IAAIza,MAAM+J,EAAW0Q,EAAYtb,OAAS,GAAGoc,KAAK,KCH/P,OACE,IAAK,SAAWvc,EAAG8J,GACjB,OAAY,IAAJ9J,GAASwc,QAAQ1S,IAE3B,EAAK,SAAW9J,GACd,OAAOiE,KAAKc,MAAM/E,GAAGuB,SAAS,IAEhC,EAAK,SAAWvB,GACd,OAAOA,EAAI,IAEb,EAAKsc,EAAA,EACL,EAAK,SAAWtc,EAAG8J,GACjB,OAAO9J,EAAEwb,cAAc1R,IAEzB,EAAK,SAAW9J,EAAG8J,GACjB,OAAO9J,EAAEwc,QAAQ1S,IAEnB,EAAK,SAAW9J,EAAG8J,GACjB,OAAO9J,EAAEyc,YAAY3S,IAEvB,EAAK,SAAW9J,GACd,OAAOiE,KAAKc,MAAM/E,GAAGuB,SAAS,IAEhC,EAAK,SAAWvB,EAAG0c,GACjB,OAAOC,EAAkB,IAAJ3c,EAAS0c,IAEhC,EAAKC,EACL,EF5Ba,SAAU3c,EAAG8J,GAC1B,IAAIzJ,GAAI,EAAAic,EAAA,GAAmBtc,EAAG8J,GAC9B,IAAKzJ,EAAG,OAAOL,EAAI,GACnB,IAAIyb,EAAcpb,EAAE,GAChB0K,EAAW1K,EAAE,GACbE,EAAIwK,GAAYsR,EAAuE,EAAtDpY,KAAKC,KAAK,EAAGD,KAAKuC,IAAI,EAAGvC,KAAKmB,MAAM2F,EAAW,MAAY,EAC5F3J,EAAIqa,EAAYtb,OACpB,OAAOI,IAAMa,EAAIqa,EAAclb,EAAIa,EAAIqa,EAAc,IAAIza,MAAMT,EAAIa,EAAI,GAAGmb,KAAK,KAAOhc,EAAI,EAAIkb,EAAYha,MAAM,EAAGlB,GAAK,IAAMkb,EAAYha,MAAMlB,GAAK,KAAO,IAAIS,MAAM,EAAIT,GAAGgc,KAAK,MAAO,EAAAD,EAAA,GAAmBtc,EAAGiE,KAAKC,IAAI,EAAG4F,EAAIvJ,EAAI,IAAI,IEsBvO,EAAK,SAAWP,GACd,OAAOiE,KAAKc,MAAM/E,GAAGuB,SAAS,IAAIqb,eAEpC,EAAK,SAAWC,GACd,OAAO5Y,KAAKc,MAAM8X,GAAItb,SAAS,MCnCpB,SAAS,EAACvB,GACvB,OAAOA,ECOT,IAAIyH,EAAMzG,MAAMM,UAAUmG,IACtBqV,EAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAChF,SAAS,EAAC9B,GACvB,ICXuBG,EAAUD,EDW7B6B,OAA4BrZ,IAApBsX,EAAOG,eAA+CzX,IAArBsX,EAAOE,UAA0BpV,GCXvDqV,EDW8E1T,EAAIjG,KAAKwZ,EAAOG,SAAU6B,QCX9F9B,EDWuGF,EAAOE,UAAY,GCVpJ,SAAUhZ,EAAOia,GAOtB,IANA,IAAI5b,EAAI2B,EAAM/B,OACVoH,EAAI,GACJhB,EAAI,EACJiT,EAAI2B,EAAS,GACbhb,EAAS,EAENI,EAAI,GAAKiZ,EAAI,IACdrZ,EAASqZ,EAAI,EAAI2C,IAAO3C,EAAIvV,KAAKC,IAAI,EAAGiY,EAAQhc,IACpDoH,EAAE0C,KAAK/H,EAAM+a,UAAU1c,GAAKiZ,EAAGjZ,EAAIiZ,OAC9BrZ,GAAUqZ,EAAI,GAAK2C,KACxB3C,EAAI2B,EAAS5U,GAAKA,EAAI,GAAK4U,EAAShb,QAGtC,OAAOoH,EAAE7C,UAAU6X,KAAKrB,KDHtBgC,OAAqCxZ,IAApBsX,EAAOI,SAAyB,GAAKJ,EAAOI,SAAS,GAAK,GAC3E+B,OAAqCzZ,IAApBsX,EAAOI,SAAyB,GAAKJ,EAAOI,SAAS,GAAK,GAC3EgC,OAA6B1Z,IAAnBsX,EAAOoC,QAAwB,IAAMpC,EAAOoC,QAAU,GAChEC,OAA+B3Z,IAApBsX,EAAOqC,SAAyBvX,EEflC,SAAUuX,GACvB,OAAO,SAAUnb,GACf,OAAOA,EAAMoZ,QAAQ,UAAU,SAAU/a,GACvC,OAAO8c,GAAU9c,OFYqC+c,CAAe7V,EAAIjG,KAAKwZ,EAAOqC,SAAUE,SAC/FC,OAA6B9Z,IAAnBsX,EAAOwC,QAAwB,IAAMxC,EAAOwC,QAAU,GAChEC,OAAyB/Z,IAAjBsX,EAAOyC,MAAsB,IAAMzC,EAAOyC,MAAQ,GAC1DC,OAAqBha,IAAfsX,EAAO0C,IAAoB,MAAQ1C,EAAO0C,IAAM,GAE1D,SAASC,EAAUrV,GAEjB,IAAIyT,GADJzT,GAAY,EAAAqT,EAAA,GAAgBrT,IACPyT,KACjBC,EAAQ1T,EAAU0T,MAClB3P,EAAO/D,EAAU+D,KACjB4P,EAAS3T,EAAU2T,OACnBC,EAAO5T,EAAU4T,KACjBC,EAAQ7T,EAAU6T,MAClBC,EAAQ9T,EAAU8T,MAClBzP,EAAYrE,EAAUqE,UACtBoM,EAAOzQ,EAAUyQ,KACjBnM,EAAOtE,EAAUsE,KAER,MAATA,GAAcwP,GAAQ,EAAMxP,EAAO,KAC7BgR,EAAYhR,UAAqBlJ,IAAdiJ,IAA4BA,EAAY,IAAKoM,GAAO,EAAMnM,EAAO,MAE1FsP,GAAiB,MAATH,GAA0B,MAAVC,KAAeE,GAAO,EAAMH,EAAO,IAAKC,EAAQ,KAG5E,IAAI6B,EAAoB,MAAX5B,EAAiBiB,EAA4B,MAAXjB,GAAkB,SAASpa,KAAK+K,GAAQ,IAAMA,EAAKoM,cAAgB,GAC9G8E,EAAoB,MAAX7B,EAAiBkB,EAAiB,OAAOtb,KAAK+K,GAAQ4Q,EAAU,GAIzEO,EAAaH,EAAYhR,GACzBoR,EAAc,aAAanc,KAAK+K,GAOpC,SAASY,EAAOtL,GACd,IAEI3B,EACAa,EACAgL,EAJA6R,EAAcJ,EACdK,EAAcJ,EAKlB,GAAa,MAATlR,EACFsR,EAAcH,EAAW7b,GAASgc,EAClChc,EAAQ,OACH,CAGL,IAAIic,GAFJjc,GAASA,GAEmB,GAAK,EAAIA,EAAQ,EAY7C,GAVAA,EAAQ8D,MAAM9D,GAASwb,EAAMK,EAAW9Z,KAAK0B,IAAIzD,GAAQyK,GAErDoM,IAAM7W,EGpEH,SAAUF,GACvBoc,EAAK,IAAK,IAAkC1V,EAA9BtH,EAAIY,EAAE7B,OAAQI,EAAI,EAAGkI,GAAM,EAAOlI,EAAIa,IAAKb,EACvD,OAAQyB,EAAEzB,IACR,IAAK,IACHkI,EAAKC,EAAKnI,EACV,MAEF,IAAK,IACQ,IAAPkI,IAAUA,EAAKlI,GACnBmI,EAAKnI,EACL,MAEF,QACE,KAAMyB,EAAEzB,GAAI,MAAM6d,EACd3V,EAAK,IAAGA,EAAK,GAKvB,OAAOA,EAAK,EAAIzG,EAAEP,MAAM,EAAGgH,GAAMzG,EAAEP,MAAMiH,EAAK,GAAK1G,EHiD3Bqc,CAAWnc,IAEzBic,GAA4B,IAAVjc,GAAwB,MAATmK,IAAc8R,GAAgB,GAEnEF,GAAeE,EAAyB,MAAT9R,EAAeA,EAAOoR,EAAiB,MAATpR,GAAyB,MAATA,EAAe,GAAKA,GAAQ4R,EACzGC,GAAwB,MAATtR,EAAekQ,EAAS,EAAIT,EAAiB,GAAK,IAAM6B,GAAeC,GAA0B,MAAT9R,EAAe,IAAM,IAGxH2R,EAGF,IAFAzd,GAAK,EAAGa,EAAIc,EAAM/B,SAETI,EAAIa,GACX,GAA6B,IAAzBgL,EAAIlK,EAAMoc,WAAW/d,KAAc6L,EAAI,GAAI,CAC7C8R,GAAqB,KAAN9R,EAAWgR,EAAUlb,EAAMT,MAAMlB,EAAI,GAAK2B,EAAMT,MAAMlB,IAAM2d,EAC3Ehc,EAAQA,EAAMT,MAAM,EAAGlB,GACvB,OAOJ6b,IAAUF,IAAMha,EAAQ6a,EAAM7a,EAAOgI,EAAAA,IAEzC,IAAI/J,EAAS8d,EAAY9d,OAAS+B,EAAM/B,OAAS+d,EAAY/d,OACzDoe,EAAUpe,EAASgc,EAAQ,IAAInb,MAAMmb,EAAQhc,EAAS,GAAGoc,KAAKR,GAAQ,GAI1E,OAFIK,GAASF,IAAMha,EAAQ6a,EAAMwB,EAAUrc,EAAOqc,EAAQpe,OAASgc,EAAQ+B,EAAY/d,OAAS+J,EAAAA,GAAWqU,EAAU,IAE7GvC,GACN,IAAK,IACH9Z,EAAQ+b,EAAc/b,EAAQgc,EAAcK,EAC5C,MAEF,IAAK,IACHrc,EAAQ+b,EAAcM,EAAUrc,EAAQgc,EACxC,MAEF,IAAK,IACHhc,EAAQqc,EAAQ9c,MAAM,EAAGtB,EAASoe,EAAQpe,QAAU,GAAK8d,EAAc/b,EAAQgc,EAAcK,EAAQ9c,MAAMtB,GAC3G,MAEF,QACE+B,EAAQqc,EAAUN,EAAc/b,EAAQgc,EAI5C,OAAOb,EAASnb,GAOlB,OAzEAyK,OAA0BjJ,IAAdiJ,EAA0B,EAAI,SAAS9K,KAAK+K,GAAQ3I,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,GAAImG,IAAc1I,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,GAAImG,IAqEhIa,EAAOjM,SAAW,WAChB,OAAO+G,EAAY,IAGdkF,EAaT,MAAO,CACLA,OAAQmQ,EACR1C,aAZF,SAAsB3S,EAAWpG,GAC/B,IAAIrC,EAAI8d,IAAWrV,GAAY,EAAAqT,EAAA,GAAgBrT,IAAsBsE,KAAO,IAAKtE,IAC7EnG,EAAiE,EAA7D8B,KAAKC,KAAK,EAAGD,KAAKuC,IAAI,EAAGvC,KAAKmB,OAAM,EAAA2F,EAAA,GAAS7I,GAAS,KAC1D6H,EAAI9F,KAAKuB,IAAI,IAAKrD,GAClB0b,EAASf,EAAS,EAAI3a,EAAI,GAC9B,OAAO,SAAUD,GACf,OAAOrC,EAAEkK,EAAI7H,GAAS2b,uFInIb,SAAS,EAACpb,GACvB,OAAOwB,KAAKC,IAAI,IAAI,OAASD,KAAK0B,IAAIlD,uFCDzB,SAAS,EAACA,EAAMP,GAC7B,OAAO+B,KAAKC,IAAI,EAAgE,EAA7DD,KAAKC,KAAK,EAAGD,KAAKuC,IAAI,EAAGvC,KAAKmB,OAAM,OAASlD,GAAS,MAAW,OAAS+B,KAAK0B,IAAIlD,uFCDzF,SAAS,EAACA,EAAMyB,GAE7B,OADAzB,EAAOwB,KAAK0B,IAAIlD,GAAOyB,EAAMD,KAAK0B,IAAIzB,GAAOzB,EACtCwB,KAAKC,IAAI,GAAG,OAASA,IAAO,OAASzB,IAAS,qHCDxC,SAAS,EAACpD,EAAGC,GAC1B,QAAQ,OAAcA,GAAK,IAAckf,GAAcnf,EAAGC,GAErD,SAASkf,EAAanf,EAAGC,GAC9B,IAIIiB,EAJAke,EAAKnf,EAAIA,EAAEa,OAAS,EACpBue,EAAKrf,EAAI4E,KAAKuC,IAAIiY,EAAIpf,EAAEc,QAAU,EAClCH,EAAI,IAAIgB,MAAM0d,GACdtS,EAAI,IAAIpL,MAAMyd,GAGlB,IAAKle,EAAI,EAAGA,EAAIme,IAAMne,EACpBP,EAAEO,IAAK,OAAMlB,EAAEkB,GAAIjB,EAAEiB,IAGvB,KAAOA,EAAIke,IAAMle,EACf6L,EAAE7L,GAAKjB,EAAEiB,GAGX,OAAO,SAAUgH,GACf,IAAKhH,EAAI,EAAGA,EAAIme,IAAMne,EACpB6L,EAAE7L,GAAKP,EAAEO,GAAGgH,GAGd,OAAO6E,uCCzBJ,SAASuS,EAAM9a,EAAI+a,EAAIC,EAAIC,EAAIC,GACpC,IAAIC,EAAKnb,EAAKA,EACVob,EAAKD,EAAKnb,EACd,QAAS,EAAI,EAAIA,EAAK,EAAImb,EAAKC,GAAML,GAAM,EAAI,EAAII,EAAK,EAAIC,GAAMJ,GAAM,EAAI,EAAIhb,EAAK,EAAImb,EAAK,EAAIC,GAAMH,EAAKG,EAAKF,GAAM,EAE3G,SAAS,EAAC/b,GACvB,IAAI5B,EAAI4B,EAAO7C,OAAS,EACxB,OAAO,SAAUoH,GACf,IAAIhH,EAAIgH,GAAK,EAAIA,EAAI,EAAIA,GAAK,GAAKA,EAAI,EAAGnG,EAAI,GAAK6C,KAAKmB,MAAMmC,EAAInG,GAC9Dyd,EAAK7b,EAAOzC,GACZue,EAAK9b,EAAOzC,EAAI,GAChBqe,EAAKre,EAAI,EAAIyC,EAAOzC,EAAI,GAAK,EAAIse,EAAKC,EACtCC,EAAKxe,EAAIa,EAAI,EAAI4B,EAAOzC,EAAI,GAAK,EAAIue,EAAKD,EAC9C,OAAOF,GAAOpX,EAAIhH,EAAIa,GAAKA,EAAGwd,EAAIC,EAAIC,EAAIC,4ICZ/B,SAAS,EAAC/b,GACvB,IAAI5B,EAAI4B,EAAO7C,OACf,OAAO,SAAUoH,GACf,IAAIhH,EAAI0D,KAAKmB,QAAQmC,GAAK,GAAK,IAAMA,EAAIA,GAAKnG,GAC1Cwd,EAAK5b,GAAQzC,EAAIa,EAAI,GAAKA,GAC1Byd,EAAK7b,EAAOzC,EAAIa,GAChB0d,EAAK9b,GAAQzC,EAAI,GAAKa,GACtB2d,EAAK/b,GAAQzC,EAAI,GAAKa,GAC1B,OAAO,QAAOmG,EAAIhH,EAAIa,GAAKA,EAAGwd,EAAIC,EAAIC,EAAIC,uICP9C,SAASnW,EAAOvJ,EAAGgB,GACjB,OAAO,SAAUkH,GACf,OAAOlI,EAAIkI,EAAIlH,GAUZ,SAAS6e,EAAI7f,EAAGC,GACrB,IAAIe,EAAIf,EAAID,EACZ,OAAOgB,EAAIuI,EAAOvJ,EAAGgB,EAAI,KAAOA,GAAK,IAAMA,EAAI,IAAM4D,KAAKc,MAAM1E,EAAI,KAAOA,IAAK,OAAS2F,MAAM3G,GAAKC,EAAID,GAEnG,SAAS8f,EAAMxX,GACpB,OAAoB,IAAZA,GAAKA,GAAWyX,EAAU,SAAU/f,EAAGC,GAC7C,OAAOA,EAAID,EAZf,SAAqBA,EAAGC,EAAGqI,GACzB,OAAOtI,EAAI4E,KAAKuB,IAAInG,EAAGsI,GAAIrI,EAAI2E,KAAKuB,IAAIlG,EAAGqI,GAAKtI,EAAGsI,EAAI,EAAIA,EAAG,SAAUJ,GACtE,OAAOtD,KAAKuB,IAAInG,EAAIkI,EAAIjI,EAAGqI,IAUZ0X,CAAYhgB,EAAGC,EAAGqI,IAAK,OAAS3B,MAAM3G,GAAKC,EAAID,IAGnD,SAAS+f,EAAQ/f,EAAGC,GACjC,IAAIe,EAAIf,EAAID,EACZ,OAAOgB,EAAIuI,EAAOvJ,EAAGgB,IAAK,OAAS2F,MAAM3G,GAAKC,EAAID,qCCzBpD,aAA0BW,GACxB,OAAO,WACL,OAAOA,uCCFI,SAAS,EAACX,EAAGC,GAC1B,IAAIe,EAAI,IAAIyM,KACZ,OAAOzN,GAAKA,EAAGC,GAAKA,EAAG,SAAUiI,GAC/B,OAAOlH,EAAEif,QAAQjgB,GAAK,EAAIkI,GAAKjI,EAAIiI,GAAIlH,sECH5B,SAAS,EAAChB,EAAGC,GAC1B,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAAUiI,GAC/B,OAAOlI,GAAK,EAAIkI,GAAKjI,EAAIiI,sECFd,SAAS,EAAClI,EAAGC,GACrBA,IAAGA,EAAI,IACZ,IAEIiB,EAFAa,EAAI/B,EAAI4E,KAAKuC,IAAIlH,EAAEa,OAAQd,EAAEc,QAAU,EACvCiM,EAAI9M,EAAEmC,QAEV,OAAO,SAAU8F,GACf,IAAKhH,EAAI,EAAGA,EAAIa,IAAKb,EACnB6L,EAAE7L,GAAKlB,EAAEkB,IAAM,EAAIgH,GAAKjI,EAAEiB,GAAKgH,EAGjC,OAAO6E,GAGJ,SAASmT,EAAcvf,GAC5B,OAAOwf,YAAYC,OAAOzf,MAAQA,aAAa0f,kJCblC,SAAS,EAACrgB,EAAGC,GAC1B,IAEIyK,EAFAxJ,EAAI,GACJ6L,EAAI,GAKR,IAAKrC,KAHK,OAAN1K,GAA2B,iBAANA,IAAgBA,EAAI,IACnC,OAANC,GAA2B,iBAANA,IAAgBA,EAAI,IAEnCA,EACJyK,KAAK1K,EACPkB,EAAEwJ,IAAK,OAAM1K,EAAE0K,GAAIzK,EAAEyK,IAErBqC,EAAErC,GAAKzK,EAAEyK,GAIb,OAAO,SAAUxC,GACf,IAAKwC,KAAKxJ,EACR6L,EAAErC,GAAKxJ,EAAEwJ,GAAGxC,GAGd,OAAO6E,4ICIX,SAASuT,EAAUC,GACjB,OAAO,SAAUC,GACf,IAIItf,EACAqY,EALAxX,EAAIye,EAAO1f,OACXsG,EAAI,IAAIzF,MAAMI,GACdoY,EAAI,IAAIxY,MAAMI,GACd9B,EAAI,IAAI0B,MAAMI,GAIlB,IAAKb,EAAI,EAAGA,EAAIa,IAAKb,EACnBqY,GAAQ,QAASiH,EAAOtf,IACxBkG,EAAElG,GAAKqY,EAAMnS,GAAK,EAClB+S,EAAEjZ,GAAKqY,EAAMY,GAAK,EAClBla,EAAEiB,GAAKqY,EAAMtZ,GAAK,EAOpB,OAJAmH,EAAImZ,EAAOnZ,GACX+S,EAAIoG,EAAOpG,GACXla,EAAIsgB,EAAOtgB,GACXsZ,EAAMc,QAAU,EACT,SAAUnS,GAIf,OAHAqR,EAAMnS,EAAIA,EAAEc,GACZqR,EAAMY,EAAIA,EAAEjS,GACZqR,EAAMtZ,EAAIA,EAAEiI,GACLqR,EAAQ,KA7CrB,KAAe,SAAUkH,EAASnY,GAChC,IAAIiR,GAAQ,QAAMjR,GAElB,SAAS6Q,EAAIzU,EAAOgc,GAClB,IAAItZ,EAAImS,GAAO7U,GAAQ,QAASA,IAAQ0C,GAAIsZ,GAAM,QAASA,IAAMtZ,GAC7D+S,EAAIZ,EAAM7U,EAAMyV,EAAGuG,EAAIvG,GACvBla,EAAIsZ,EAAM7U,EAAMzE,EAAGygB,EAAIzgB,GACvBoa,GAAU,QAAQ3V,EAAM2V,QAASqG,EAAIrG,SACzC,OAAO,SAAUnS,GAKf,OAJAxD,EAAM0C,EAAIA,EAAEc,GACZxD,EAAMyV,EAAIA,EAAEjS,GACZxD,EAAMzE,EAAIA,EAAEiI,GACZxD,EAAM2V,QAAUA,EAAQnS,GACjBxD,EAAQ,IAKnB,OADAyU,EAAI2G,MAAQW,EACLtH,EAlBT,CAmBG,GA+BI,IAAIwH,EAAWL,EAAU,KACrBM,EAAiBN,EAAU,wCCvDvB,SAAS,EAACtgB,EAAGC,GAC1B,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAAUiI,GAC/B,OAAOtD,KAAKc,MAAM1F,GAAK,EAAIkI,GAAKjI,EAAIiI,qHCDpC2Y,EAAM,8CACNC,EAAM,IAAIvR,OAAOsR,EAAItZ,OAAQ,KAclB,SAAS,EAACvH,EAAGC,GAC1B,IAEA8gB,EAEAC,EAEAC,EANIC,EAAKL,EAAIM,UAAYL,EAAIK,UAAY,EAQzCjgB,GAAK,EAELyB,EAAI,GAEJye,EAAI,GAKJ,IAFAphB,GAAQ,GAAIC,GAAQ,IAEZ8gB,EAAKF,EAAIjH,KAAK5Z,MAAQghB,EAAKF,EAAIlH,KAAK3Z,MACrCghB,EAAKD,EAAGjd,OAASmd,IAEpBD,EAAKhhB,EAAEmC,MAAM8e,EAAID,GACbte,EAAEzB,GAAIyB,EAAEzB,IAAM+f,EACbte,IAAIzB,GAAK+f,IAGXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IAExBre,EAAEzB,GAAIyB,EAAEzB,IAAM8f,EACbre,IAAIzB,GAAK8f,GAGdre,IAAIzB,GAAK,KACTkgB,EAAExW,KAAK,CACL1J,EAAGA,EACHP,GAAG,OAAOogB,EAAIC,MAIlBE,EAAKJ,EAAIK,UAYX,OARID,EAAKjhB,EAAEa,SACTmgB,EAAKhhB,EAAEmC,MAAM8e,GACTve,EAAEzB,GAAIyB,EAAEzB,IAAM+f,EACbte,IAAIzB,GAAK+f,GAKTte,EAAE7B,OAAS,EAAIsgB,EAAE,GAzD1B,SAAanhB,GACX,OAAO,SAAUiI,GACf,OAAOjI,EAAEiI,GAAK,IAuDamZ,CAAID,EAAE,GAAGzgB,GA/DxC,SAAcV,GACZ,OAAO,WACL,OAAOA,GA6DkC4c,CAAK5c,IAAMA,EAAImhB,EAAEtgB,OAAQ,SAAUoH,GAC5E,IAAK,IAAW5G,EAAPJ,EAAI,EAAMA,EAAIjB,IAAKiB,EAC1ByB,GAAGrB,EAAI8f,EAAElgB,IAAIA,GAAKI,EAAEX,EAAEuH,GAGxB,OAAOvF,EAAEua,KAAK,wKC/DH,SAAS,EAACld,EAAGC,GAC1B,IACI8M,EADA7E,SAAWjI,EAEf,OAAY,MAALA,GAAmB,YAANiI,GAAkB,OAASjI,IAAY,WAANiI,EAAiB,IAAe,WAANA,GAAkB6E,GAAI,QAAM9M,KAAOA,EAAI8M,EAAG,MAAO,IAAS9M,aAAa,KAAQ,KAAMA,aAAawN,KAAO,KAAO,OAAcxN,GAAK,IAAc0B,MAAMC,QAAQ3B,GAAK,IAAoC,mBAAdA,EAAEqhB,SAAgD,mBAAfrhB,EAAEiC,UAA2ByE,MAAM1G,GAAK,IAAS,KAAQD,EAAGC,oJCXtW0b,EACO4F,EACAC,EACAC,EACAC,EAW2BjG,YAAAA,EAVxB,CACZkG,SAAU,SACVnU,KAAM,aACNoB,KAAM,eACNgT,QAAS,CAAC,KAAM,MAChBC,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACzEC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDC,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACvHC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAG3FrG,GAAS,OAAaF,GACtB8F,EAAa5F,EAAOxN,OACpBqT,EAAY7F,EAAOsG,MACnBR,EAAY9F,EAAO8F,UACnBC,EAAW/F,EAAO+F,4ICnBpB,SAASQ,EAAUlhB,GACjB,GAAI,GAAKA,EAAEsH,GAAKtH,EAAEsH,EAAI,IAAK,CACzB,IAAIkF,EAAO,IAAIC,MAAM,EAAGzM,EAAEwY,EAAGxY,EAAEA,EAAGA,EAAEmhB,EAAGnhB,EAAEohB,EAAGphB,EAAEqhB,EAAGrhB,EAAEshB,GAEnD,OADA9U,EAAK+U,YAAYvhB,EAAEsH,GACZkF,EAGT,OAAO,IAAIC,KAAKzM,EAAEsH,EAAGtH,EAAEwY,EAAGxY,EAAEA,EAAGA,EAAEmhB,EAAGnhB,EAAEohB,EAAGphB,EAAEqhB,EAAGrhB,EAAEshB,GAGlD,SAASE,EAAQxhB,GACf,GAAI,GAAKA,EAAEsH,GAAKtH,EAAEsH,EAAI,IAAK,CACzB,IAAIkF,EAAO,IAAIC,KAAKA,KAAKqB,KAAK,EAAG9N,EAAEwY,EAAGxY,EAAEA,EAAGA,EAAEmhB,EAAGnhB,EAAEohB,EAAGphB,EAAEqhB,EAAGrhB,EAAEshB,IAE5D,OADA9U,EAAKiV,eAAezhB,EAAEsH,GACfkF,EAGT,OAAO,IAAIC,KAAKA,KAAKqB,IAAI9N,EAAEsH,EAAGtH,EAAEwY,EAAGxY,EAAEA,EAAGA,EAAEmhB,EAAGnhB,EAAEohB,EAAGphB,EAAEqhB,EAAGrhB,EAAEshB,IAG3D,SAASI,EAAQpa,EAAGkR,EAAGxY,GACrB,MAAO,CACLsH,EAAGA,EACHkR,EAAGA,EACHxY,EAAGA,EACHmhB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAIQ,SAASK,EAAahH,GACnC,IAAIiH,EAAkBjH,EAAOgG,SACzBkB,EAAclH,EAAOnO,KACrBsV,EAAcnH,EAAO/M,KACrBmU,EAAiBpH,EAAOiG,QACxBoB,EAAkBrH,EAAOkG,KACzBoB,EAAuBtH,EAAOmG,UAC9BoB,EAAgBvH,EAAOoG,OACvBoB,EAAqBxH,EAAOqG,YAC5BoB,EAAWC,EAASN,GACpBO,EAAeC,EAAaR,GAC5BS,EAAYH,EAASL,GACrBS,GAAgBF,EAAaP,GAC7BU,GAAiBL,EAASJ,GAC1BU,GAAqBJ,EAAaN,GAClCW,GAAUP,EAASH,GACnBW,GAAcN,EAAaL,GAC3BY,GAAeT,EAASF,GACxBY,GAAmBR,EAAaJ,GAChCa,GAAU,CACZ,EA2PF,SAA4BhjB,GAC1B,OAAOiiB,EAAqBjiB,EAAEijB,WA3P9B,EA8PF,SAAuBjjB,GACrB,OAAOgiB,EAAgBhiB,EAAEijB,WA9PzB,EAiQF,SAA0BjjB,GACxB,OAAOmiB,EAAmBniB,EAAEkjB,aAjQ5B,EAoQF,SAAqBljB,GACnB,OAAOkiB,EAAcliB,EAAEkjB,aApQvB,EAAK,KACL,EAAKC,EACL,EAAKA,EACL,EAAKC,EACL,EAAKC,GACL,EAAKC,GACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EA2PF,SAAsB5jB,GACpB,OAAO+hB,IAAiB/hB,EAAE6jB,YAAc,MA3PxC,EA8PF,SAAuB7jB,GACrB,OAAO,KAAOA,EAAEkjB,WAAa,IA9P7B,EAAKY,GACL,EAAKC,GACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,GACL,EAAKC,GACL,EAAK,KACL,EAAK,KACL,EAAK1W,GACL,EAAK2W,GACL,EAAKC,GACL,IAAKC,IAEHC,GAAa,CACf,EAiPF,SAA+BzkB,GAC7B,OAAOiiB,EAAqBjiB,EAAE0kB,cAjP9B,EAoPF,SAA0B1kB,GACxB,OAAOgiB,EAAgBhiB,EAAE0kB,cApPzB,EAuPF,SAA6B1kB,GAC3B,OAAOmiB,EAAmBniB,EAAE2kB,gBAvP5B,EA0PF,SAAwB3kB,GACtB,OAAOkiB,EAAcliB,EAAE2kB,gBA1PvB,EAAK,KACL,EAAKC,GACL,EAAKA,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAiPF,SAAyBrlB,GACvB,OAAO+hB,IAAiB/hB,EAAEslB,eAAiB,MAjP3C,EAoPF,SAA0BtlB,GACxB,OAAO,KAAOA,EAAE2kB,cAAgB,IApPhC,EAAKb,GACL,EAAKC,GACL,EAAKwB,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAK,KACL,EAAK,KACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,IAAKvB,IAEHwB,GAAS,CACX,EAuJF,SAA2BhmB,EAAGimB,EAAQ/lB,GACpC,IAAIa,EAAI2hB,GAAe9J,KAAKqN,EAAO7kB,MAAMlB,IACzC,OAAOa,GAAKf,EAAEkmB,EAAIvD,GAAmBrY,IAAIvJ,EAAE,GAAG4X,eAAgBzY,EAAIa,EAAE,GAAGjB,SAAW,GAxJlF,EA2JF,SAAsBE,EAAGimB,EAAQ/lB,GAC/B,IAAIa,EAAIyhB,EAAU5J,KAAKqN,EAAO7kB,MAAMlB,IACpC,OAAOa,GAAKf,EAAEkmB,EAAIzD,GAAcnY,IAAIvJ,EAAE,GAAG4X,eAAgBzY,EAAIa,EAAE,GAAGjB,SAAW,GA5J7E,EA+JF,SAAyBE,EAAGimB,EAAQ/lB,GAClC,IAAIa,EAAI+hB,GAAalK,KAAKqN,EAAO7kB,MAAMlB,IACvC,OAAOa,GAAKf,EAAEwY,EAAIuK,GAAiBzY,IAAIvJ,EAAE,GAAG4X,eAAgBzY,EAAIa,EAAE,GAAGjB,SAAW,GAhKhF,EAmKF,SAAoBE,EAAGimB,EAAQ/lB,GAC7B,IAAIa,EAAI6hB,GAAQhK,KAAKqN,EAAO7kB,MAAMlB,IAClC,OAAOa,GAAKf,EAAEwY,EAAIqK,GAAYvY,IAAIvJ,EAAE,GAAG4X,eAAgBzY,EAAIa,EAAE,GAAGjB,SAAW,GApK3E,EAuKF,SAA6BE,EAAGimB,EAAQ/lB,GACtC,OAAOimB,GAAenmB,EAAG4hB,EAAiBqE,EAAQ/lB,IAvKlD,EAAKkmB,EACL,EAAKA,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKA,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAkIF,SAAqB5mB,EAAGimB,EAAQ/lB,GAC9B,IAAIa,EAAIqhB,EAASxJ,KAAKqN,EAAO7kB,MAAMlB,IACnC,OAAOa,GAAKf,EAAEyJ,EAAI6Y,EAAahY,IAAIvJ,EAAE,GAAG4X,eAAgBzY,EAAIa,EAAE,GAAGjB,SAAW,GAnI5E,EAAK+mB,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAAKC,EACL,EAqJF,SAAyBrnB,EAAGimB,EAAQ/lB,GAClC,OAAOimB,GAAenmB,EAAG6hB,EAAaoE,EAAQ/lB,IArJ9C,EAwJF,SAAyBF,EAAGimB,EAAQ/lB,GAClC,OAAOimB,GAAenmB,EAAG8hB,EAAamE,EAAQ/lB,IAxJ9C,EAAKomB,EACL,EAAKC,EACL,EAAKe,EACL,IAAKC,GAUP,SAASjK,GAAUrV,EAAW+a,GAC5B,OAAO,SAAUxW,GACf,IAIIT,EACAyb,EACAra,EANA8Y,EAAS,GACT/lB,GAAK,EACLgG,EAAI,EACJnF,EAAIkH,EAAUnI,OAMlB,IAFM0M,aAAgBC,OAAOD,EAAO,IAAIC,MAAMD,MAErCtM,EAAIa,GACqB,KAA5BkH,EAAUgW,WAAW/d,KACvB+lB,EAAOrc,KAAK3B,EAAU7G,MAAM8E,EAAGhG,IACgB,OAA1CsnB,EAAMC,EAAK1b,EAAI9D,EAAUyf,SAASxnB,KAAc6L,EAAI9D,EAAUyf,SAASxnB,GAAQsnB,EAAY,MAANzb,EAAY,IAAM,KACxGoB,EAAS6V,EAAQjX,MAAIA,EAAIoB,EAAOX,EAAMgb,IAC1CvB,EAAOrc,KAAKmC,GACZ7F,EAAIhG,EAAI,GAKZ,OADA+lB,EAAOrc,KAAK3B,EAAU7G,MAAM8E,EAAGhG,IACxB+lB,EAAO/J,KAAK,KAIvB,SAASyL,GAAS1f,EAAW2f,GAC3B,OAAO,SAAU3B,GACf,IAEInZ,EACAC,EAHA/M,EAAI0hB,EAAQ,UAAMre,EAAW,GAIjC,GAHQ8iB,GAAenmB,EAAGiI,EAAWge,GAAU,GAAI,IAG1CA,EAAOnmB,OAAQ,OAAO,KAE/B,GAAI,MAAOE,EAAG,OAAO,IAAIyM,KAAKzM,EAAE6nB,GAChC,GAAI,MAAO7nB,EAAG,OAAO,IAAIyM,KAAW,IAANzM,EAAE2B,GAAY,MAAO3B,EAAIA,EAAEshB,EAAI,IAQ7D,GANIsG,KAAO,MAAO5nB,KAAIA,EAAE4nB,EAAI,GAExB,MAAO5nB,IAAGA,EAAEmhB,EAAInhB,EAAEmhB,EAAI,GAAW,GAANnhB,EAAEyJ,QAErBpG,IAARrD,EAAEwY,IAAiBxY,EAAEwY,EAAI,MAAOxY,EAAIA,EAAEogB,EAAI,GAE1C,MAAOpgB,EAAG,CACZ,GAAIA,EAAE8nB,EAAI,GAAK9nB,EAAE8nB,EAAI,GAAI,OAAO,KAC1B,MAAO9nB,IAAIA,EAAEkmB,EAAI,GAEnB,MAAOlmB,GAC2B+M,GAApCD,EAAO0U,EAAQE,EAAQ1hB,EAAEsH,EAAG,EAAG,KAAgBod,YAC/C5X,EAAOC,EAAM,GAAa,IAARA,EAAY,UAAeD,IAAQ,QAAUA,GAC/DA,EAAO,WAAcA,EAAkB,GAAX9M,EAAE8nB,EAAI,IAClC9nB,EAAEsH,EAAIwF,EAAKib,iBACX/nB,EAAEwY,EAAI1L,EAAK6X,cACX3kB,EAAEA,EAAI8M,EAAKkb,cAAgBhoB,EAAEkmB,EAAI,GAAK,IAEAnZ,GAAtCD,EAAOoU,EAAUQ,EAAQ1hB,EAAEsH,EAAG,EAAG,KAAgB2b,SACjDnW,EAAOC,EAAM,GAAa,IAARA,EAAY,UAAgBD,IAAQ,QAAWA,GACjEA,EAAO,WAAeA,EAAkB,GAAX9M,EAAE8nB,EAAI,IACnC9nB,EAAEsH,EAAIwF,EAAKmb,cACXjoB,EAAEwY,EAAI1L,EAAKoW,WACXljB,EAAEA,EAAI8M,EAAKob,WAAaloB,EAAEkmB,EAAI,GAAK,QAE5B,MAAOlmB,GAAK,MAAOA,KACtB,MAAOA,IAAIA,EAAEkmB,EAAI,MAAOlmB,EAAIA,EAAEyH,EAAI,EAAI,MAAOzH,EAAI,EAAI,GAC3D+M,EAAM,MAAO/M,EAAIwhB,EAAQE,EAAQ1hB,EAAEsH,EAAG,EAAG,IAAIod,YAAcxD,EAAUQ,EAAQ1hB,EAAEsH,EAAG,EAAG,IAAI2b,SACzFjjB,EAAEwY,EAAI,EACNxY,EAAEA,EAAI,MAAOA,GAAKA,EAAEkmB,EAAI,GAAK,EAAU,EAANlmB,EAAEmoB,GAASpb,EAAM,GAAK,EAAI/M,EAAEkmB,EAAU,EAANlmB,EAAEooB,GAASrb,EAAM,GAAK,GAKzF,MAAI,MAAO/M,GACTA,EAAEmhB,GAAKnhB,EAAE4nB,EAAI,IAAM,EACnB5nB,EAAEohB,GAAKphB,EAAE4nB,EAAI,IACNpG,EAAQxhB,IAIVkhB,EAAUlhB,IAIrB,SAASmmB,GAAenmB,EAAGiI,EAAWge,EAAQ/f,GAO5C,IANA,IAGI6F,EACAkV,EAJA/gB,EAAI,EACJa,EAAIkH,EAAUnI,OACd0Y,EAAIyN,EAAOnmB,OAIRI,EAAIa,GAAG,CACZ,GAAImF,GAAKsS,EAAG,OAAQ,EAGpB,GAAU,MAFVzM,EAAI9D,EAAUgW,WAAW/d,OAKvB,GAFA6L,EAAI9D,EAAUyf,OAAOxnB,OACrB+gB,EAAQ+E,GAAOja,KAAK0b,EAAOxf,EAAUyf,OAAOxnB,KAAO6L,MACpC7F,EAAI+a,EAAMjhB,EAAGimB,EAAQ/f,IAAM,EAAG,OAAQ,OAChD,GAAI6F,GAAKka,EAAOhI,WAAW/X,KAChC,OAAQ,EAIZ,OAAOA,EAwFT,OArMA8c,GAAQrjB,EAAI2d,GAAUuE,EAAamB,IACnCA,GAAQqF,EAAI/K,GAAUwE,EAAakB,IACnCA,GAAQjX,EAAIuR,GAAUsE,EAAiBoB,IACvCyB,GAAW9kB,EAAI2d,GAAUuE,EAAa4C,IACtCA,GAAW4D,EAAI/K,GAAUwE,EAAa2C,IACtCA,GAAW1Y,EAAIuR,GAAUsE,EAAiB6C,IAgMnC,CACLtX,OAAQ,SAAgBlF,GACtB,IAAIzI,EAAI8d,GAAUrV,GAAa,GAAI+a,IAMnC,OAJAxjB,EAAE0B,SAAW,WACX,OAAO+G,GAGFzI,GAETyhB,MAAO,SAAehZ,GACpB,IAAIwB,EAAIke,GAAS1f,GAAa,IAAI,GAMlC,OAJAwB,EAAEvI,SAAW,WACX,OAAO+G,GAGFwB,GAETgX,UAAW,SAAmBxY,GAC5B,IAAIzI,EAAI8d,GAAUrV,GAAa,GAAIwc,IAMnC,OAJAjlB,EAAE0B,SAAW,WACX,OAAO+G,GAGFzI,GAETkhB,SAAU,SAAkBzY,GAC1B,IAAIwB,EAAIke,GAAS1f,GAAa,IAAI,GAMlC,OAJAwB,EAAEvI,SAAW,WACX,OAAO+G,GAGFwB,IAIb,IAAIge,EAAO,CACT,IAAK,GACL,EAAK,IACL,EAAK,KAEHa,EAAW,UAEfC,EAAY,KACRC,EAAY,sBAEhB,SAAShB,EAAI3lB,EAAO6Z,EAAMI,GACxB,IAAI9P,EAAOnK,EAAQ,EAAI,IAAM,GACzBokB,GAAUja,GAAQnK,EAAQA,GAAS,GACnC/B,EAASmmB,EAAOnmB,OACpB,OAAOkM,GAAQlM,EAASgc,EAAQ,IAAInb,MAAMmb,EAAQhc,EAAS,GAAGoc,KAAKR,GAAQuK,EAASA,GAGtF,SAASwC,EAAQ9mB,GACf,OAAOA,EAAEsZ,QAAQuN,EAAW,QAG9B,SAASnG,EAASqG,GAChB,OAAO,IAAIna,OAAO,OAASma,EAAMthB,IAAIqhB,GAASvM,KAAK,KAAO,IAAK,KAGjE,SAASqG,EAAamG,GACpB,OAAO,IAAIte,IAAIse,EAAMthB,KAAI,SAAU9F,EAAMpB,GACvC,MAAO,CAACoB,EAAKqX,cAAezY,OAIhC,SAASknB,EAAyBpnB,EAAGimB,EAAQ/lB,GAC3C,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEkmB,GAAKnlB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASmnB,EAAyBjnB,EAAGimB,EAAQ/lB,GAC3C,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEyH,GAAK1G,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASonB,EAAsBlnB,EAAGimB,EAAQ/lB,GACxC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEooB,GAAKrnB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASqnB,EAAmBnnB,EAAGimB,EAAQ/lB,GACrC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAE8nB,GAAK/mB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASunB,EAAsBrnB,EAAGimB,EAAQ/lB,GACxC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEmoB,GAAKpnB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASymB,EAAcvmB,EAAGimB,EAAQ/lB,GAChC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEsH,GAAKvG,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASwmB,EAAUtmB,EAAGimB,EAAQ/lB,GAC5B,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEsH,GAAKvG,EAAE,KAAOA,EAAE,GAAK,GAAK,KAAO,KAAOb,EAAIa,EAAE,GAAGjB,SAAW,EAG5E,SAASwnB,EAAUtnB,EAAGimB,EAAQ/lB,GAC5B,IAAIa,EAAI,+BAA+B6X,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAChE,OAAOa,GAAKf,EAAE4nB,EAAI7mB,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,IAAM,OAAQb,EAAIa,EAAE,GAAGjB,SAAW,EAG7E,SAAS+mB,EAAa7mB,EAAGimB,EAAQ/lB,GAC/B,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEogB,EAAW,EAAPrf,EAAE,GAAS,EAAGb,EAAIa,EAAE,GAAGjB,SAAW,EAGtD,SAAS6mB,EAAiB3mB,EAAGimB,EAAQ/lB,GACnC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEwY,EAAIzX,EAAE,GAAK,EAAGb,EAAIa,EAAE,GAAGjB,SAAW,EAGlD,SAASsmB,EAAgBpmB,EAAGimB,EAAQ/lB,GAClC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEA,GAAKe,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAAS2mB,EAAezmB,EAAGimB,EAAQ/lB,GACjC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEwY,EAAI,EAAGxY,EAAEA,GAAKe,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAGxD,SAAS0mB,EAAYxmB,EAAGimB,EAAQ/lB,GAC9B,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEmhB,GAAKpgB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAAS8mB,EAAa5mB,EAAGimB,EAAQ/lB,GAC/B,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEohB,GAAKrgB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASknB,EAAahnB,EAAGimB,EAAQ/lB,GAC/B,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEqhB,GAAKtgB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAAS4mB,EAAkB1mB,EAAGimB,EAAQ/lB,GACpC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEshB,GAAKvgB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASumB,EAAkBrmB,EAAGimB,EAAQ/lB,GACpC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC1C,OAAOa,GAAKf,EAAEshB,EAAI1d,KAAKmB,MAAMhE,EAAE,GAAK,KAAOb,EAAIa,EAAE,GAAGjB,SAAW,EAGjE,SAASynB,EAAoBvnB,EAAGimB,EAAQ/lB,GACtC,IAAIa,EAAIwnB,EAAU3P,KAAKqN,EAAO7kB,MAAMlB,EAAGA,EAAI,IAC3C,OAAOa,EAAIb,EAAIa,EAAE,GAAGjB,QAAU,EAGhC,SAASgnB,EAAmB9mB,EAAGimB,EAAQ/lB,GACrC,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,IACnC,OAAOa,GAAKf,EAAE6nB,GAAK9mB,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASinB,EAA0B/mB,EAAGimB,EAAQ/lB,GAC5C,IAAIa,EAAIunB,EAAS1P,KAAKqN,EAAO7kB,MAAMlB,IACnC,OAAOa,GAAKf,EAAE2B,GAAKZ,EAAE,GAAIb,EAAIa,EAAE,GAAGjB,SAAW,EAG/C,SAASqjB,EAAiBnjB,EAAGyJ,GAC3B,OAAO+d,EAAIxnB,EAAEkoB,UAAWze,EAAG,GAG7B,SAAS8Z,EAAavjB,EAAGyJ,GACvB,OAAO+d,EAAIxnB,EAAE6jB,WAAYpa,EAAG,GAG9B,SAAS+Z,EAAaxjB,EAAGyJ,GACvB,OAAO+d,EAAIxnB,EAAE6jB,WAAa,IAAM,GAAIpa,EAAG,GAGzC,SAASga,EAAgBzjB,EAAGyJ,GAC1B,OAAO+d,EAAI,EAAI,WAAc,OAASxnB,GAAIA,GAAIyJ,EAAG,GAGnD,SAASia,EAAmB1jB,EAAGyJ,GAC7B,OAAO+d,EAAIxnB,EAAE2oB,kBAAmBlf,EAAG,GAGrC,SAAS2Z,EAAmBpjB,EAAGyJ,GAC7B,OAAOia,EAAmB1jB,EAAGyJ,GAAK,MAGpC,SAASka,EAAkB3jB,EAAGyJ,GAC5B,OAAO+d,EAAIxnB,EAAEkjB,WAAa,EAAGzZ,EAAG,GAGlC,SAASma,EAAc5jB,EAAGyJ,GACxB,OAAO+d,EAAIxnB,EAAE4oB,aAAcnf,EAAG,GAGhC,SAASua,EAAchkB,EAAGyJ,GACxB,OAAO+d,EAAIxnB,EAAE6oB,aAAcpf,EAAG,GAGhC,SAASwa,EAA0BjkB,GACjC,IAAI+M,EAAM/M,EAAEijB,SACZ,OAAe,IAARlW,EAAY,EAAIA,EAGzB,SAASmX,EAAuBlkB,EAAGyJ,GACjC,OAAO+d,EAAI,YAAiB,OAASxnB,GAAK,EAAGA,GAAIyJ,EAAG,GAGtD,SAASqf,EAAK9oB,GACZ,IAAI+M,EAAM/M,EAAEijB,SACZ,OAAOlW,GAAO,GAAa,IAARA,GAAY,QAAa/M,GAAK,UAAkBA,GAGrE,SAASmkB,EAAoBnkB,EAAGyJ,GAE9B,OADAzJ,EAAI8oB,EAAK9oB,GACFwnB,EAAI,YAAmB,OAASxnB,GAAIA,IAA+B,KAAzB,OAASA,GAAGijB,UAAiBxZ,EAAG,GAGnF,SAAS2a,GAA0BpkB,GACjC,OAAOA,EAAEijB,SAGX,SAASoB,GAAuBrkB,EAAGyJ,GACjC,OAAO+d,EAAI,YAAiB,OAASxnB,GAAK,EAAGA,GAAIyJ,EAAG,GAGtD,SAASkE,GAAW3N,EAAGyJ,GACrB,OAAO+d,EAAIxnB,EAAEioB,cAAgB,IAAKxe,EAAG,GAGvC,SAAS4Z,GAAcrjB,EAAGyJ,GAExB,OAAO+d,GADPxnB,EAAI8oB,EAAK9oB,IACIioB,cAAgB,IAAKxe,EAAG,GAGvC,SAAS6a,GAAetkB,EAAGyJ,GACzB,OAAO+d,EAAIxnB,EAAEioB,cAAgB,IAAOxe,EAAG,GAGzC,SAAS6Z,GAAkBtjB,EAAGyJ,GAC5B,IAAIsD,EAAM/M,EAAEijB,SAEZ,OAAOuE,GADPxnB,EAAI+M,GAAO,GAAa,IAARA,GAAY,QAAa/M,GAAK,UAAkBA,IACnDioB,cAAgB,IAAOxe,EAAG,GAGzC,SAAS8a,GAAWvkB,GAClB,IAAI2J,EAAI3J,EAAE+oB,oBACV,OAAQpf,EAAI,EAAI,KAAOA,IAAM,EAAG,MAAQ6d,EAAI7d,EAAI,GAAK,EAAG,IAAK,GAAK6d,EAAI7d,EAAI,GAAI,IAAK,GAGrF,SAASib,GAAoB5kB,EAAGyJ,GAC9B,OAAO+d,EAAIxnB,EAAEgoB,aAAcve,EAAG,GAGhC,SAASub,GAAgBhlB,EAAGyJ,GAC1B,OAAO+d,EAAIxnB,EAAEslB,cAAe7b,EAAG,GAGjC,SAASwb,GAAgBjlB,EAAGyJ,GAC1B,OAAO+d,EAAIxnB,EAAEslB,cAAgB,IAAM,GAAI7b,EAAG,GAG5C,SAASyb,GAAmBllB,EAAGyJ,GAC7B,OAAO+d,EAAI,EAAI,WAAa,OAAQxnB,GAAIA,GAAIyJ,EAAG,GAGjD,SAAS0b,GAAsBnlB,EAAGyJ,GAChC,OAAO+d,EAAIxnB,EAAEgpB,qBAAsBvf,EAAG,GAGxC,SAASob,GAAsB7kB,EAAGyJ,GAChC,OAAO0b,GAAsBnlB,EAAGyJ,GAAK,MAGvC,SAAS2b,GAAqBplB,EAAGyJ,GAC/B,OAAO+d,EAAIxnB,EAAE2kB,cAAgB,EAAGlb,EAAG,GAGrC,SAAS4b,GAAiBrlB,EAAGyJ,GAC3B,OAAO+d,EAAIxnB,EAAEipB,gBAAiBxf,EAAG,GAGnC,SAAS8b,GAAiBvlB,EAAGyJ,GAC3B,OAAO+d,EAAIxnB,EAAEkpB,gBAAiBzf,EAAG,GAGnC,SAAS+b,GAA6BxlB,GACpC,IAAImpB,EAAMnpB,EAAE0kB,YACZ,OAAe,IAARyE,EAAY,EAAIA,EAGzB,SAAS1D,GAA0BzlB,EAAGyJ,GACpC,OAAO+d,EAAI,YAAgB,OAAQxnB,GAAK,EAAGA,GAAIyJ,EAAG,GAGpD,SAAS2f,GAAQppB,GACf,IAAI+M,EAAM/M,EAAE0kB,YACZ,OAAO3X,GAAO,GAAa,IAARA,GAAY,QAAY/M,GAAK,UAAiBA,GAGnE,SAAS0lB,GAAuB1lB,EAAGyJ,GAEjC,OADAzJ,EAAIopB,GAAQppB,GACLwnB,EAAI,YAAkB,OAAQxnB,GAAIA,IAAiC,KAA3B,OAAQA,GAAG0kB,aAAoBjb,EAAG,GAGnF,SAASkc,GAA6B3lB,GACpC,OAAOA,EAAE0kB,YAGX,SAASkB,GAA0B5lB,EAAGyJ,GACpC,OAAO+d,EAAI,YAAgB,OAAQxnB,GAAK,EAAGA,GAAIyJ,EAAG,GAGpD,SAASoc,GAAc7lB,EAAGyJ,GACxB,OAAO+d,EAAIxnB,EAAE+nB,iBAAmB,IAAKte,EAAG,GAG1C,SAASqb,GAAiB9kB,EAAGyJ,GAE3B,OAAO+d,GADPxnB,EAAIopB,GAAQppB,IACC+nB,iBAAmB,IAAKte,EAAG,GAG1C,SAASqc,GAAkB9lB,EAAGyJ,GAC5B,OAAO+d,EAAIxnB,EAAE+nB,iBAAmB,IAAOte,EAAG,GAG5C,SAASsb,GAAqB/kB,EAAGyJ,GAC/B,IAAIsD,EAAM/M,EAAE0kB,YAEZ,OAAO8C,GADPxnB,EAAI+M,GAAO,GAAa,IAARA,GAAY,QAAY/M,GAAK,UAAiBA,IACjD+nB,iBAAmB,IAAOte,EAAG,GAG5C,SAASsc,KACP,MAAO,QAGT,SAASvB,KACP,MAAO,IAGT,SAASV,GAAoB9jB,GAC3B,OAAQA,EAGV,SAAS+jB,GAA2B/jB,GAClC,OAAO4D,KAAKmB,OAAO/E,EAAI,iEC/rBrB+M,GAAM,QAAS,SAAUP,GAC3B,OAAOA,EAAK6c,SAAS,EAAG,EAAG,EAAG,MAC7B,SAAU7c,EAAMpK,GACjB,OAAOoK,EAAK8c,QAAQ9c,EAAK0b,UAAY9lB,MACpC,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAASgc,EAAIqJ,oBAAsBrlB,EAAMqlB,qBAAuB,MAAkB,QAC/F,SAAUvc,GACX,OAAOA,EAAK0b,UAAY,KAE1B,MACkBnb,EAAIhJ,0NCZf,IAAIwlB,EAAiB,IACjBC,EAAkC,GAAjBD,EACjBE,EAAgC,GAAjBD,EACfE,EAA6B,GAAfD,EACdE,EAA6B,EAAdD,EACfE,EAA8B,GAAdF,EAChBG,EAA6B,IAAdH,6DCJtB1c,GAAO,QAAS,SAAUR,GAC5BA,EAAKyS,QAAQzS,EAAOA,EAAKmc,kBAAoBnc,EAAKqc,aAAe,KAAiBrc,EAAKoc,aAAe,SACrG,SAAUpc,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,EAAO,SAC3B,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QACtB,SAAU8I,GACX,OAAOA,EAAKqX,cAEd,MACmB7W,EAAKjJ,yECZxB,IAAIT,EAAK,IAAImJ,KACTjJ,EAAK,IAAIiJ,KACE,SAASqd,EAAYC,EAAQC,EAAS5lB,EAAO6lB,GAC1D,SAASngB,EAAS0C,GAChB,OAAOud,EAAOvd,EAA4B,IAArB7I,UAAU7D,OAAe,IAAI2M,KAAS,IAAIA,MAAMD,IAAQA,EAsE/E,OAnEA1C,EAAS/E,MAAQ,SAAUyH,GACzB,OAAOud,EAAOvd,EAAO,IAAIC,MAAMD,IAAQA,GAGzC1C,EAAShG,KAAO,SAAU0I,GACxB,OAAOud,EAAOvd,EAAO,IAAIC,KAAKD,EAAO,IAAKwd,EAAQxd,EAAM,GAAIud,EAAOvd,GAAOA,GAG5E1C,EAASpF,MAAQ,SAAU8H,GACzB,IAAIzG,EAAK+D,EAAS0C,GACdxG,EAAK8D,EAAShG,KAAK0I,GACvB,OAAOA,EAAOzG,EAAKC,EAAKwG,EAAOzG,EAAKC,GAGtC8D,EAASogB,OAAS,SAAU1d,EAAMpK,GAChC,OAAO4nB,EAAQxd,EAAO,IAAIC,MAAMD,GAAe,MAARpK,EAAe,EAAIwB,KAAKmB,MAAM3C,IAAQoK,GAG/E1C,EAAS/F,MAAQ,SAAUL,EAAOD,EAAMrB,GACtC,IACI+nB,EADApmB,EAAQ,GAIZ,GAFAL,EAAQoG,EAAShG,KAAKJ,GACtBtB,EAAe,MAARA,EAAe,EAAIwB,KAAKmB,MAAM3C,KAC/BsB,EAAQD,GAAWrB,EAAO,GAAI,OAAO2B,EAE3C,GACEA,EAAM6F,KAAKugB,EAAW,IAAI1d,MAAM/I,IAASsmB,EAAQtmB,EAAOtB,GAAO2nB,EAAOrmB,SAC/DymB,EAAWzmB,GAASA,EAAQD,GAErC,OAAOM,GAGT+F,EAASsgB,OAAS,SAAU5oB,GAC1B,OAAOsoB,GAAY,SAAUtd,GAC3B,GAAIA,GAAQA,EAAM,KAAOud,EAAOvd,IAAQhL,EAAKgL,IAC3CA,EAAKyS,QAAQzS,EAAO,MAErB,SAAUA,EAAMpK,GACjB,GAAIoK,GAAQA,EACV,GAAIpK,EAAO,EAAG,OAASA,GAAQ,GAC7B,KAAO4nB,EAAQxd,GAAO,IAAKhL,EAAKgL,UAE3B,OAASpK,GAAQ,GACtB,KAAO4nB,EAAQxd,EAAM,IAAMhL,EAAKgL,UAOpCpI,IACF0F,EAAS1F,MAAQ,SAAUV,EAAOgc,GAGhC,OAFApc,EAAG2b,SAASvb,GAAQF,EAAGyb,SAASS,GAChCqK,EAAOzmB,GAAKymB,EAAOvmB,GACZI,KAAKmB,MAAMX,EAAMd,EAAIE,KAG9BsG,EAASugB,MAAQ,SAAUjoB,GAEzB,OADAA,EAAOwB,KAAKmB,MAAM3C,GACVoC,SAASpC,IAAWA,EAAO,EAAcA,EAAO,EAAgB0H,EAASsgB,OAAOH,EAAQ,SAAUjqB,GACxG,OAAOiqB,EAAMjqB,GAAKoC,GAAS,GACzB,SAAUpC,GACZ,OAAO8J,EAAS1F,MAAM,EAAGpE,GAAKoC,GAAS,IAHoB0H,EAArB,OAQrCA,oDCzELwgB,GAAc,QAAS,eACxB,SAAU9d,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,MACpB,SAAUsB,EAAOgc,GAClB,OAAOA,EAAMhc,KAGf4mB,EAAYD,MAAQ,SAAU3gB,GAE5B,OADAA,EAAI9F,KAAKmB,MAAM2E,GACVlF,SAASkF,IAAQA,EAAI,EACpBA,EAAI,GACH,QAAS,SAAU8C,GACxBA,EAAKyS,QAAQrb,KAAKmB,MAAMyH,EAAO9C,GAAKA,MACnC,SAAU8C,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,EAAOsH,MAC3B,SAAUhG,EAAOgc,GAClB,OAAQA,EAAMhc,GAASgG,KANJ4gB,EADgB,MAWvC,MAC0BA,EAAYvmB,gECpBlCkJ,GAAS,QAAS,SAAUT,GAC9BA,EAAKyS,QAAQzS,EAAOA,EAAKmc,kBAAoBnc,EAAKqc,aAAe,SAChE,SAAUrc,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,EAAO,SAC3B,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QACtB,SAAU8I,GACX,OAAOA,EAAKoc,gBAEd,MACqB3b,EAAOlJ,6CCXxB8I,GAAQ,cAAS,SAAUL,GAC7BA,EAAK8c,QAAQ,GACb9c,EAAK6c,SAAS,EAAG,EAAG,EAAG,MACtB,SAAU7c,EAAMpK,GACjBoK,EAAK+d,SAAS/d,EAAK0W,WAAa9gB,MAC/B,SAAUsB,EAAOgc,GAClB,OAAOA,EAAIwD,WAAaxf,EAAMwf,WAAyD,IAA3CxD,EAAIuI,cAAgBvkB,EAAMukB,kBACrE,SAAUzb,GACX,OAAOA,EAAK0W,cAEd,MACoBrW,EAAM9I,gECVtBmJ,GAAS,QAAS,SAAUV,GAC9BA,EAAKyS,QAAQzS,EAAOA,EAAKmc,sBACxB,SAAUnc,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,EAAO,SAC3B,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QACtB,SAAU8I,GACX,OAAOA,EAAK0c,mBAEd,MACqBhc,EAAOnJ,gKCXb,SAAS,EAACvE,GACvB,IAAIC,EAAQD,EACRE,EAAUF,EAUd,SAASF,EAAKN,EAAGW,EAAGC,EAAIC,GAItB,IAHU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKb,EAAEc,QAEhBF,EAAKC,GAAI,CACd,IAAIE,EAAMH,EAAKC,IAAO,EAClBH,EAAQV,EAAEe,GAAMJ,GAAK,EAAGC,EAAKG,EAAM,EAAOF,EAAKE,EAGrD,OAAOH,EAsBT,OAvCiB,IAAbJ,EAAEM,SACJL,EAAQ,SAAeO,EAAGL,GACxB,OAAOH,EAAEQ,GAAKL,GAGhBD,EAyCJ,SAA6BF,GAC3B,OAAO,SAAUQ,EAAGL,GAClB,OCrDqBX,EDqDJQ,EAAEQ,KCrDKf,EDqDDU,ICpDT,EAAIX,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIC,IADhC,IAAUF,EAAGC,GDUdgB,CAAoBT,IAkCzB,CACLF,KAAMA,EACNC,OATF,SAAgBP,EAAGW,EAAGC,EAAIC,GACd,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKb,EAAEc,QACvB,IAAII,EAAIZ,EAAKN,EAAGW,EAAGC,EAAIC,EAAK,GAC5B,OAAOK,EAAIN,GAAMH,EAAMT,EAAEkB,EAAI,GAAIP,IAAMF,EAAMT,EAAEkB,GAAIP,GAAKO,EAAI,EAAIA,GAMhEb,MAtBF,SAAeL,EAAGW,EAAGC,EAAIC,GAIvB,IAHU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAKb,EAAEc,QAEhBF,EAAKC,GAAI,CACd,IAAIE,EAAMH,EAAKC,IAAO,EAClBH,EAAQV,EAAEe,GAAMJ,GAAK,EAAGE,EAAKE,EAASH,EAAKG,EAAM,EAGvD,OAAOH,IElCX,IAAIoE,EAAMJ,KAAKK,KAAK,IAChBC,EAAKN,KAAKK,KAAK,IACfE,EAAKP,KAAKK,KAAK,GA8CZ,SAASmB,EAAS1B,EAAOD,EAAMW,GACpC,IAAIiB,EAAQzB,KAAK0B,IAAI7B,EAAOC,GAASE,KAAKC,IAAI,EAAGO,GAC7CmB,EAAQ3B,KAAKuB,IAAI,GAAIvB,KAAKmB,MAAMnB,KAAKoB,IAAIK,GAASzB,KAAKqB,OACvDC,EAAQG,EAAQE,EAEpB,OADIL,GAASlB,EAAKuB,GAAS,GAAYL,GAAShB,EAAIqB,GAAS,EAAWL,GAASf,IAAIoB,GAAS,GACvF9B,EAAOC,GAAS6B,EAAQA,gJCnCjC,SAASilB,EAAO5d,EAAMC,EAAOC,EAAMC,EAAKC,EAAMC,GAC5C,IAAIwd,EAAgB,CAAC,CAACvd,EAAA,EAAQ,EAAGwd,EAAA,IAAiB,CAACxd,EAAA,EAAQ,EAAG,EAAIwd,EAAA,IAAiB,CAACxd,EAAA,EAAQ,GAAI,GAAKwd,EAAA,IAAiB,CAACxd,EAAA,EAAQ,GAAI,GAAKwd,EAAA,IAAiB,CAACzd,EAAQ,EAAGyd,EAAA,IAAiB,CAACzd,EAAQ,EAAG,EAAIyd,EAAA,IAAiB,CAACzd,EAAQ,GAAI,GAAKyd,EAAA,IAAiB,CAACzd,EAAQ,GAAI,GAAKyd,EAAA,IAAiB,CAAC1d,EAAM,EAAG0d,EAAA,IAAe,CAAC1d,EAAM,EAAG,EAAI0d,EAAA,IAAe,CAAC1d,EAAM,EAAG,EAAI0d,EAAA,IAAe,CAAC1d,EAAM,GAAI,GAAK0d,EAAA,IAAe,CAAC3d,EAAK,EAAG2d,EAAA,IAAc,CAAC3d,EAAK,EAAG,EAAI2d,EAAA,IAAc,CAAC5d,EAAM,EAAG4d,EAAA,IAAe,CAAC7d,EAAO,EAAG6d,EAAA,IAAgB,CAAC7d,EAAO,EAAG,EAAI6d,EAAA,IAAgB,CAAC9d,EAAM,EAAG8d,EAAA,KAiB9hB,SAAS/d,EAAajJ,EAAOD,EAAMW,GACjC,IAAIoC,EAAS5C,KAAK0B,IAAI7B,EAAOC,GAASU,EAClClE,EAAIyqB,GAAS,SAAU1f,GAIzB,OAHY,OAAeA,EAAO,GACjB,MAGhB5L,MAAMorB,EAAejkB,GACxB,GAAItG,IAAMuqB,EAAc3qB,OAAQ,OAAO8M,EAAKyd,MAAMjlB,EAAS1B,EAAQgnB,EAAA,GAAcjnB,EAAOinB,EAAA,GAActmB,IACtG,GAAU,IAANlE,EAAS,OAAOoqB,EAAA,QAAkB1mB,KAAKC,IAAIuB,EAAS1B,EAAOD,EAAMW,GAAQ,IAE7E,IAAIwmB,GAAiB,OAAeH,EAAcjkB,EAASikB,EAAcvqB,EAAI,GAAG,GAAKuqB,EAAcvqB,GAAG,GAAKsG,EAAStG,EAAI,EAAIA,GAAI,GAC5HgH,EAAI0jB,EAAe,GACnBxoB,EAAOwoB,EAAe,GAE1B,OAAO1jB,EAAEmjB,MAAMjoB,GAGjB,MAAO,CAjCP,SAAesB,EAAOD,EAAMW,GAC1B,IAAIC,EAAUZ,EAAOC,EAErB,GAAIW,EAAS,CACX,IAAI2G,EAAO,CAACvH,EAAMC,GAClBA,EAAQsH,EAAK,GACbvH,EAAOuH,EAAK,GAGd,IAAIlB,EAAW1F,GAAgC,mBAAhBA,EAAML,MAAuBK,EAAQuI,EAAajJ,EAAOD,EAAMW,GAC1FE,EAAQwF,EAAWA,EAAS/F,MAAML,GAAQD,EAAO,GAAK,GAE1D,OAAOY,EAAUC,EAAMD,UAAYC,GAqBtBqI,GAGjB,IAAIke,EAAUL,UAAO,EAASM,EAAA,EAAUC,EAAA,GAASC,EAAA,EAAQC,EAAA,EAASC,EAAA,GAC9DC,GAAW,OAAeN,EAAS,GACnCO,EAAWD,EAAS,GACpBE,EAAkBF,EAAS,GAE3BG,EAAWd,EAAO5d,EAAA,EAAMC,EAAA,EAAOC,EAAA,GAAMC,EAAA,EAAKC,EAAA,EAAMC,EAAA,GAChDse,GAAW,OAAeD,EAAU,GACpCE,EAAYD,EAAS,GACrBE,EAAmBF,EAAS,8DC/D5BP,GAAS,QAAS,SAAUxe,GAC9BA,EAAKkf,YAAY,EAAG,EAAG,EAAG,MACzB,SAAUlf,EAAMpK,GACjBoK,EAAKmf,WAAWnf,EAAKwb,aAAe5lB,MACnC,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QACtB,SAAU8I,GACX,OAAOA,EAAKwb,aAAe,KAE7B,MACqBgD,EAAOjnB,iECVxBknB,GAAU,QAAS,SAAUze,GAC/BA,EAAKof,cAAc,EAAG,EAAG,MACxB,SAAUpf,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,EAAO,SAC3B,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QACtB,SAAU8I,GACX,OAAOA,EAAK8Y,iBAEd,MACsB2F,EAAQlnB,iECV1BmnB,GAAY,QAAS,SAAU1e,GACjCA,EAAKqf,cAAc,EAAG,MACrB,SAAUrf,EAAMpK,GACjBoK,EAAKyS,SAASzS,EAAOpK,EAAO,SAC3B,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QACtB,SAAU8I,GACX,OAAOA,EAAKyc,mBAEd,MACwBiC,EAAUnnB,6CCX9B+mB,GAAW,cAAS,SAAUte,GAChCA,EAAKmf,WAAW,GAChBnf,EAAKkf,YAAY,EAAG,EAAG,EAAG,MACzB,SAAUlf,EAAMpK,GACjBoK,EAAKsf,YAAYtf,EAAKmY,cAAgBviB,MACrC,SAAUsB,EAAOgc,GAClB,OAAOA,EAAIiF,cAAgBjhB,EAAMihB,cAAkE,IAAjDjF,EAAIqI,iBAAmBrkB,EAAMqkB,qBAC9E,SAAUvb,GACX,OAAOA,EAAKmY,iBAEd,MACuBmG,EAAS/mB,kJCThC,SAASgoB,EAAW7rB,GAClB,OAAO,QAAS,SAAUsM,GACxBA,EAAKmf,WAAWnf,EAAKwb,cAAgBxb,EAAKkY,YAAc,EAAIxkB,GAAK,GACjEsM,EAAKkf,YAAY,EAAG,EAAG,EAAG,MACzB,SAAUlf,EAAMpK,GACjBoK,EAAKmf,WAAWnf,EAAKwb,aAAsB,EAAP5lB,MACnC,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAAS,QAIpB,IAAIsoB,EAAYD,EAAW,GACvBE,EAAYF,EAAW,GACvBG,EAAaH,EAAW,GACxBI,EAAeJ,EAAW,GAC1BK,EAAcL,EAAW,GACzBM,EAAYN,EAAW,GACvBO,EAAcP,EAAW,GACZC,EAAUjoB,MACVkoB,EAAUloB,MACTmoB,EAAWnoB,MACTooB,EAAapoB,MACdqoB,EAAYroB,MACdsoB,EAAUtoB,MACRuoB,EAAYvoB,uDC1BlCwoB,GAAU,QAAS,SAAU/f,GAC/BA,EAAKsf,YAAY,EAAG,GACpBtf,EAAKkf,YAAY,EAAG,EAAG,EAAG,MACzB,SAAUlf,EAAMpK,GACjBoK,EAAKiV,eAAejV,EAAKub,iBAAmB3lB,MAC3C,SAAUsB,EAAOgc,GAClB,OAAOA,EAAIqI,iBAAmBrkB,EAAMqkB,oBACnC,SAAUvb,GACX,OAAOA,EAAKub,oBAGdwE,EAAQlC,MAAQ,SAAU3gB,GACxB,OAAQlF,SAASkF,EAAI9F,KAAKmB,MAAM2E,KAASA,EAAI,GAAY,QAAS,SAAU8C,GAC1EA,EAAKiV,eAAe7d,KAAKmB,MAAMyH,EAAKub,iBAAmBre,GAAKA,GAC5D8C,EAAKsf,YAAY,EAAG,GACpBtf,EAAKkf,YAAY,EAAG,EAAG,EAAG,MACzB,SAAUlf,EAAMpK,GACjBoK,EAAKiV,eAAejV,EAAKub,iBAAmB3lB,EAAOsH,MALH,MASpD,MACsB6iB,EAAQxoB,kJCpB9B,SAASyoB,EAAQtsB,GACf,OAAO,QAAS,SAAUsM,GACxBA,EAAK8c,QAAQ9c,EAAK0b,WAAa1b,EAAKyW,SAAW,EAAI/iB,GAAK,GACxDsM,EAAK6c,SAAS,EAAG,EAAG,EAAG,MACtB,SAAU7c,EAAMpK,GACjBoK,EAAK8c,QAAQ9c,EAAK0b,UAAmB,EAAP9lB,MAC7B,SAAUsB,EAAOgc,GAClB,OAAQA,EAAMhc,GAASgc,EAAIqJ,oBAAsBrlB,EAAMqlB,qBAAuB,MAAkB,QAI7F,IAAI0D,EAASD,EAAQ,GACjBE,EAASF,EAAQ,GACjBG,EAAUH,EAAQ,GAClBI,EAAYJ,EAAQ,GACpBK,EAAWL,EAAQ,GACnBM,EAASN,EAAQ,GACjBO,EAAWP,EAAQ,GACTC,EAAO1oB,MACP2oB,EAAO3oB,MACN4oB,EAAQ5oB,MACN6oB,EAAU7oB,MACX8oB,EAAS9oB,MACX+oB,EAAO/oB,MACLgpB,EAAShpB,uDC1B5B6I,GAAO,QAAS,SAAUJ,GAC5BA,EAAK+d,SAAS,EAAG,GACjB/d,EAAK6c,SAAS,EAAG,EAAG,EAAG,MACtB,SAAU7c,EAAMpK,GACjBoK,EAAK+U,YAAY/U,EAAKyb,cAAgB7lB,MACrC,SAAUsB,EAAOgc,GAClB,OAAOA,EAAIuI,cAAgBvkB,EAAMukB,iBAChC,SAAUzb,GACX,OAAOA,EAAKyb,iBAGdrb,EAAKyd,MAAQ,SAAU3gB,GACrB,OAAQlF,SAASkF,EAAI9F,KAAKmB,MAAM2E,KAASA,EAAI,GAAY,QAAS,SAAU8C,GAC1EA,EAAK+U,YAAY3d,KAAKmB,MAAMyH,EAAKyb,cAAgBve,GAAKA,GACtD8C,EAAK+d,SAAS,EAAG,GACjB/d,EAAK6c,SAAS,EAAG,EAAG,EAAG,MACtB,SAAU7c,EAAMpK,GACjBoK,EAAK+U,YAAY/U,EAAKyb,cAAgB7lB,EAAOsH,MALG,MASpD,MACmBkD,EAAK7I,8ICtBbipB,EAAkB,CAC3BC,WAAY,SAAUC,GACpB,SAASD,IACP,OAAOC,EAAYpiB,MAAMlD,KAAMjE,WAOjC,OAJAspB,EAAW/rB,SAAW,WACpB,OAAOgsB,EAAYhsB,YAGd+rB,EATG,EAUV,WAGA,IAFA,IAAIE,EAAO,GAEFC,EAAK,EAAGA,EAAKzpB,UAAU7D,OAAQstB,IACtCD,EAAKC,GAAMzpB,UAAUypB,GAGvB,IAAIC,EAAWL,EAAgBK,SAC/B,QAASA,MAAAA,OAA2C,EAASA,EAASJ,aAAeA,YAAYniB,WAAM,GAAQ,QAAc,IAAI,QAAOqiB,QAE1IG,aAAc,SAAUC,GACtB,SAASD,EAAa9Q,GACpB,OAAO+Q,EAAcziB,MAAMlD,KAAMjE,WAOnC,OAJA2pB,EAAapsB,SAAW,WACtB,OAAOqsB,EAAcrsB,YAGhBosB,EATK,EAUZ,SAAUE,GACV,IAAIH,EAAWL,EAAgBK,SAC/B,QAASA,MAAAA,OAA2C,EAASA,EAASC,eAAiBA,cAAcE,MAEvGH,cAAUhqB,GClCL,SAASoqB,EAAqBxrB,GACnC+qB,EAAgBC,YAAW,WACzB,IAAIS,EAAmBC,EAAA,mBAEvB,IAAID,EAGF,MAAMzrB,EAFNyrB,EAAiBzrB,MCPhB,SAAS2rB,KCAT,IAAIC,EACFC,EAAmB,SAAKzqB,OAAWA,GAQrC,SAASyqB,EAAmBC,EAAMlsB,EAAOqD,GAC9C,MAAO,CACL6oB,KAAMA,EACNlsB,MAAOA,EACPqD,MAAOA,gBCHP8oB,EAAa,SAAUC,GAGzB,SAASD,EAAWE,GAClB,IAAIC,EAAQF,EAAO9sB,KAAKyG,OAASA,KAcjC,OAZAumB,EAAMC,WAAY,EAEdF,GACFC,EAAMD,YAAcA,GAEhB,QAAeA,IACjBA,EAAYG,IAAIF,IAGlBA,EAAMD,YAAcI,EAGfH,EAiET,OAlFA,QAAUH,EAAYC,GAoBtBD,EAAWtT,OAAS,SAAUrY,EAAM6C,EAAOqpB,GACzC,OAAO,IAAIC,EAAensB,EAAM6C,EAAOqpB,IAGzCP,EAAW/sB,UAAUoB,KAAO,SAAUR,GAChC+F,KAAKwmB,UACPK,ED/BC,SAA0B5sB,GAC/B,OAAOisB,EAAmB,IAAKjsB,OAAOwB,GC8BRqrB,CAAiB7sB,GAAQ+F,MAEnDA,KAAK+mB,MAAM9sB,IAIfmsB,EAAW/sB,UAAUiE,MAAQ,SAAUjD,GACjC2F,KAAKwmB,UACPK,EDzCGX,EAAmB,SAAKzqB,ECyCiBpB,GAAM2F,OAElDA,KAAKwmB,WAAY,EAEjBxmB,KAAKgnB,OAAO3sB,KAIhB+rB,EAAW/sB,UAAUstB,SAAW,WAC1B3mB,KAAKwmB,UACPK,EAA0BZ,EAAuBjmB,OAEjDA,KAAKwmB,WAAY,EAEjBxmB,KAAKinB,cAITb,EAAW/sB,UAAU6tB,YAAc,WAC5BlnB,KAAKmnB,SACRnnB,KAAKwmB,WAAY,EAEjBH,EAAOhtB,UAAU6tB,YAAY3tB,KAAKyG,MAElCA,KAAKsmB,YAAc,OAIvBF,EAAW/sB,UAAU0tB,MAAQ,SAAU9sB,GACrC+F,KAAKsmB,YAAY7rB,KAAKR,IAGxBmsB,EAAW/sB,UAAU2tB,OAAS,SAAU3sB,GACtC,IACE2F,KAAKsmB,YAAYhpB,MAAMjD,GACvB,QACA2F,KAAKknB,gBAITd,EAAW/sB,UAAU4tB,UAAY,WAC/B,IACEjnB,KAAKsmB,YAAYK,WACjB,QACA3mB,KAAKknB,gBAIFd,EAnFQ,CAoFfgB,EAAA,IAIER,EAAiB,SAAUP,GAG7B,SAASO,EAAeS,EAAgB/pB,EAAOqpB,GAC7C,IAEIlsB,EAFA8rB,EAAQF,EAAO9sB,KAAKyG,OAASA,KAIjC,IAAI,EAAAsnB,EAAA,GAAWD,GACb5sB,EAAO4sB,OACF,GAAIA,EAAgB,CAEzB,IAAIE,EADJ9sB,EAAO4sB,EAAe5sB,KAAM6C,EAAQ+pB,EAAe/pB,MAAOqpB,EAAWU,EAAeV,SAGhFJ,GAASR,EAAA,4BACXwB,EAAYnuB,OAAO0Z,OAAOuU,IAEhBH,YAAc,WACtB,OAAOX,EAAMW,eAGfK,EAAYF,EAGd5sB,EAAOA,MAAAA,OAAmC,EAASA,EAAK+sB,KAAKD,GAC7DjqB,EAAQA,MAAAA,OAAqC,EAASA,EAAMkqB,KAAKD,GACjEZ,EAAWA,MAAAA,OAA2C,EAASA,EAASa,KAAKD,GAQ/E,OALAhB,EAAMD,YAAc,CAClB7rB,KAAMA,EAAOgtB,EAAqBhtB,EAAM8rB,GAASP,EACjD1oB,MAAOmqB,EAAqBnqB,MAAAA,EAAqCA,EAAQoqB,EAAqBnB,GAC9FI,SAAUA,EAAWc,EAAqBd,EAAUJ,GAASP,GAExDO,EAGT,OApCA,QAAUK,EAAgBP,GAoCnBO,EArCY,CAsCnBR,GAIF,SAASqB,EAAqBE,EAASC,GACrC,OAAO,WAGL,IAFA,IAAIrC,EAAO,GAEFC,EAAK,EAAGA,EAAKzpB,UAAU7D,OAAQstB,IACtCD,EAAKC,GAAMzpB,UAAUypB,GAGvB,IACEmC,EAAQzkB,WAAM,GAAQ,QAAc,IAAI,QAAOqiB,KAC/C,MAAOlrB,GACH0rB,EAAA,yCACF,OAAa1rB,GAEbwrB,EAAqBxrB,KAM7B,SAASqtB,EAAoBrtB,GAC3B,MAAMA,EAGR,SAASwsB,EAA0BgB,EAAcC,GAC/C,IAAIC,EAAwBhC,EAAA,wBAC5BgC,GAAyB3C,EAAgBC,YAAW,WAClD,OAAO0C,EAAsBF,EAAcC,MAIxC,IAAIpB,EAAiB,CAC1BS,QAAQ,EACR1sB,KAAMurB,EACN1oB,MAAOoqB,EACPf,SAAUX,+IC9KDgC,GAAsB,cAAiB,SAAU3B,GAC1D,OAAO,SAAiC4B,GACtC5B,EAAOrmB,MAEPA,KAAKkoB,QAAUD,EAASA,EAAO/vB,OAAS,4CAA8C+vB,EAAOzoB,KAAI,SAAUnF,EAAK/B,GAC9G,OAAOA,EAAI,EAAI,KAAO+B,EAAIf,cACzBgb,KAAK,QAAU,GAClBtU,KAAKtG,KAAO,sBACZsG,KAAKioB,OAASA,eCJdb,EAAe,WACjB,SAASA,EAAae,GACpBnoB,KAAKmoB,gBAAkBA,EACvBnoB,KAAKmnB,QAAS,EACdnnB,KAAKooB,WAAa,KAClBpoB,KAAKqoB,WAAa,KAwIC,IACfC,EAKN,OA3IAlB,EAAa/tB,UAAU6tB,YAAc,WACnC,IAAIqB,EAAKC,EAAIC,EAAKC,EAEdT,EAEJ,IAAKjoB,KAAKmnB,OAAQ,CAChBnnB,KAAKmnB,QAAS,EACd,IAAIiB,EAAapoB,KAAKooB,WAEtB,GAAIA,EAGF,GAFApoB,KAAKooB,WAAa,KAEdrvB,MAAMC,QAAQovB,GAChB,IACE,IAAK,IAAIO,GAAe,QAASP,GAAaQ,EAAiBD,EAAaluB,QAASmuB,EAAe5uB,KAAM4uB,EAAiBD,EAAaluB,OAAQ,CAC/HmuB,EAAe3uB,MACrB4uB,OAAO7oB,OAElB,MAAO8oB,GACPP,EAAM,CACJjrB,MAAOwrB,GAET,QACA,IACMF,IAAmBA,EAAe5uB,OAASwuB,EAAKG,EAAahuB,SAAS6tB,EAAGjvB,KAAKovB,GAClF,QACA,GAAIJ,EAAK,MAAMA,EAAIjrB,YAIvB8qB,EAAWS,OAAO7oB,MAItB,IAAImoB,EAAkBnoB,KAAKmoB,gBAE3B,IAAI,EAAAb,EAAA,GAAWa,GACb,IACEA,IACA,MAAOjuB,GACP+tB,EAAS/tB,aAAa8tB,EAAsB9tB,EAAE+tB,OAAS,CAAC/tB,GAI5D,IAAImuB,EAAaroB,KAAKqoB,WAEtB,GAAIA,EAAY,CACdroB,KAAKqoB,WAAa,KAElB,IACE,IAAK,IAAIU,GAAe,QAASV,GAAaW,EAAiBD,EAAatuB,QAASuuB,EAAehvB,KAAMgvB,EAAiBD,EAAatuB,OAAQ,CAC9I,IAAIwuB,EAAaD,EAAe/uB,MAEhC,IACEivB,EAAaD,GACb,MAAO5uB,GACP4tB,EAASA,MAAAA,EAAuCA,EAAS,GAErD5tB,aAAe2tB,EACjBC,GAAS,SAAc,QAAc,IAAI,QAAOA,KAAU,QAAO5tB,EAAI4tB,SAErEA,EAAOjmB,KAAK3H,KAIlB,MAAO8uB,GACPV,EAAM,CACJnrB,MAAO6rB,GAET,QACA,IACMH,IAAmBA,EAAehvB,OAAS0uB,EAAKK,EAAapuB,SAAS+tB,EAAGnvB,KAAKwvB,GAClF,QACA,GAAIN,EAAK,MAAMA,EAAInrB,QAKzB,GAAI2qB,EACF,MAAM,IAAID,EAAoBC,KAKpCb,EAAa/tB,UAAUotB,IAAM,SAAU2C,GACrC,IAAIZ,EAEJ,GAAIY,GAAYA,IAAappB,KAC3B,GAAIA,KAAKmnB,OACP+B,EAAaE,OACR,CACL,GAAIA,aAAoBhC,EAAc,CACpC,GAAIgC,EAASjC,QAAUiC,EAASC,WAAWrpB,MACzC,OAGFopB,EAASE,WAAWtpB,OAGrBA,KAAKqoB,WAAwC,QAA1BG,EAAKxoB,KAAKqoB,kBAA+B,IAAPG,EAAgBA,EAAK,IAAIxmB,KAAKonB,KAK1FhC,EAAa/tB,UAAUgwB,WAAa,SAAUzW,GAC5C,IAAIwV,EAAapoB,KAAKooB,WACtB,OAAOA,IAAexV,GAAU7Z,MAAMC,QAAQovB,IAAeA,EAAWmB,SAAS3W,IAGnFwU,EAAa/tB,UAAUiwB,WAAa,SAAU1W,GAC5C,IAAIwV,EAAapoB,KAAKooB,WACtBpoB,KAAKooB,WAAarvB,MAAMC,QAAQovB,IAAeA,EAAWpmB,KAAK4Q,GAASwV,GAAcA,EAAa,CAACA,EAAYxV,GAAUA,GAG5HwU,EAAa/tB,UAAUmwB,cAAgB,SAAU5W,GAC/C,IAAIwV,EAAapoB,KAAKooB,WAElBA,IAAexV,EACjB5S,KAAKooB,WAAa,KACTrvB,MAAMC,QAAQovB,KACvB,EAAAqB,EAAA,GAAUrB,EAAYxV,IAI1BwU,EAAa/tB,UAAUwvB,OAAS,SAAUO,GACxC,IAAIf,EAAaroB,KAAKqoB,WACtBA,IAAc,EAAAoB,EAAA,GAAUpB,EAAYe,GAEhCA,aAAoBhC,GACtBgC,EAASI,cAAcxpB,OAI3BonB,EAAasC,QACPpB,EAAQ,IAAIlB,GACVD,QAAS,EACRmB,GAGFlB,EAnJU,GAuJRuC,EAAqBvC,EAAasC,MACtC,SAASE,EAAe3vB,GAC7B,OAAOA,aAAiBmtB,GAAgBntB,GAAS,WAAYA,IAAS,EAAAqtB,EAAA,GAAWrtB,EAAM4uB,UAAW,EAAAvB,EAAA,GAAWrtB,EAAMwsB,OAAQ,EAAAa,EAAA,GAAWrtB,EAAMitB,aAG9I,SAASgC,EAAaE,IAChB,EAAA9B,EAAA,GAAW8B,GACbA,IAEAA,EAASlC,kFCrKN,IAAInB,EAAS,CAClBD,iBAAkB,KAClBiC,sBAAuB,KACvB8B,aAASpuB,EACTquB,uCAAuC,EACvCC,0BAA0B,qCCLrB,SAASN,EAAU7uB,EAAKovB,GAC7B,GAAIpvB,EAAK,CACP,IAAIO,EAAQP,EAAI2I,QAAQymB,GACxB,GAAK7uB,GAASP,EAAIqvB,OAAO9uB,EAAO,uECH7B,SAAS+uB,EAAiBC,GAC/B,IAKIC,EAAWD,GALF,SAAgBvC,GAC3BhU,MAAMra,KAAKquB,GACXA,EAASyC,OAAQ,IAAIzW,OAAQyW,SAM/B,OAFAD,EAAS/wB,UAAYD,OAAO0Z,OAAOc,MAAMva,WACzC+wB,EAAS/wB,UAAUI,YAAc2wB,EAC1BA,yICRLE,EAAU,KACP,SAASC,EAAaC,GAC3B,GAAI,0CAA8C,CAChD,IAAIC,GAAUH,EAWd,GATIG,IACFH,EAAU,CACRI,aAAa,EACbptB,MAAO,OAIXktB,IAEIC,EAAQ,CACV,IAAIjC,EAAK8B,EACLI,EAAclC,EAAGkC,YACjBptB,EAAQkrB,EAAGlrB,MAGf,GAFAgtB,EAAU,KAENI,EACF,MAAMptB,QAIVktB,IAGG,SAASG,EAAatwB,GACvB,2CAAgDiwB,IAClDA,EAAQI,aAAc,EACtBJ,EAAQhtB,MAAQjD,uCChCb,SAASitB,EAAWrtB,GACzB,MAAwB,mBAAVA,8KCehB,IAAI2wB,EAAiB,SAAuBxyB,EAAGf,GAW7C,OAVAuzB,EAAiBxxB,OAAOyxB,gBAAkB,CACxCC,UAAW,cACA/xB,OAAS,SAAUX,EAAGf,GACjCe,EAAE0yB,UAAYzzB,IACX,SAAUe,EAAGf,GAChB,IAAK,IAAIwK,KAAKxK,EACR+B,OAAOC,UAAUiY,eAAe/X,KAAKlC,EAAGwK,KAAIzJ,EAAEyJ,GAAKxK,EAAEwK,KAItD+oB,EAAexyB,EAAGf,IAGpB,SAAS0zB,EAAU3yB,EAAGf,GAC3B,GAAiB,mBAANA,GAA0B,OAANA,EAAY,MAAM,IAAI+C,UAAU,uBAAyBkb,OAAOje,GAAK,iCAIpG,SAAS2zB,IACPhrB,KAAKvG,YAAcrB,EAHrBwyB,EAAexyB,EAAGf,GAMlBe,EAAEiB,UAAkB,OAANhC,EAAa+B,OAAO0Z,OAAOzb,IAAM2zB,EAAG3xB,UAAYhC,EAAEgC,UAAW,IAAI2xB,GA8LpD5xB,OAAO0Z,OAiB7B,SAASmY,EAASvyB,GACvB,IAAIqB,EAAsB,mBAAXlB,QAAyBA,OAAOC,SAC3C8X,EAAI7W,GAAKrB,EAAEqB,GACXzB,EAAI,EACR,GAAIsY,EAAG,OAAOA,EAAErX,KAAKb,GACrB,GAAIA,GAAyB,iBAAbA,EAAER,OAAqB,MAAO,CAC5CuC,KAAM,WAEJ,OADI/B,GAAKJ,GAAKI,EAAER,SAAQQ,OAAI,GACrB,CACLuB,MAAOvB,GAAKA,EAAEJ,KACd0B,MAAOtB,KAIb,MAAM,IAAI0B,UAAUL,EAAI,0BAA4B,mCAE/C,SAASmxB,EAAOxyB,EAAGS,GACxB,IAAIyX,EAAsB,mBAAX/X,QAAyBH,EAAEG,OAAOC,UACjD,IAAK8X,EAAG,OAAOlY,EACf,IACI8F,EAEAtE,EAHA5B,EAAIsY,EAAErX,KAAKb,GAEXyyB,EAAK,GAGT,IACE,WAAc,IAANhyB,GAAgBA,KAAM,MAAQqF,EAAIlG,EAAEmC,QAAQT,MAClDmxB,EAAGnpB,KAAKxD,EAAEvE,OAEZ,MAAOqD,GACPpD,EAAI,CACFoD,MAAOA,GAET,QACA,IACMkB,IAAMA,EAAExE,OAAS4W,EAAItY,EAAU,SAAIsY,EAAErX,KAAKjB,GAC9C,QACA,GAAI4B,EAAG,MAAMA,EAAEoD,OAInB,OAAO6tB,EA0BF,SAASC,EAAcC,EAAI1xB,GAChC,IAAK,IAAIrB,EAAI,EAAGgzB,EAAK3xB,EAAKzB,OAAQoG,EAAI+sB,EAAGnzB,OAAQI,EAAIgzB,EAAIhzB,IAAKgG,IAC5D+sB,EAAG/sB,GAAK3E,EAAKrB,GAGf,OAAO+yB,EAqGgBjyB,OAAO0Z,6BClahCyY,EAAOC,QAAU,EAAjB,wBCCA,IAGIC,EAHa1yB,MAAMM,UAGQoD,QA6B/B8uB,EAAOC,QAJP,SAAiBE,GACf,OAAgB,MAATA,EAAgBA,EAAQD,EAAclyB,KAAKmyB,sBCvBpD,IAAIC,EAAW,SAAUH,GACvB,aAEA,IAEI/vB,EAFAmwB,EAAKxyB,OAAOC,UACZwyB,EAASD,EAAGta,eAEZwa,EAA4B,mBAAXjzB,OAAwBA,OAAS,GAClDkzB,EAAiBD,EAAQhzB,UAAY,aACrCkzB,EAAsBF,EAAQG,eAAiB,kBAC/CC,EAAoBJ,EAAQK,aAAe,gBAE/C,SAASC,EAAOC,EAAK5pB,EAAKxI,GAOxB,OANAb,OAAOkzB,eAAeD,EAAK5pB,EAAK,CAC9BxI,MAAOA,EACPsyB,YAAY,EACZC,cAAc,EACdC,UAAU,IAELJ,EAAI5pB,GAEb,IAEE2pB,EAAO,GAAI,IACX,MAAO/xB,GACP+xB,EAAS,SAASC,EAAK5pB,EAAKxI,GAC1B,OAAOoyB,EAAI5pB,GAAOxI,GAItB,SAASyyB,EAAKC,EAASC,EAASC,EAAMC,GAEpC,IAAIC,EAAiBH,GAAWA,EAAQvzB,qBAAqB2zB,EAAYJ,EAAUI,EAC/EC,EAAY7zB,OAAO0Z,OAAOia,EAAe1zB,WACzCixB,EAAU,IAAI4C,EAAQJ,GAAe,IAMzC,OAFAG,EAAUE,QAuMZ,SAA0BR,EAASE,EAAMvC,GACvC,IAAI8C,EAAQC,EAEZ,OAAO,SAAgBC,EAAQC,GAC7B,GAAIH,IAAUI,EACZ,MAAM,IAAI5Z,MAAM,gCAGlB,GAAIwZ,IAAUK,EAAmB,CAC/B,GAAe,UAAXH,EACF,MAAMC,EAKR,OAAOG,IAMT,IAHApD,EAAQgD,OAASA,EACjBhD,EAAQiD,IAAMA,IAED,CACX,IAAI9H,EAAW6E,EAAQ7E,SACvB,GAAIA,EAAU,CACZ,IAAIkI,EAAiBC,EAAoBnI,EAAU6E,GACnD,GAAIqD,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBrD,EAAQgD,OAGVhD,EAAQwD,KAAOxD,EAAQyD,MAAQzD,EAAQiD,SAElC,GAAuB,UAAnBjD,EAAQgD,OAAoB,CACrC,GAAIF,IAAUC,EAEZ,MADAD,EAAQK,EACFnD,EAAQiD,IAGhBjD,EAAQ0D,kBAAkB1D,EAAQiD,SAEN,WAAnBjD,EAAQgD,QACjBhD,EAAQ2D,OAAO,SAAU3D,EAAQiD,KAGnCH,EAAQI,EAER,IAAIU,EAASC,EAASxB,EAASE,EAAMvC,GACrC,GAAoB,WAAhB4D,EAAOvpB,KAAmB,CAO5B,GAJAyoB,EAAQ9C,EAAQtwB,KACZyzB,EACAW,EAEAF,EAAOX,MAAQM,EACjB,SAGF,MAAO,CACL5zB,MAAOi0B,EAAOX,IACdvzB,KAAMswB,EAAQtwB,MAGS,UAAhBk0B,EAAOvpB,OAChByoB,EAAQK,EAGRnD,EAAQgD,OAAS,QACjBhD,EAAQiD,IAAMW,EAAOX,OA/QPc,CAAiB1B,EAASE,EAAMvC,GAE7C2C,EAcT,SAASkB,EAASG,EAAIjC,EAAKkB,GACzB,IACE,MAAO,CAAE5oB,KAAM,SAAU4oB,IAAKe,EAAG/0B,KAAK8yB,EAAKkB,IAC3C,MAAOlzB,GACP,MAAO,CAAEsK,KAAM,QAAS4oB,IAAKlzB,IAhBjCmxB,EAAQkB,KAAOA,EAoBf,IAAIW,EAAyB,iBACzBe,EAAyB,iBACzBZ,EAAoB,YACpBC,EAAoB,YAIpBI,EAAmB,GAMvB,SAASb,KACT,SAASuB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBrC,EAAOqC,EAAmB1C,GAAgB,WACxC,OAAO/rB,QAGT,IAAI0uB,EAAWt1B,OAAOu1B,eAClBC,EAA0BF,GAAYA,EAASA,EAAS3zB,EAAO,MAC/D6zB,GACAA,IAA4BhD,GAC5BC,EAAOtyB,KAAKq1B,EAAyB7C,KAGvC0C,EAAoBG,GAGtB,IAAIC,EAAKL,EAA2Bn1B,UAClC2zB,EAAU3zB,UAAYD,OAAO0Z,OAAO2b,GAYtC,SAASK,EAAsBz1B,GAC7B,CAAC,OAAQ,QAAS,UAAU01B,SAAQ,SAASzB,GAC3ClB,EAAO/yB,EAAWi0B,GAAQ,SAASC,GACjC,OAAOvtB,KAAKmtB,QAAQG,EAAQC,SAkClC,SAASyB,EAAc/B,EAAWgC,GAChC,SAASC,EAAO5B,EAAQC,EAAK4B,EAASC,GACpC,IAAIlB,EAASC,EAASlB,EAAUK,GAASL,EAAWM,GACpD,GAAoB,UAAhBW,EAAOvpB,KAEJ,CACL,IAAI0qB,EAASnB,EAAOX,IAChBtzB,EAAQo1B,EAAOp1B,MACnB,OAAIA,GACiB,iBAAVA,GACP4xB,EAAOtyB,KAAKU,EAAO,WACdg1B,EAAYE,QAAQl1B,EAAMq1B,SAASC,MAAK,SAASt1B,GACtDi1B,EAAO,OAAQj1B,EAAOk1B,EAASC,MAC9B,SAAS/0B,GACV60B,EAAO,QAAS70B,EAAK80B,EAASC,MAI3BH,EAAYE,QAAQl1B,GAAOs1B,MAAK,SAASC,GAI9CH,EAAOp1B,MAAQu1B,EACfL,EAAQE,MACP,SAAS/xB,GAGV,OAAO4xB,EAAO,QAAS5xB,EAAO6xB,EAASC,MAvBzCA,EAAOlB,EAAOX,KA4BlB,IAAIkC,EAgCJzvB,KAAKmtB,QA9BL,SAAiBG,EAAQC,GACvB,SAASmC,IACP,OAAO,IAAIT,GAAY,SAASE,EAASC,GACvCF,EAAO5B,EAAQC,EAAK4B,EAASC,MAIjC,OAAOK,EAaLA,EAAkBA,EAAgBF,KAChCG,EAGAA,GACEA,KAkHV,SAAS9B,EAAoBnI,EAAU6E,GACrC,IAAIgD,EAAS7H,EAAS3sB,SAASwxB,EAAQgD,QACvC,GAAIA,IAAW7xB,EAAW,CAKxB,GAFA6uB,EAAQ7E,SAAW,KAEI,UAAnB6E,EAAQgD,OAAoB,CAE9B,GAAI7H,EAAS3sB,SAAiB,SAG5BwxB,EAAQgD,OAAS,SACjBhD,EAAQiD,IAAM9xB,EACdmyB,EAAoBnI,EAAU6E,GAEP,UAAnBA,EAAQgD,QAGV,OAAOO,EAIXvD,EAAQgD,OAAS,QACjBhD,EAAQiD,IAAM,IAAInzB,UAChB,kDAGJ,OAAOyzB,EAGT,IAAIK,EAASC,EAASb,EAAQ7H,EAAS3sB,SAAUwxB,EAAQiD,KAEzD,GAAoB,UAAhBW,EAAOvpB,KAIT,OAHA2lB,EAAQgD,OAAS,QACjBhD,EAAQiD,IAAMW,EAAOX,IACrBjD,EAAQ7E,SAAW,KACZoI,EAGT,IAAI8B,EAAOzB,EAAOX,IAElB,OAAMoC,EAOFA,EAAK31B,MAGPswB,EAAQ7E,EAASmK,YAAcD,EAAK11B,MAGpCqwB,EAAQ7vB,KAAOgrB,EAASoK,QAQD,WAAnBvF,EAAQgD,SACVhD,EAAQgD,OAAS,OACjBhD,EAAQiD,IAAM9xB,GAUlB6uB,EAAQ7E,SAAW,KACZoI,GANE8B,GA3BPrF,EAAQgD,OAAS,QACjBhD,EAAQiD,IAAM,IAAInzB,UAAU,oCAC5BkwB,EAAQ7E,SAAW,KACZoI,GAoDX,SAASiC,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB/vB,KAAKqwB,WAAWruB,KAAKguB,GAGvB,SAASM,EAAcN,GACrB,IAAI9B,EAAS8B,EAAMO,YAAc,GACjCrC,EAAOvpB,KAAO,gBACPupB,EAAOX,IACdyC,EAAMO,WAAarC,EAGrB,SAAShB,EAAQJ,GAIf9sB,KAAKqwB,WAAa,CAAC,CAAEJ,OAAQ,SAC7BnD,EAAYiC,QAAQe,EAAc9vB,MAClCA,KAAKwwB,OAAM,GA8Bb,SAASz1B,EAAO01B,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAS1E,GAC9B,GAAI2E,EACF,OAAOA,EAAen3B,KAAKk3B,GAG7B,GAA6B,mBAAlBA,EAASh2B,KAClB,OAAOg2B,EAGT,IAAK1yB,MAAM0yB,EAASv4B,QAAS,CAC3B,IAAII,GAAK,EAAGmC,EAAO,SAASA,IAC1B,OAASnC,EAAIm4B,EAASv4B,QACpB,GAAI2zB,EAAOtyB,KAAKk3B,EAAUn4B,GAGxB,OAFAmC,EAAKR,MAAQw2B,EAASn4B,GACtBmC,EAAKT,MAAO,EACLS,EAOX,OAHAA,EAAKR,MAAQwB,EACbhB,EAAKT,MAAO,EAELS,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAMizB,GAIjB,SAASA,IACP,MAAO,CAAEzzB,MAAOwB,EAAWzB,MAAM,GA+MnC,OA7mBAu0B,EAAkBl1B,UAAYm1B,EAC9BpC,EAAOyC,EAAI,cAAeL,GAC1BpC,EAAOoC,EAA4B,cAAeD,GAClDA,EAAkBoC,YAAcvE,EAC9BoC,EACAtC,EACA,qBAaFV,EAAQoF,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAOp3B,YAClD,QAAOq3B,IACHA,IAASvC,GAG2B,uBAAnCuC,EAAKH,aAAeG,EAAKp3B,QAIhC8xB,EAAQuF,KAAO,SAASF,GAQtB,OAPIz3B,OAAOyxB,eACTzxB,OAAOyxB,eAAegG,EAAQrC,IAE9BqC,EAAO/F,UAAY0D,EACnBpC,EAAOyE,EAAQ3E,EAAmB,sBAEpC2E,EAAOx3B,UAAYD,OAAO0Z,OAAO+b,GAC1BgC,GAOTrF,EAAQwF,MAAQ,SAASzD,GACvB,MAAO,CAAE+B,QAAS/B,IAsEpBuB,EAAsBE,EAAc31B,WACpC+yB,EAAO4C,EAAc31B,UAAW2yB,GAAqB,WACnD,OAAOhsB,QAETwrB,EAAQwD,cAAgBA,EAKxBxD,EAAQyF,MAAQ,SAAStE,EAASC,EAASC,EAAMC,EAAamC,QACxC,IAAhBA,IAAwBA,EAAcpF,SAE1C,IAAIqH,EAAO,IAAIlC,EACbtC,EAAKC,EAASC,EAASC,EAAMC,GAC7BmC,GAGF,OAAOzD,EAAQoF,oBAAoBhE,GAC/BsE,EACAA,EAAKz2B,OAAO80B,MAAK,SAASF,GACxB,OAAOA,EAAOr1B,KAAOq1B,EAAOp1B,MAAQi3B,EAAKz2B,WAuKjDq0B,EAAsBD,GAEtBzC,EAAOyC,EAAI3C,EAAmB,aAO9BE,EAAOyC,EAAI9C,GAAgB,WACzB,OAAO/rB,QAGTosB,EAAOyC,EAAI,YAAY,WACrB,MAAO,wBAkCTrD,EAAQ2F,KAAO,SAASC,GACtB,IAAID,EAAO,GACX,IAAK,IAAI1uB,KAAO2uB,EACdD,EAAKnvB,KAAKS,GAMZ,OAJA0uB,EAAK10B,UAIE,SAAShC,IACd,KAAO02B,EAAKj5B,QAAQ,CAClB,IAAIuK,EAAM0uB,EAAKE,MACf,GAAI5uB,KAAO2uB,EAGT,OAFA32B,EAAKR,MAAQwI,EACbhI,EAAKT,MAAO,EACLS,EAQX,OADAA,EAAKT,MAAO,EACLS,IAsCX+wB,EAAQzwB,OAASA,EAMjBmyB,EAAQ7zB,UAAY,CAClBI,YAAayzB,EAEbsD,MAAO,SAASc,GAcd,GAbAtxB,KAAKxE,KAAO,EACZwE,KAAKvF,KAAO,EAGZuF,KAAK8tB,KAAO9tB,KAAK+tB,MAAQtyB,EACzBuE,KAAKhG,MAAO,EACZgG,KAAKylB,SAAW,KAEhBzlB,KAAKstB,OAAS,OACdttB,KAAKutB,IAAM9xB,EAEXuE,KAAKqwB,WAAWtB,QAAQuB,IAEnBgB,EACH,IAAK,IAAI53B,KAAQsG,KAEQ,MAAnBtG,EAAKomB,OAAO,IACZ+L,EAAOtyB,KAAKyG,KAAMtG,KACjBqE,OAAOrE,EAAKF,MAAM,MACrBwG,KAAKtG,GAAQ+B,IAMrBI,KAAM,WACJmE,KAAKhG,MAAO,EAEZ,IACIu3B,EADYvxB,KAAKqwB,WAAW,GACLE,WAC3B,GAAwB,UAApBgB,EAAW5sB,KACb,MAAM4sB,EAAWhE,IAGnB,OAAOvtB,KAAKwxB,MAGdxD,kBAAmB,SAASyD,GAC1B,GAAIzxB,KAAKhG,KACP,MAAMy3B,EAGR,IAAInH,EAAUtqB,KACd,SAAS4lB,EAAO8L,EAAKC,GAYnB,OAXAzD,EAAOvpB,KAAO,QACdupB,EAAOX,IAAMkE,EACbnH,EAAQ7vB,KAAOi3B,EAEXC,IAGFrH,EAAQgD,OAAS,OACjBhD,EAAQiD,IAAM9xB,KAGNk2B,EAGZ,IAAK,IAAIr5B,EAAI0H,KAAKqwB,WAAWn4B,OAAS,EAAGI,GAAK,IAAKA,EAAG,CACpD,IAAI03B,EAAQhwB,KAAKqwB,WAAW/3B,GACxB41B,EAAS8B,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAOrK,EAAO,OAGhB,GAAIoK,EAAMC,QAAUjwB,KAAKxE,KAAM,CAC7B,IAAIo2B,EAAW/F,EAAOtyB,KAAKy2B,EAAO,YAC9B6B,EAAahG,EAAOtyB,KAAKy2B,EAAO,cAEpC,GAAI4B,GAAYC,EAAY,CAC1B,GAAI7xB,KAAKxE,KAAOw0B,EAAME,SACpB,OAAOtK,EAAOoK,EAAME,UAAU,GACzB,GAAIlwB,KAAKxE,KAAOw0B,EAAMG,WAC3B,OAAOvK,EAAOoK,EAAMG,iBAGjB,GAAIyB,GACT,GAAI5xB,KAAKxE,KAAOw0B,EAAME,SACpB,OAAOtK,EAAOoK,EAAME,UAAU,OAG3B,KAAI2B,EAMT,MAAM,IAAIje,MAAM,0CALhB,GAAI5T,KAAKxE,KAAOw0B,EAAMG,WACpB,OAAOvK,EAAOoK,EAAMG,gBAU9BlC,OAAQ,SAAStpB,EAAM4oB,GACrB,IAAK,IAAIj1B,EAAI0H,KAAKqwB,WAAWn4B,OAAS,EAAGI,GAAK,IAAKA,EAAG,CACpD,IAAI03B,EAAQhwB,KAAKqwB,WAAW/3B,GAC5B,GAAI03B,EAAMC,QAAUjwB,KAAKxE,MACrBqwB,EAAOtyB,KAAKy2B,EAAO,eACnBhwB,KAAKxE,KAAOw0B,EAAMG,WAAY,CAChC,IAAI2B,EAAe9B,EACnB,OAIA8B,IACU,UAATntB,GACS,aAATA,IACDmtB,EAAa7B,QAAU1C,GACvBA,GAAOuE,EAAa3B,aAGtB2B,EAAe,MAGjB,IAAI5D,EAAS4D,EAAeA,EAAavB,WAAa,GAItD,OAHArC,EAAOvpB,KAAOA,EACdupB,EAAOX,IAAMA,EAETuE,GACF9xB,KAAKstB,OAAS,OACdttB,KAAKvF,KAAOq3B,EAAa3B,WAClBtC,GAGF7tB,KAAK2mB,SAASuH,IAGvBvH,SAAU,SAASuH,EAAQkC,GACzB,GAAoB,UAAhBlC,EAAOvpB,KACT,MAAMupB,EAAOX,IAcf,MAXoB,UAAhBW,EAAOvpB,MACS,aAAhBupB,EAAOvpB,KACT3E,KAAKvF,KAAOyzB,EAAOX,IACM,WAAhBW,EAAOvpB,MAChB3E,KAAKwxB,KAAOxxB,KAAKutB,IAAMW,EAAOX,IAC9BvtB,KAAKstB,OAAS,SACdttB,KAAKvF,KAAO,OACa,WAAhByzB,EAAOvpB,MAAqByrB,IACrCpwB,KAAKvF,KAAO21B,GAGPvC,GAGTlyB,OAAQ,SAASw0B,GACf,IAAK,IAAI73B,EAAI0H,KAAKqwB,WAAWn4B,OAAS,EAAGI,GAAK,IAAKA,EAAG,CACpD,IAAI03B,EAAQhwB,KAAKqwB,WAAW/3B,GAC5B,GAAI03B,EAAMG,aAAeA,EAGvB,OAFAnwB,KAAK2mB,SAASqJ,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACPnC,IAKb,MAAS,SAASoC,GAChB,IAAK,IAAI33B,EAAI0H,KAAKqwB,WAAWn4B,OAAS,EAAGI,GAAK,IAAKA,EAAG,CACpD,IAAI03B,EAAQhwB,KAAKqwB,WAAW/3B,GAC5B,GAAI03B,EAAMC,SAAWA,EAAQ,CAC3B,IAAI/B,EAAS8B,EAAMO,WACnB,GAAoB,UAAhBrC,EAAOvpB,KAAkB,CAC3B,IAAIotB,EAAS7D,EAAOX,IACpB+C,EAAcN,GAEhB,OAAO+B,GAMX,MAAM,IAAIne,MAAM,0BAGlBoe,cAAe,SAASvB,EAAUb,EAAYC,GAa5C,OAZA7vB,KAAKylB,SAAW,CACd3sB,SAAUiC,EAAO01B,GACjBb,WAAYA,EACZC,QAASA,GAGS,SAAhB7vB,KAAKstB,SAGPttB,KAAKutB,IAAM9xB,GAGNoyB,IAQJrC,EA9sBK,CAqtBiBD,EAAOC,SAGtC,IACEyG,mBAAqBtG,EACrB,MAAOuG,GAWmB,iBAAfC,WACTA,WAAWF,mBAAqBtG,EAEhCyG,SAAS,IAAK,yBAAdA,CAAwCzG,4LC/uBjC0G,EACgB,mBAAXx5B,QAAyBA,OAAOw5B,YAAc,eCDvD,SAASx0B,EAAS9F,GACvB,OAAOA,ECSF,SAASu6B,EAAcC,GAC5B,OAAmB,IAAfA,EAAIr6B,OACC2F,EAGU,IAAf00B,EAAIr6B,OACCq6B,EAAI,GAGN,SAAenzB,GACpB,OAAOmzB,EAAIC,QAAO,SAAUh3B,EAAM8yB,GAChC,OAAOA,EAAG9yB,KACT4D,qCCdHqzB,EAAa,WACf,SAASA,EAAWC,GACdA,IACF1yB,KAAK2yB,WAAaD,GA0FtB,OAtFAD,EAAWp5B,UAAUu5B,KAAO,SAAUC,GACpC,IAAIR,EAAa,IAAII,EAGrB,OAFAJ,EAAW1zB,OAASqB,KACpBqyB,EAAWQ,SAAWA,EACfR,GAGTI,EAAWp5B,UAAUq5B,UAAY,SAAUrL,EAAgB/pB,EAAOqpB,GAChE,IA6FkB1sB,EA7FdssB,EAAQvmB,KAER8nB,GA2Fc7tB,EA3FYotB,IA4FhBptB,aAAiBmsB,EAAA,IALnC,SAAoBnsB,GAClB,OAAOA,IAAS,EAAAqtB,EAAA,GAAWrtB,EAAMQ,QAAS,EAAA6sB,EAAA,GAAWrtB,EAAMqD,SAAU,EAAAgqB,EAAA,GAAWrtB,EAAM0sB,UAIvCmM,CAAW74B,KAAU,QAAeA,GA5FjCotB,EAAiB,IAAI,KAAeA,EAAgB/pB,EAAOqpB,GAO3G,OANA,EAAA4D,EAAA,IAAa,WACX,IAAI/B,EAAKjC,EACLsM,EAAWrK,EAAGqK,SACdl0B,EAAS6pB,EAAG7pB,OAChBmpB,EAAWrB,IAAIoM,EAAWA,EAASt5B,KAAKuuB,EAAYnpB,GAAUA,EAAS4nB,EAAMoM,WAAW7K,GAAcvB,EAAMwM,cAAcjL,OAErHA,GAGT2K,EAAWp5B,UAAU05B,cAAgB,SAAUC,GAC7C,IACE,OAAOhzB,KAAK2yB,WAAWK,GACvB,MAAO34B,GACP24B,EAAK11B,MAAMjD,KAIfo4B,EAAWp5B,UAAU01B,QAAU,SAAUt0B,EAAMw4B,GAC7C,IAAI1M,EAAQvmB,KAGZ,OAAO,IADPizB,EAAcC,EAAeD,KACN,SAAU9D,EAASC,GACxC,IAAI+D,EACJA,EAAe5M,EAAMmM,WAAU,SAAUz4B,GACvC,IACEQ,EAAKR,GACL,MAAOI,GACP+0B,EAAO/0B,GACP84B,MAAAA,GAA4DA,EAAajM,iBAE1EkI,EAAQD,OAIfsD,EAAWp5B,UAAUs5B,WAAa,SAAU7K,GAC1C,IAAIU,EAEJ,OAA8B,QAAtBA,EAAKxoB,KAAKrB,cAA2B,IAAP6pB,OAAgB,EAASA,EAAGkK,UAAU5K,IAG9E2K,EAAWp5B,UAAU,GAAqB,WACxC,OAAO2G,MAGTyyB,EAAWp5B,UAAU+5B,KAAO,WAG1B,IAFA,IAAIC,EAAa,GAER7N,EAAK,EAAGA,EAAKzpB,UAAU7D,OAAQstB,IACtC6N,EAAW7N,GAAMzpB,UAAUypB,GAG7B,OAAO8M,EAAce,EAAdf,CAA0BtyB,OAGnCyyB,EAAWp5B,UAAUi6B,UAAY,SAAUL,GACzC,IAAI1M,EAAQvmB,KAGZ,OAAO,IADPizB,EAAcC,EAAeD,KACN,SAAU9D,EAASC,GACxC,IAAIn1B,EAEJssB,EAAMmM,WAAU,SAAU36B,GACxB,OAAOkC,EAAQlC,KACd,SAAUsC,GACX,OAAO+0B,EAAO/0B,MACb,WACD,OAAO80B,EAAQl1B,UAKrBw4B,EAAW3f,OAAS,SAAU4f,GAC5B,OAAO,IAAID,EAAWC,IAGjBD,EA7FQ,GAkGjB,SAASS,EAAeD,GACtB,IAAIzK,EAEJ,OAAgG,QAAxFA,EAAKyK,MAAAA,EAAiDA,EAAclN,EAAA,iBAAmC,IAAPyC,EAAgBA,EAAKqB,YC5GpH0J,GAA0B,cAAiB,SAAUlN,GAC9D,OAAO,WACLA,EAAOrmB,MAEPA,KAAKtG,KAAO,0BACZsG,KAAKkoB,QAAU,mCCCfsL,EAAU,SAAUnN,GAGtB,SAASmN,IACP,IAAIjN,EAAQF,EAAO9sB,KAAKyG,OAASA,KAOjC,OALAumB,EAAMY,QAAS,EACfZ,EAAMkN,UAAY,GAClBlN,EAAMC,WAAY,EAClBD,EAAMmN,UAAW,EACjBnN,EAAMoN,YAAc,KACbpN,EAgJT,OA1JA,QAAUiN,EAASnN,GAanBmN,EAAQn6B,UAAUu5B,KAAO,SAAUC,GACjC,IAAIe,EAAU,IAAIC,EAAiB7zB,KAAMA,MAEzC,OADA4zB,EAAQf,SAAWA,EACZe,GAGTJ,EAAQn6B,UAAUy6B,eAAiB,WACjC,GAAI9zB,KAAKmnB,OACP,MAAM,IAAIoM,GAIdC,EAAQn6B,UAAUoB,KAAO,SAAUR,GACjC,IAAIssB,EAAQvmB,MAEZ,EAAAuqB,EAAA,IAAa,WACX,IAAIhC,EAAKC,EAIT,GAFAjC,EAAMuN,kBAEDvN,EAAMC,UAAW,CACpB,IAAI9nB,EAAO6nB,EAAMkN,UAAUj6B,QAE3B,IACE,IAAK,IAAIu6B,GAAS,QAASr1B,GAAOs1B,EAAWD,EAAOt5B,QAASu5B,EAASh6B,KAAMg6B,EAAWD,EAAOt5B,OAAQ,CACrFu5B,EAAS/5B,MACfQ,KAAKR,IAEhB,MAAO6uB,GACPP,EAAM,CACJjrB,MAAOwrB,GAET,QACA,IACMkL,IAAaA,EAASh6B,OAASwuB,EAAKuL,EAAOp5B,SAAS6tB,EAAGjvB,KAAKw6B,GAChE,QACA,GAAIxL,EAAK,MAAMA,EAAIjrB,aAO7Bk2B,EAAQn6B,UAAUiE,MAAQ,SAAUjD,GAClC,IAAIksB,EAAQvmB,MAEZ,EAAAuqB,EAAA,IAAa,WAGX,GAFAhE,EAAMuN,kBAEDvN,EAAMC,UAAW,CACpBD,EAAMmN,SAAWnN,EAAMC,WAAY,EACnCD,EAAMoN,YAAct5B,EAGpB,IAFA,IAAIo5B,EAAYlN,EAAMkN,UAEfA,EAAUv7B,QACfu7B,EAAUQ,QAAQ32B,MAAMjD,QAMhCm5B,EAAQn6B,UAAUstB,SAAW,WAC3B,IAAIJ,EAAQvmB,MAEZ,EAAAuqB,EAAA,IAAa,WAGX,GAFAhE,EAAMuN,kBAEDvN,EAAMC,UAAW,CACpBD,EAAMC,WAAY,EAGlB,IAFA,IAAIiN,EAAYlN,EAAMkN,UAEfA,EAAUv7B,QACfu7B,EAAUQ,QAAQtN,gBAM1B6M,EAAQn6B,UAAU6tB,YAAc,WAC9BlnB,KAAKwmB,UAAYxmB,KAAKmnB,QAAS,EAC/BnnB,KAAKyzB,UAAY,MAGnBr6B,OAAOkzB,eAAekH,EAAQn6B,UAAW,WAAY,CACnDqJ,IAAK,WACH,IAAI8lB,EAEJ,OAAkC,QAAzBA,EAAKxoB,KAAKyzB,iBAA8B,IAAPjL,OAAgB,EAASA,EAAGtwB,QAAU,GAElFq0B,YAAY,EACZC,cAAc,IAGhBgH,EAAQn6B,UAAU05B,cAAgB,SAAUjL,GAG1C,OAFA9nB,KAAK8zB,iBAEEzN,EAAOhtB,UAAU05B,cAAcx5B,KAAKyG,KAAM8nB,IAGnD0L,EAAQn6B,UAAUs5B,WAAa,SAAU7K,GAKvC,OAJA9nB,KAAK8zB,iBAEL9zB,KAAKk0B,wBAAwBpM,GAEtB9nB,KAAKm0B,gBAAgBrM,IAG9B0L,EAAQn6B,UAAU86B,gBAAkB,SAAUrM,GAC5C,IAAIU,EAAKxoB,KACL0zB,EAAWlL,EAAGkL,SACdlN,EAAYgC,EAAGhC,UACfiN,EAAYjL,EAAGiL,UAEnB,OAAOC,GAAYlN,EAAY,MAAsBiN,EAAUzxB,KAAK8lB,GAAa,IAAIV,EAAA,IAAa,WAChG,OAAO,EAAAqC,EAAA,GAAUgK,EAAW3L,QAIhC0L,EAAQn6B,UAAU66B,wBAA0B,SAAUpM,GACpD,IAAIU,EAAKxoB,KACL0zB,EAAWlL,EAAGkL,SACdC,EAAcnL,EAAGmL,YACjBnN,EAAYgC,EAAGhC,UAEfkN,EACF5L,EAAWxqB,MAAMq2B,GACRnN,GACTsB,EAAWnB,YAIf6M,EAAQn6B,UAAU+6B,aAAe,WAC/B,IAAI/B,EAAa,IAAII,EAErB,OADAJ,EAAW1zB,OAASqB,KACbqyB,GAGTmB,EAAQ1gB,OAAS,SAAUwT,EAAa3nB,GACtC,OAAO,IAAIk1B,EAAiBvN,EAAa3nB,IAGpC60B,EA3JK,CA4JZf,GAIEoB,EAAmB,SAAUxN,GAG/B,SAASwN,EAAiBvN,EAAa3nB,GACrC,IAAI4nB,EAAQF,EAAO9sB,KAAKyG,OAASA,KAIjC,OAFAumB,EAAMD,YAAcA,EACpBC,EAAM5nB,OAASA,EACR4nB,EA2BT,OAlCA,QAAUsN,EAAkBxN,GAU5BwN,EAAiBx6B,UAAUoB,KAAO,SAAUR,GAC1C,IAAIuuB,EAAIE,EAEwE,QAA/EA,EAAiC,QAA3BF,EAAKxoB,KAAKsmB,mBAAgC,IAAPkC,OAAgB,EAASA,EAAG/tB,YAAyB,IAAPiuB,GAAyBA,EAAGnvB,KAAKivB,EAAIvuB,IAG/H45B,EAAiBx6B,UAAUiE,MAAQ,SAAUjD,GAC3C,IAAImuB,EAAIE,EAEyE,QAAhFA,EAAiC,QAA3BF,EAAKxoB,KAAKsmB,mBAAgC,IAAPkC,OAAgB,EAASA,EAAGlrB,aAA0B,IAAPorB,GAAyBA,EAAGnvB,KAAKivB,EAAInuB,IAGhIw5B,EAAiBx6B,UAAUstB,SAAW,WACpC,IAAI6B,EAAIE,EAE4E,QAAnFA,EAAiC,QAA3BF,EAAKxoB,KAAKsmB,mBAAgC,IAAPkC,OAAgB,EAASA,EAAG7B,gBAA6B,IAAP+B,GAAyBA,EAAGnvB,KAAKivB,IAG/HqL,EAAiBx6B,UAAUs5B,WAAa,SAAU7K,GAChD,IAAIU,EAAIE,EAER,OAAmG,QAA3FA,EAA4B,QAAtBF,EAAKxoB,KAAKrB,cAA2B,IAAP6pB,OAAgB,EAASA,EAAGkK,UAAU5K,UAAgC,IAAPY,EAAgBA,EAAK,MAG3HmL,EAnCc,CAoCrBL,aCvLWa,EAAb,WAUC,WAAmC1vB,GAAiB,KAR5C2vB,UAAsB,GAQqB,KAP3CC,WAA4B,GAOe,KAAhB5vB,KAAAA,EAVpC,2BAoEQ6vB,aAAP,SAAoB/xB,EAAaklB,GACjB,MAAXA,EACH3nB,KAAKs0B,UAAU7xB,GAAOklB,SAEf3nB,KAAKs0B,UAAU7xB,IAxEzB,EA4EQgyB,cAAP,SAAwBhyB,EAAaiyB,GACpB,MAAZA,EACH10B,KAAKu0B,WAAW9xB,GAAOiyB,SAEhB10B,KAAKu0B,WAAW9xB,KAhF1B,2BAYC,WACC,OAAOzC,KAAK20B,QAbd,IAgBC,SAAiB16B,GAChB+F,KAAK20B,OAAS16B,IAjBhB,iBAoBC,WACC,OAAO+F,KAAK40B,QArBd,IAwBC,SAAiB36B,GAChB+F,KAAK40B,OAAS36B,IAzBhB,gBA4BC,WACC,OAAO+F,KAAK60B,OA7Bd,IAgCC,SAAgB56B,GACf+F,KAAK60B,MAAQ56B,IAjCf,gBAoCC,WACC,OAAO+F,KAAK80B,OArCd,IAwCC,SAAgB76B,GACf+F,KAAK80B,MAAQ76B,IAzCf,uBA4CC,WACC,OAAO+F,KAAK+0B,cA7Cd,IAgDC,SAAuB96B,GACtB+F,KAAK+0B,aAAe96B,IAjDtB,iBAoDC,WACC,OAAO+F,KAAKg1B,QArDd,IAwDC,SAAiB/6B,GAChB+F,KAAKg1B,OAAS/6B,IAzDhB,qBA4DC,WACC,OAAO+F,KAAKu0B,aA7Dd,oBAgEC,WACC,OAAOv0B,KAAKs0B,cAjEd,KCRaW,EAAb,6BACSC,QAA0B,GADnC,KAESC,OAAqB,GAF9B,KAGSC,MAAoB,GAH7B,2BAiBQC,SAAP,SAAgBp7B,GACf+F,KAAKk1B,QAAQlzB,KAAK/H,IAlBpB,EAqBQq7B,YAAP,SAAmBr7B,GAClB+F,KAAKk1B,QAAUl1B,KAAKk1B,QAAQ1S,QAAO,SAAA5gB,GAAC,OAAIA,IAAM3H,MAtBhD,EAyBQs7B,QAAP,SAAet7B,GACd+F,KAAKm1B,OAAOnzB,KAAK/H,IA1BnB,EA6BQu7B,WAAP,SAAkBv7B,GACjB+F,KAAKm1B,OAASn1B,KAAKm1B,OAAO3S,QAAO,SAAA5R,GAAC,OAAIA,IAAM3W,MA9B9C,EAiCQw7B,QAAP,SAAex7B,GACd+F,KAAKo1B,MAAMpzB,KAAK/H,IAlClB,EAqCQy7B,WAAP,SAAkBz7B,GACjB+F,KAAKo1B,MAAQp1B,KAAKo1B,MAAM5S,QAAO,SAAA5R,GAAC,OAAIA,IAAM3W,OAtC5C,4BAKC,WACC,OAAO+F,KAAKk1B,UANd,iBASC,WACC,OAAOl1B,KAAKm1B,SAVd,gBAaC,WACC,OAAOn1B,KAAKo1B,UAdd,KCOaO,EAAb,6BACiBC,SAAW,IAAIpC,EADhC,KAEiBqC,KAAO,IAAIZ,EAF5B,KAGSa,aAAuD,GAHhE,KAISC,aAAuD,GAJhE,KASSC,OAAyB,GATlC,2BAiBQz2B,MAAP,WAEoB,IAAC,IAAD,0BADhB02B,EACgB,yBADhBA,EACgB,gBAOnB,OANAA,EAASlH,SAAQ,SAAA5qB,GAChB,IAAM+xB,EAA4B,mBAAN/xB,EAAmBA,EAAIA,EAAEgyB,MACrD,EAAKN,KAAKR,SAASa,GACnB,EAAKF,OAAOh0B,KAAKk0B,MAElBl2B,KAAK41B,SAASn7B,KAAK,mBACZuF,MA1BT,EA6BQs1B,YAAP,SAAmB/1B,GASlB,MARqB,mBAAVA,GACVS,KAAK61B,KAAKP,YAAY/1B,GACtBS,KAAKg2B,OAASh2B,KAAKg2B,OAAOxT,QAAO,SAAAzoB,GAAC,OAAIA,IAAMwF,OAE5CS,KAAK61B,KAAKP,YAAY/1B,EAAM42B,OAC5Bn2B,KAAKg2B,OAASh2B,KAAKg2B,OAAOxT,QAAO,SAAAzoB,GAAC,OAAIA,IAAMwF,EAAM42B,UAEnDn2B,KAAK41B,SAASn7B,KAAK,qBACZuF,MAtCT,EAyCQ+wB,KAAP,WAA0D,IAAC,IAAD,0BAA3CqF,EAA2C,yBAA3CA,EAA2C,gBASzD,OARAA,EAASrH,SAAQ,SAAA13B,GAChB,EAAKw+B,KAAKN,QAAQl+B,EAAEw+B,MACpB,EAAKC,aAAa9zB,KAAK,CACtBgoB,KAAM3yB,EACN87B,aAAc97B,EAAEu+B,SAASlD,WAAU,SAAAvuB,GAAC,OAAI,EAAKyxB,SAASn7B,KAAK0J,WAG7DnE,KAAK41B,SAASn7B,KAAK,kBACZuF,MAlDT,EAqDQw1B,WAAP,SAAkBa,GAAyC,IAAD,OASzD,OARAr2B,KAAK81B,aAAe91B,KAAK81B,aAAatT,QAAO,SAAAljB,GAK5C,OAJIA,EAAE0qB,OAASqM,IACd,EAAKR,KAAKL,WAAWl2B,EAAE0qB,KAAK6L,MAC5Bv2B,EAAE6zB,aAAajM,eAET5nB,EAAE0qB,OAASqM,KAEnBr2B,KAAK41B,SAASn7B,KAAK,oBACZuF,MA9DT,EAiEQs2B,KAAP,WAA0D,IAAC,IAAD,0BAA3CF,EAA2C,yBAA3CA,EAA2C,gBASzD,OARAA,EAASrH,SAAQ,SAAA13B,GAChB,EAAKw+B,KAAKJ,QAAQp+B,EAAEw+B,MACpB,EAAKE,aAAa/zB,KAAK,CACtBgoB,KAAM3yB,EACN87B,aAAc97B,EAAEu+B,SAASlD,WAAU,SAAAvuB,GAAC,OAAI,EAAKyxB,SAASn7B,KAAK0J,WAG7DnE,KAAK41B,SAASn7B,KAAK,oBACZuF,MA1ET,EA6EQ01B,WAAP,SAAkBW,GAAyC,IAAD,OASzD,OARAr2B,KAAK+1B,aAAe/1B,KAAK+1B,aAAavT,QAAO,SAAAljB,GAK5C,OAJIA,EAAE0qB,OAASqM,IACd,EAAKR,KAAKH,WAAWp2B,EAAE0qB,KAAK6L,MAC5Bv2B,EAAE6zB,aAAajM,eAET5nB,EAAE0qB,OAASqM,KAEnBr2B,KAAK41B,SAASn7B,KAAK,oBACZuF,MAtFT,EA4FQm2B,MAAP,WACC,OAAOn2B,KAAK61B,MA7Fd,KCkBaU,EAAb,WAMC,WAAmC5xB,GAAiB,KALpCixB,SAAW,IAAIpC,EAKoB,KAAhB7uB,KAAAA,EAClC3E,KAAK61B,KAAO,IAAIxB,EAAS1vB,GAP3B,2BAUQ6xB,MAAP,SAAaA,GAGZ,OAFAx2B,KAAK61B,KAAKW,MAAQA,EAClBx2B,KAAK41B,SAASn7B,KAAK,sBACZuF,MAbT,EAgBQy2B,KAAP,SAAYA,GAGX,OAFAz2B,KAAK61B,KAAKY,KAAOA,EACjBz2B,KAAK41B,SAASn7B,KAAK,qBACZuF,MAnBT,EAsBQtG,KAtBR,+GAsBC,SAAYA,GAGX,OAFAsG,KAAK61B,KAAKn8B,KAAOA,EACjBsG,KAAK41B,SAASn7B,KAAK,qBACZuF,QAzBT,EA4BQ02B,YAAP,SAAmBzJ,GAGlB,OAFAjtB,KAAK61B,KAAKa,YAAczJ,EACxBjtB,KAAK41B,SAASn7B,KAAK,4BACZuF,MA/BT,EAuCQ4lB,OAAP,SACClsB,EACAiuB,GACe,IAAD,OAUd,MAToB,iBAATjuB,EACVsG,KAAK61B,KAAKrB,aAAa96B,EAAMiuB,GAE7BvuB,OAAOu9B,QAAQj9B,GAAkBq1B,SAAQ,gBAAE6H,EAAF,KAAWC,EAAX,YACxC,EAAKhB,KAAKrB,aAAaoC,EAASC,MAIlC72B,KAAK41B,SAASn7B,KAAK,yBACZuF,MApDT,EA4SQ82B,OAAP,SACCC,EACArC,GACe,IAAD,OAcd,MAbqB,iBAAVqC,EAEV/2B,KAAK61B,KAAKpB,cAAcsC,EAAiBrC,GAGzCt7B,OAAOu9B,QAAQI,GAAwBhI,SACtC,YAA4B,IAA1Br1B,EAAyB,KAAnBs9B,EAAmB,KAC1B,EAAKnB,KAAKpB,cAAc/6B,EAAMs9B,MAKjCh3B,KAAK41B,SAASn7B,KAAK,yBACZuF,MA7TT,EAgUQi3B,MAAP,SAAaA,GACZ,QAAcx7B,IAAVw7B,GAAuBj3B,KAAK2E,OAASuyB,EAAAA,GAAAA,MACxC,MAAM,IAAItjB,MAAM,sDAIjB,OAFA5T,KAAK61B,KAAKoB,MAAQA,EAClBj3B,KAAK41B,SAASn7B,KAAK,sBACZuF,MAtUT,EA4UQm3B,MAAP,SAAaC,GAAuD,IAAD,OAgBlE,OAfIp3B,KAAK61B,KAAKsB,OACbE,QAAQC,KAAR,iDAGGt3B,KAAKu3B,oBACRv3B,KAAKu3B,mBAAmBrQ,cAGzBlnB,KAAK20B,OAAS,IAAIgB,EAClB31B,KAAK61B,KAAKsB,MAAQn3B,KAAK20B,OAAOkB,KAC9BuB,EAASp3B,KAAK20B,QACd30B,KAAKu3B,mBAAqBv3B,KAAK20B,OAAOiB,SAASlD,WAAU,SAAA8E,GAAK,OAC7D,EAAK5B,SAASn7B,KAAK+8B,MAEpBx3B,KAAK41B,SAASn7B,KAAK,sBACZuF,MA5VT,EA+VQm2B,MAAP,WACC,IAAKn2B,KAAK61B,KAAKlxB,KACd,MAAM,IAAIiP,MAAM,yBAEjB,OAAO5T,KAAK61B,MAnWd,KCrBa4B,EAAb,WACC,WAA2BC,QAA4B,IAA5BA,IAAAA,EAAwB,IAAI,KAA5BA,QAAAA,EAD5B,mBA8CSC,WAAR,SAAmBj+B,GAClB,IAAMk+B,SAAqB53B,KAAK03B,QAAQphB,QACxC,MAAoB,WAAhBshB,EACI53B,KAAK03B,QAAQphB,QACM,WAAhBshB,GACF53B,KAAK03B,QAAQphB,QAAgB5c,IAE/B,IArDT,+BAGC,WACC,OAAOsG,KAAK03B,QAAQG,WAAa,yCAJnC,2BAOC,WACC,OAAO73B,KAAK03B,QAAQI,iBAAmB,KARzC,sBAWC,WACC,IAAMC,EAAa/3B,KAAK03B,QAAQxjB,OAAS8jB,EAAAA,GACnCC,EAAcj4B,KAAK03B,QAAQQ,QAAUC,EAAAA,GACrCC,EAAcp4B,KAAKo4B,YACnBC,EAAer4B,KAAKq4B,aACpBC,EAAat4B,KAAKs4B,WAQxB,MAAO,CACNC,OAAQ,CAAExgC,EANDqgC,EAMI14B,EALJ44B,GAMTE,MAAO,CAAEtkB,MALI6jB,EAAaK,EAAcC,EAKxBH,OAJFD,EAAcK,EALPt4B,KAAKy4B,kBAjB7B,sBA8BC,WACC,OAAOz4B,KAAK23B,WAAW,SA/BzB,yBAkCC,WACC,OAAO33B,KAAK23B,WAAW,YAnCzB,uBAsCC,WACC,OAAO33B,KAAK23B,WAAW,UAvCzB,wBA0CC,WACC,OAAO33B,KAAK23B,WAAW,aA3CzB,KCPae,EAAqB,OAMrBC,EAA0B,OAwB1BC,EAAoB,aCRpBC,EAAb,WAoCC,WAAmBt5B,EAAeu5B,GAA0B,KAnCpDC,WDyB6B,GCUsB,KA7BnDC,QD+BgC,KCFmB,KA5BnDC,aAAuBP,EA4B4B,KA3BnDQ,aDnB0B,EC8CyB,KAvBnDC,OD+B+B,KCRoB,KAtBnDC,WAAqBV,EAsB8B,KApBnDW,YDgBqC,ECIc,KAnBnDC,WDiCoC,MCde,KAlBnDC,UDtB6B,ECwCsB,KAjBnDC,WD7B0B,EC8CyB,KAZnDC,QDgCgC,KCpBmB,KAXnDC,WAAqBd,EAW8B,KAVnDe,eDxB6B,GCkCsB,KATnDC,YAAsBjB,EAS6B,KARnDkB,cDdiC,ECsBkB,KAPnDC,cDTiC,GCiBxC95B,KAAK+5B,OAASx6B,EACdS,KAAKg6B,QAAUlB,EAtCjB,kCAyCC,WACC,OAAO94B,KAAK+5B,QA1Cd,IA6CC,SAAiB9/B,GAChB+F,KAAK+5B,OAAS9/B,IA9ChB,kBAiDC,WACC,OAAO+F,KAAKg6B,SAlDd,IAqDC,SAAkB//B,GACjB+F,KAAKg6B,QAAU//B,IAtDjB,kBAyDC,WACC,OAAO+F,KAAKg5B,SA1Dd,IA6DC,SAAkB/+B,GACjB+F,KAAKg5B,QAAmB,MAAT/+B,GAA4CA,IA9D7D,uBAiEC,WACC,OAAO+F,KAAKi5B,cAlEd,IAqEC,SAAuBh/B,GACtB+F,KAAKi5B,aAAwB,MAATh/B,EAAgBy+B,EAAqBz+B,IAtE3D,uBAyEC,WACC,OAAO+F,KAAKk5B,cA1Ed,IA6EC,SAAuBj/B,GACtB+F,KAAKk5B,aAAwB,MAATj/B,EDxFa,ECwFyBA,IA9E5D,iBAiFC,WACC,OAAO+F,KAAKm5B,QAlFd,IAqFC,SAAiBl/B,GAChB+F,KAAKm5B,OAAkB,MAATl/B,GAA2CA,IAtF3D,qBAyFC,WACC,OAAO+F,KAAKo5B,YA1Fd,IA6FC,SAAqBn/B,GACpB+F,KAAKo5B,WAAsB,MAATn/B,EAAgBy+B,EAAqBz+B,IA9FzD,qBAiGC,WACC,OAAO+F,KAAKi6B,YAlGd,IAqGC,SAAqBhgC,GACpB+F,KAAKi6B,WAAahgC,IAtGpB,sBAyGC,WACC,OAAO+F,KAAKq5B,aA1Gd,IA6GC,SAAsBp/B,GACrB+F,KAAKq5B,YAAuB,MAATp/B,ED9EyB,EC8EwBA,IA9GtE,qBAiHC,WACC,OAAO+F,KAAKs5B,YAlHd,IAqHC,SAAqBr/B,GACpB+F,KAAKs5B,WAAsB,MAATr/B,GAAgDA,IAtHpE,oBAyHC,WACC,OAAO+F,KAAKu5B,WA1Hd,IA6HC,SAAoBt/B,GACnB+F,KAAKu5B,UAAqB,MAATt/B,EDlImB,ECkIsBA,IA9H5D,qBAiIC,WACC,OAAO+F,KAAKw5B,YAlId,IAqIC,SAAqBv/B,GACpB+F,KAAKw5B,WAAsB,MAATv/B,EDhJe,ECgJuBA,IAtI1D,kBAyIC,WACC,OAAO+F,KAAKk6B,SA1Id,IA6IC,SAAkBn/B,GACjBiF,KAAKk6B,QAAUn/B,IA9IjB,wBAiJC,WACC,OAAOiF,KAAK85B,eAlJd,IAqJC,SAAwB7/B,GACvB+F,KAAK85B,cAAyB,MAAT7/B,EDlImB,GCkI0BA,IAtJpE,kBAyJC,WACC,OAAO+F,KAAKy5B,SA1Jd,IA6JC,SAAkBx/B,GACjB+F,KAAKy5B,QAAmB,MAATx/B,GAA4CA,IA9J7D,sBAiKC,WACC,OAAO+F,KAAKm6B,aAlKd,IAqKC,SAAsBlgC,GACrB+F,KAAKm6B,YAAclgC,IAtKrB,qBAyKC,WACC,OAAO+F,KAAK05B,YA1Kd,IA6KC,SAAqBz/B,GACpB+F,KAAK05B,WAAsB,MAATz/B,EAAgB2+B,EAAoB3+B,IA9KxD,yBAiLC,WACC,OAAO+F,KAAK25B,gBAlLd,IAqLC,SAAyB1/B,GACxB+F,KAAK25B,eAA0B,MAAT1/B,EDpLc,GCoL2BA,IAtLjE,sBAyLC,WACC,OAAO+F,KAAK45B,aA1Ld,IA6LC,SAAsB3/B,GACrB+F,KAAK45B,YAAuB,MAAT3/B,EAAgB0+B,EAA0B1+B,IA9L/D,wBAiMC,WACC,OAAO+F,KAAK65B,eAlMd,IAqMC,SAAwB5/B,GACvB+F,KAAK65B,cAAyB,MAAT5/B,EDxLmB,ECwL0BA,IAtMpE,2BAyMC,WACC,OAAO+F,KAAKo6B,kBA1Md,IA6MC,SAA2BngC,GAC1B+F,KAAKo6B,iBAAmBngC,IA9M1B,sBAiNC,WACC,OAAO+F,KAAKq6B,aAlNd,IAqNC,SAAsBpgC,GACrB+F,KAAKq6B,YAAcpgC,IAtNrB,uBAyNC,WACC,OAAO+F,KAAKs6B,cA1Nd,IA6NC,SAAuBrgC,GACtB+F,KAAKs6B,aAAergC,IA9NtB,qBAiOC,WACC,OAAO+F,KAAK+4B,YAlOd,IAqOC,SAAqB9+B,GACpB+F,KAAK+4B,WAAsB,MAAT9+B,ED5MkB,GC4MuBA,MAtO7D,KCbasgC,EAAb,WAKC,WAAmBh7B,EAAeu5B,GACjC,GAD2D,KAJ5ClD,SAAW,IAAIpC,GAKzBj0B,EACJ,MAAM,IAAIqU,MAAM,yBAGjB,IAAKklB,EACJ,MAAM,IAAIllB,MAAM,0BAEjB5T,KAAK61B,KAAO,IAAIgD,EAASt5B,EAAOu5B,GAblC,2BAgBQ76B,OAAP,SAAchE,GAGb,OAFA+F,KAAK61B,KAAK53B,OAAShE,EACnB+F,KAAK41B,SAASn7B,KAAK,uBACZuF,MAnBT,EAsBQw6B,YAAP,SAAmBvgC,GAGlB,OAFA+F,KAAK61B,KAAK2E,YAAcvgC,EACxB+F,KAAK41B,SAASn7B,KAAK,6BACZuF,MAzBT,EA4BQy6B,YAAP,SAAmBxgC,GAGlB,OAFA+F,KAAK61B,KAAK4E,YAAcxgC,EACxB+F,KAAK41B,SAASn7B,KAAK,6BACZuF,MA/BT,EAkCQtD,MAAP,SAAazC,GAGZ,OAFA+F,KAAK61B,KAAKn5B,MAAQzC,EAClB+F,KAAK41B,SAASn7B,KAAK,sBACZuF,MArCT,EAwCQ06B,UAAP,SAAiBzgC,GAGhB,OAFA+F,KAAK61B,KAAK6E,UAAYzgC,EACtB+F,KAAK41B,SAASn7B,KAAK,2BACZuF,MA3CT,EA8CQ26B,UAAP,SAAiB1gC,GAGhB,OAFA+F,KAAK61B,KAAK8E,UAAY1gC,EACtB+F,KAAK41B,SAASn7B,KAAK,2BACZuF,MAjDT,EAoDQ46B,WAAP,SAAkB3gC,GAGjB,OAFA+F,KAAK61B,KAAK+E,WAAa3gC,EACvB+F,KAAK41B,SAASn7B,KAAK,4BACZuF,MAvDT,EA0DQ66B,UAAP,SAAiB5gC,GAGhB,OAFA+F,KAAK61B,KAAKgF,UAAY5gC,EACtB+F,KAAK41B,SAASn7B,KAAK,0BACZuF,MA7DT,EAgEQ86B,SAAP,SAAgB7gC,GAGf,OAFA+F,KAAK61B,KAAKiF,SAAW7gC,EACrB+F,KAAK41B,SAASn7B,KAAK,yBACZuF,MAnET,EAsEQ+6B,UAAP,SAAiB9gC,GAGhB,OAFA+F,KAAK61B,KAAKkF,UAAY9gC,EACtB+F,KAAK41B,SAASn7B,KAAK,0BACZuF,MAzET,EA4EQg7B,aAAP,SAAoB/gC,GAGnB,OAFA+F,KAAK61B,KAAKmF,aAAe/gC,EACzB+F,KAAK41B,SAASn7B,KAAK,6BACZuF,MA/ET,EAkFQjF,OAAP,SAAcA,GAGb,OAFAiF,KAAK61B,KAAK96B,OAASA,EACnBiF,KAAK41B,SAASn7B,KAAK,uBACZuF,MArFT,EAyFQi7B,OAAP,SAAchhC,GAGb,OAFA+F,KAAK61B,KAAKoF,OAAShhC,EACnB+F,KAAK41B,SAASn7B,KAAK,uBACZuF,MA5FT,EA+FQk7B,UAAP,SAAiBjhC,GAGhB,OAFA+F,KAAK61B,KAAKqF,UAAYjhC,EACtB+F,KAAK41B,SAASn7B,KAAK,0BACZuF,MAlGT,EAqGQm7B,cAAP,SAAqBlhC,GAGpB,OAFA+F,KAAK61B,KAAKsF,cAAgBlhC,EAC1B+F,KAAK41B,SAASn7B,KAAK,8BACZuF,MAxGT,EA2GQo7B,WAAP,SAAkBnhC,GAGjB,OAFA+F,KAAK61B,KAAKuF,WAAanhC,EACvB+F,KAAK41B,SAASn7B,KAAK,2BACZuF,MA9GT,EAiHQq7B,aAAP,SAAoBphC,GAGnB,OAFA+F,KAAK61B,KAAKwF,aAAephC,EACzB+F,KAAK41B,SAASn7B,KAAK,6BACZuF,MApHT,EAuHQs7B,gBAAP,SAAuBrhC,GAGtB,OAFA+F,KAAK61B,KAAKyF,gBAAkBrhC,EAC5B+F,KAAK41B,SAASn7B,KAAK,gCACZuF,MA1HT,EA6HQu7B,WAAP,SAAkBthC,GAGjB,OAFA+F,KAAK61B,KAAK0F,WAAathC,EACvB+F,KAAK41B,SAASn7B,KAAK,2BACZuF,MAhIT,EAmIQw7B,YAAP,SAAmBvhC,GAGlB,OAFA+F,KAAK61B,KAAK2F,YAAcvhC,EACxB+F,KAAK41B,SAASn7B,KAAK,4BACZuF,MAtIT,EAyIQy7B,UAAP,SAAiBxhC,GAGhB,OAFA+F,KAAK61B,KAAK4F,UAAYxhC,EACtB+F,KAAK41B,SAASn7B,KAAK,0BACZuF,MA5IT,EAiJQm2B,MAAP,WACC,OAAOn2B,KAAK61B,MAlJd,KCCO,SAAS6F,EACflR,EACAmR,GACoB,IAAD,EAgDEjiC,EA/CfkiC,EAAc,IAAInE,EAAoBkE,GAC5C,OAAO,IAAIhG,GAAmB5E,MA8CTr3B,EA7Cd,OA8CAmiC,EAAa3E,EAAAA,GAAAA,MAAgBx9B,IA7CjC+8B,KAAK,SACLK,QAFF,OAGGgF,EAAAA,GAAAA,QAAyB,EAH5B,EAIGA,EAAAA,GAAAA,GAAoBF,EAAYxD,YAJnC,EAKG0D,EAAAA,GAAAA,GAAoBF,EAAYtD,WALnC,EAMGwD,EAAAA,GAAAA,OAAwBF,EAAYG,WAAWvD,MAAMtkB,MANxD,EAOG4nB,EAAAA,GAAAA,QAAyBF,EAAYG,WAAWvD,MAAMN,OAPzD,IASEf,MAAM3M,IASH,SAASuG,EAAKpsB,GACpB,OAAO,IAAI4xB,EAAY5xB,GA+GxB,SAASk3B,EAAaG,EAAoBtiC,GACzC,IAAM21B,EAAS0B,EAAKiL,GACpB,OAAOtiC,EAAO21B,EAAO31B,KAAKA,GAAQ21B,EAS5B,SAAS4M,EAAK18B,EAAe28B,GACnC,OAAO,IAAI3B,EAAYh7B,EAAO28B,GCjJxB,IAAMC,EAAb,WACC,WACQC,EACArL,EACAsL,EACAC,EACAC,EACAC,EACAxG,EACA5jB,EACAqqB,EACAC,EACAC,EACAC,QACN,IARML,IAAAA,EAA2B,CAAC,EAAG,SAQrC,IAPMC,IAAAA,EAA2B,CAACF,EAAKpE,OAAQoE,EAAKpoB,aAOpD,IANM8hB,IAAAA,EAAiB,SAMvB,IALM5jB,IAAAA,EAAyB,SAK/B,IAJMqqB,IAAAA,EAAoB,QAI1B,IAHMC,IAAAA,EAA4B,SAGlC,IAFMC,IAAAA,EAAqB,SAE3B,IADMC,IAAAA,EAAmB,IACzB,KAZMR,KAAAA,EAYN,KAXMrL,KAAAA,EAWN,KAVMsL,KAAAA,EAUN,KATMC,KAAAA,EASN,KARMC,OAAAA,EAQN,KAPMC,OAAAA,EAON,KANMxG,OAAAA,EAMN,KALM5jB,SAAAA,EAKN,KAJMqqB,UAAAA,EAIN,KAHMC,gBAAAA,EAGN,KAFMC,cAAAA,EAEN,KADMC,SAAAA,EAbT,2BAmBQC,SAAP,SAAgBT,GACf,IAAMpG,EAASh2B,KAAK88B,oBAAoBV,EAAMp8B,KAAKu8B,OAAQv8B,KAAKw8B,QAChE,OAAO,IAAIL,EACVC,OACA3gC,EACAuE,KAAKq8B,KACLr8B,KAAKs8B,KACLt8B,KAAKu8B,OACLv8B,KAAKw8B,OACLxG,EACA,GACAh2B,KAAKy8B,UACLz8B,KAAK08B,gBACL18B,KAAK28B,cACL38B,KAAK48B,WAjCR,EAwCQG,SAAP,SAAgBhM,GACf,IAAM3e,EAAWpS,KAAKg9B,iBAAiBjM,EAAK3e,UAC5C,OAAO,IAAI+pB,EACVn8B,KAAKo8B,KACLrL,EACA/wB,KAAKq8B,KACLr8B,KAAKs8B,KACLt8B,KAAKu8B,OACLv8B,KAAKw8B,OACLx8B,KAAKg2B,OACL5jB,EACApS,KAAKy8B,UACLz8B,KAAK08B,gBACL18B,KAAK28B,cACF38B,KAAK48B,SAZF,KAYc7L,EAAKr3B,MAAQq3B,EAAKpsB,QAtDzC,EA+DQs4B,SAAP,SAAgBZ,EAAiBa,GAChC,IAAMC,EAAS,iBAAQn9B,KAAKq8B,KAASA,GAC/Be,EAAKF,EAAcl9B,KAAK48B,SAAX,UAA6BM,EAA7B,IAA2Cl9B,KAAK48B,SACnE,OAAO,IAAIT,EACVn8B,KAAKo8B,KACLp8B,KAAK+wB,KACLoM,EACAn9B,KAAKs8B,KACLt8B,KAAKu8B,OACLv8B,KAAKw8B,OACLx8B,KAAKg2B,OACLh2B,KAAKoS,SACLpS,KAAKy8B,UACLz8B,KAAK08B,gBACL18B,KAAK28B,cACLS,IA9EH,EA2FQC,SAAP,SACCf,EACAC,EACAC,GAIA,QAHC,IAFDD,IAAAA,EAA2B,CAAC,EAAG,SAE9B,IADDC,IAAAA,EAA2B,CAACF,EAAKpE,OAAQoE,EAAKpoB,QAoFrB9c,EA/ENklC,EA+EmBjlC,EA/Eb2I,KAAKs8B,KAgFxBllC,EAAE8gC,SAAW7gC,EAAE6gC,QAAU9gC,EAAE8c,QAAU7c,EAAE6c,OAG/C,SAAwB9c,EAAqBC,GAC5C,OAAOD,EAAE,KAAOC,EAAE,IAAMD,EAAE,KAAOC,EAAE,GAnFjCimC,CAAef,EAAQv8B,KAAKu8B,QAE5B,OAAOv8B,KA4EV,IAA2B5I,EAAaC,EAzEhC2+B,EAASh2B,KAAK88B,oBAAoB98B,KAAKo8B,KAAMG,EAAQC,GAC3D,OAAO,IAAIL,EACVn8B,KAAKo8B,KACLp8B,KAAK+wB,KACL/wB,KAAKq8B,KACLC,EACAC,EACAC,EACAxG,EACAh2B,KAAKoS,SACLpS,KAAKy8B,UACLz8B,KAAK08B,gBACL18B,KAAK28B,cACL38B,KAAK48B,WAtHR,EA8HQW,kBAAP,SAAyBC,GACxB,OAAO,IAAIrB,EACVn8B,KAAKo8B,KACLp8B,KAAK+wB,KACL/wB,KAAKq8B,KACLr8B,KAAKs8B,KACLt8B,KAAKu8B,OACLv8B,KAAKw8B,OACLx8B,KAAKg2B,OACLh2B,KAAKoS,SACLpS,KAAKy8B,UACLz8B,KAAK08B,gBACLc,EACAx9B,KAAK48B,WA3IR,EA+ISE,oBAAR,SACCV,EACAG,EACAC,GAEA,IAAMxG,EAAM,iBAAQh2B,KAAKg2B,QACnByH,EAA4B,CACjCnB,KAAMt8B,KAAKs8B,KACXD,KAAMr8B,KAAKq8B,KACXqB,WAAY,CAAE3lC,EAAG,CAACwkC,EAAO,GAAIC,EAAO,IAAK98B,EAAG,CAAC88B,EAAO,GAAID,EAAO,KAC/DvG,OAAAA,GAKD,OADAoG,EAAKpG,OAAOjH,SAAQ,SAAAh1B,GAAC,OAAIX,OAAOiZ,OAAO2jB,EAAQj8B,EAAE0jC,OAC1CzH,GA9JT,EAiKSgH,iBAAR,SAAyB5qB,GAAmC,IAAD,OAGpDid,EAAS,GAIf,OAHAj2B,OAAO+3B,KAAK/e,GAAU2c,SAAQ,SAAA4O,GAC7BtO,EAAOsO,GAAa,EAAKC,gBAAgBD,EAAWvrB,EAASurB,OAEvDtO,GAxKT,EA2KSuO,gBAAR,SAAwBD,EAAmBhW,GAC1C,IAAMyV,EAAE,OAAUp9B,KAAKy8B,YAEvB,OADAz8B,KAAK08B,gBAAgBU,GAAMzV,EACpByV,GA9KT,6BCZO,SAASS,EAAW5B,EAAYR,GACtC,IAAMjB,EAAcyB,EAAKzB,YAGrBnL,EAASmL,EACb,OAHmByB,EAAXnD,QAIP,KAAKgF,EAAAA,GAAAA,OACJzO,EAASmL,EAAc,EACvB,MAED,KAAKsD,EAAAA,GAAAA,KACJzO,EAASoM,EAAYjB,EAAc,EACnC,MAED,KAAKsD,EAAAA,GAAAA,MACJzO,EAASmL,EAAc,EACvB,MAED,KAAKsD,EAAAA,GAAAA,IACJzO,EAASoM,EAAYjB,EAAc,EAIrC,OAAOnL,ECpBD,IAAM0O,EAAb,oDACQC,cAAP,SAAqB1T,GACpB,IAAMnuB,EAAQmuB,EAAQnuB,MAChB8hC,EAAWjiC,KAAKC,IAAL,MAAAD,MAAI,OAAQG,IACvB+hC,EAAWliC,KAAKuC,IAAL,MAAAvC,MAAI,OAAQG,IAE7B,OAAO,OAAP,UACImuB,EADJ,CAEC6T,eAAgBD,EAChBE,eAAgBH,EAChBI,YAAaR,EACZvT,EAAQ2R,KACR3R,EAAQmR,cAZZ,EAiBQ6C,6BAAP,SAAoChU,GACnC,QAASA,EAAQ2R,KAAKh+B,QAlBxB,EAqBQsgC,wBAAP,SAA+BjU,GAAuB,IAAD,EAEnD2R,EAOG3R,EAPH2R,KACAuC,EAMGlU,EANHkU,cACAC,EAKGnU,EALHmU,iBACAC,EAIGpU,EAJHoU,cACAL,EAGG/T,EAHH+T,YACAF,EAEG7T,EAFH6T,eACAC,EACG9T,EADH8T,eAED,OAAOO,EAAAA,EAAAA,IAAUzH,EAAAA,GAAAA,MACfT,KAAK,eACLmI,OAFK,GAGLC,OAAQ5C,EAAKxB,YACbqE,YAAa7C,EAAKzB,aAJb,EAKJgE,GAAgBL,EALZ,EAMJM,GAAmBL,EAAkBnC,EAAKzB,YANtC,EAOJkE,GAAgBL,EAPZ,IASLlI,SAxCJ,KCSa4I,EAAb,oDACQf,cAAP,SAAqB1T,GACpB,OAAOA,GAFT,EAKQgU,6BAAP,SAAoChU,GACnC,QAASA,EAAQ2R,KAAKhB,QANxB,EASQsD,wBAAP,SAA+BjU,GAAuB,IAAD,EACpD,OAAO,GAAAqU,EAAAA,EAAAA,IAAUzH,EAAAA,GAAAA,MACfT,KAAK,qBACLmI,MAFK,iBAGDtU,EAAQ5tB,OAAS,IAAI8C,KAAI,SAAAw/B,GAAI,OAMrC,SAAyBA,EAA2B1U,GAAuB,IAAD,EACjE2R,EAAuC3R,EAAvC2R,KAAMuC,EAAiClU,EAAjCkU,cAAeE,EAAkBpU,EAAlBoU,cACvBO,EAAWhD,EAAKd,cAChBL,EAAWmB,EAAKnB,SAChBlb,EAAMqc,EAAKZ,aACX6D,EAAOjD,EAAKf,UACZpnB,EAAOmoB,EAAKb,WACZ+D,EAAalD,EAAKX,gBAClB8D,EAAOJ,EAAKK,MACZtrB,EA0CP,SAAgCkoB,GAC/B,QAAwBxgC,IAApBwgC,EAAKqD,WACR,OAAOrD,EAAKqD,WAEb,OAAQrD,EAAKnD,QACZ,KAAKgF,EAAAA,GAAAA,IACL,KAAKA,EAAAA,GAAAA,OACJ,OAAOyB,EAAAA,GAAAA,OACR,KAAKzB,EAAAA,GAAAA,KACJ,OAAOyB,EAAAA,GAAAA,MACR,KAAKzB,EAAAA,GAAAA,MACJ,OAAOyB,EAAAA,GAAAA,MArDKC,CAAuBvD,GAC/BwD,EA0BP,SAAqBxD,GACpB,GAAIA,EAAKyD,cACR,OAAOzD,EAAKyD,cAEb,OAAQzD,EAAKnD,QACZ,KAAKgF,EAAAA,GAAAA,IACJ,OAAO6B,EAAAA,GAAAA,OACR,KAAK7B,EAAAA,GAAAA,OACJ,OAAO6B,EAAAA,GAAAA,IACR,KAAK7B,EAAAA,GAAAA,KACL,KAAKA,EAAAA,GAAAA,MACJ,OAAO6B,EAAAA,GAAAA,QArCQC,CAAY3D,GACvBV,EAAaU,EAAKV,WAElBsE,EAAqBvV,EAAQwV,UAChCxV,EAAQmR,UAAYX,EAAWlb,EAC/Bkb,EAAWlb,GAAOqc,EAAKnD,SAAWgF,EAAAA,GAAAA,OAAyB,EAAI,GAE5DzO,IAAM,GACXyP,YAAa,EACbD,OAAQ,SACPL,GAAgBQ,EAAKe,SAAW,EAHtB,EAIVrB,GAAgBmB,EAJN,EAKXV,WAAAA,EALW,EAMXC,KAAAA,EANW,EAOXtrB,KAAAA,EAPW,EAQXorB,KAAAA,EARW,EASXD,SAAAA,EATW,EAUXQ,SAAAA,EAVW,EAWX1rB,MAAAA,EAXW,QAaOtY,IAAf8/B,IACHlM,EAAO2Q,MAASzE,EAAav/B,KAAKikC,GAAM,KAEzC,OAAO5Q,EAvCiC6Q,CAAgBlB,EAAM1U,QAE3D6L,SAfJ,6BCTO,SAASgK,EAAc7V,GAC7B,IAAQ2R,EAAgB3R,EAAhB2R,KAAM18B,EAAU+qB,EAAV/qB,MAEd,OAAmB,MAAf08B,EAAKlhC,OACDkhC,EAAKlhC,OAAOyE,KAAI,SAAA4gC,GAAE,wBAAUA,EAAV,CAAcL,SAAUxgC,EAAM6gC,EAAGnmC,YAIpDsF,EAAM7C,MAgBd,SAAgC4tB,GAC/B,IAAQ2R,EAAgB3R,EAAhB2R,KAAM18B,EAAU+qB,EAAV/qB,MACRw7B,EAAYkB,EAAKlB,UAEvB,IAAKx7B,EAAM7C,MACV,MAAM,IAAIkX,MAAM,+BAKjB,OAFmB,MAAlBqoB,EAAKtB,UAAoBp7B,EAAM7C,MAAMu/B,EAAKtB,WAAap7B,EAAM7C,SAEjD8C,KAAI,SAACF,GACjB,IAAMygC,EAAWxgC,EAAMD,GACjB+/B,EAAQ/U,EAAQ+V,eAAe/gC,GACrC,MAAO,CACNrF,MAAOqF,EACPygC,SAAU9D,EAAKpB,UACZ7+B,KAAKc,MAAMijC,GACXA,EAAWhF,EAAY,EAC1BsE,MAAAA,MAjCCiB,CAAuBhW,GACvB/qB,EAAMtB,OAqCV,SAAiCqsB,EAAsB/qB,GACtD,IAAQ08B,EAAS3R,EAAT2R,KACR,IAAK18B,EAAMtB,OACV,MAAM,IAAI2V,MAAM,+BAGjB,OADerU,EAAMtB,SACPuB,KAAI,SAACF,GAClB,IAAM+/B,EAAQ/U,EAAQ+V,eAAe/gC,GACrC,MAAO,CACNrF,MAAOqF,EACPygC,SAAUQ,EAAoBjhC,EAAGC,EAAO08B,GACxCoD,MAAAA,MA/CCmB,CAAwBlW,EAAS/qB,GACjC,GAGJ,SAASghC,EAAoBjhC,EAAQC,EAAwB08B,GAC5D,IAAMpB,EAAYoB,EAAKpB,UACjBG,EAAeiB,EAAKjB,aACpB3L,EAAS9vB,EAAMkhC,UAClBlhC,EAAMD,GAAKC,EAAMkhC,YAAczF,EAC/B17B,EACH,OAAOu7B,EAAY7+B,KAAKc,MAAMuyB,GAAUA,EChBlC,IAAMqR,EAAb,oDACQ1C,cAAP,SAAqB1T,GACpB,IAAMqW,EAqBR,SAA2BrW,GAC1B,IAAMwQ,EAAWxQ,EAAQ2R,KAAKnB,SAC9B,OAAOxQ,EAAQwV,UAAYxV,EAAQmR,UAAYX,EAAWA,EAvBlC8F,CAAkBtW,GACnCuW,EAyBR,SAAyBvW,GACxB,OAAOA,EAAQwV,UACZxV,EAAQmR,UACPnR,EAAQ2R,KAAKlB,UA5BK+F,CAAgBxW,GAC/B+V,ECLD,SACN/V,GAEA,IAAM/qB,EAAQ+qB,EAAQ/qB,MACdi8B,EAAgBlR,EAAQ2R,KAAxBT,YAER,OAAKA,EAbN,SAAqBj8B,GACpB,MAA+B,QAAxBA,EAAMwhC,eAAmD,SAAxBxhC,EAAMwhC,cAgBvCC,CAAYzhC,IAASoZ,EAAAA,EAAAA,IAAW6iB,IAAej2B,EAAAA,EAAAA,IAAOi2B,GAHrD,SAACl8B,GAAD,SAAeA,GDFC2hC,CAAkB3W,GAEnC5tB,EAAQyjC,EADd7V,EAAO,iBAAQA,EAAR,CAAiB+V,eAAAA,EAAgBQ,aAAAA,EAAcF,eAAAA,KAGtD,OADArW,EAAO,iBAAQA,EAAR,CAAiB5tB,MAAAA,KAP1B,EAWQ4hC,6BAAP,SAAoChU,GACnC,QAASA,EAAQ2R,KAAKv/B,OAZxB,EAeQ6hC,wBAAP,SAA+BjU,GAAuB,IAAD,EACpD,OAAO,GAAAqU,EAAAA,EAAAA,IAAUzH,EAAAA,GAAAA,MACfT,KAAK,eACLmI,MAFK,gBAEItU,EAAQ5tB,MAAM8C,KAAI,SAAAw/B,GAAI,OAgBnC,SAAwBA,EAA2B1U,GAAuB,IAAD,EACxE,EAEIA,EADH2R,KAAmB4C,EADpB,EACSnE,UAA8BoE,EADvC,EAC4B/D,UAGtBmG,EAkBP,SAAuB5W,GACtB,IAAMwQ,EAAWxQ,EAAQ2R,KAAKnB,SACxBC,EAAYzQ,EAAQ2R,KAAKlB,UAE/B,OADezQ,EAAQwV,UAAYxV,EAAQmR,UAAYX,EAAWA,GAClDC,EAAY,EAtBToG,CAAc7W,GAC3B8W,EAwBP,SAAqB9W,GACpB,IAAMyQ,EAAYzQ,EAAQ2R,KAAKlB,UAC/B,OAAOzQ,EAAQwV,UAAYxV,EAAQmR,UAAYV,EA1B9BsG,CAAY/W,GACvBgX,EAWP,SAAuBtC,EAA2B1U,GACjD,IAAMwU,EAAcxU,EAAQ2R,KAAKlB,UACjC,OAAOiE,EAAKe,SAAWjB,EAbJyC,CAAcvC,EAAM1U,GAEvC,OAAO,EAAP,IACEA,EAAQkU,eAAgB8C,EAD1B,EAEEhX,EAAQoU,eAAgBwC,EAF1B,EAGE5W,EAAQkX,kBAAmBJ,EAH7B,EAICvC,OAAAA,EAJD,EAKCC,YAAAA,EALD,EAzBsC2C,CAAezC,EAAM1U,QACxD6L,SAnBJ,KEJO,IAAMuL,EAA8B,CAC1C,IAAI3D,EACJ,IAAI2C,EACJ,IAAI3B,GCLE,SAAS4C,EACf1F,EACA2F,EACAC,GAGA,IAAMpG,EAoCP,SAAsBQ,EAAY6F,GACjC,OAAQ7F,EAAKnD,QACZ,KAAKgF,EAAAA,GAAAA,IACJ,OAAOgE,EAAMC,IACd,KAAKjE,EAAAA,GAAAA,MACJ,OAAOgE,EAAMrqC,MACd,KAAKqmC,EAAAA,GAAAA,OACJ,OAAOgE,EAAME,OACd,KAAKlE,EAAAA,GAAAA,KACJ,OAAOgE,EAAMpqC,KACd,QACC,OAAO,GA/CSuqC,CAAahG,EAAM4F,GAC/BK,EAAYN,EAAMvE,SA0FzB,SACCpB,EACA6F,EACAK,EACAC,GAEA,IAAQ1qC,EAA6BoqC,EAA7BpqC,KAAMD,EAAuBqqC,EAAvBrqC,MAAOsqC,EAAgBD,EAAhBC,IAAKC,EAAWF,EAAXE,OAC1B,EAAyDI,EAAjDlK,OAAQmK,OAAhB,MAA6B,EAA7B,IAAyDD,EAAzBluB,MAAOouB,OAAvC,MAAmD,EAAnD,EAIA,OAFCrG,EAAKnD,SAAWgF,EAAAA,GAAAA,KAChB7B,EAAKnD,SAAWgF,EAAAA,GAAAA,OAET,CACN5pB,MAAOouB,EAAY5qC,EAAOD,EAC1BygC,OAAQiK,GAGF,CACNjuB,MAAOiuB,EACPjK,OAAQmK,EAAaN,EAAMC,GA5G5BO,CAAatG,EAAM4F,EAAWpG,EAAWmG,EAAMtF,MAiDjD,SACCL,EACA6F,EACAM,GAEA,IAAQluB,EAAkBkuB,EAAlBluB,MAAOgkB,EAAWkK,EAAXlK,OACPxgC,EAA6BoqC,EAA7BpqC,KAAMqqC,EAAuBD,EAAvBC,IAAKC,EAAkBF,EAAlBE,OAAQvqC,EAAUqqC,EAAVrqC,MAE3B,OAAQwkC,EAAKnD,QACZ,KAAKgF,EAAAA,GAAAA,IACJ,MAAO,CAAC,EAAGpmC,GACZ,KAAKomC,EAAAA,GAAAA,OACJ,MAAO,CAAC5F,EAAS8J,EAAQtqC,GAC1B,KAAKomC,EAAAA,GAAAA,KACJ,MAAO,CAACiE,EAAK,GACd,KAAKjE,EAAAA,GAAAA,MACJ,MAAO,CAACiE,EAAK7tB,EAAQzc,IAhEtB+qC,CAAWvG,EAAM4F,EAAWD,EAAMtF,MAoEpC,SACCL,EACA6F,EACAM,GAEA,IAAQluB,EAAkBkuB,EAAlBluB,MAAOgkB,EAAWkK,EAAXlK,OACPxgC,EAA6BoqC,EAA7BpqC,KAAMqqC,EAAuBD,EAAvBC,IAAKC,EAAkBF,EAAlBE,OAAQvqC,EAAUqqC,EAAVrqC,MAE3B,OAAQwkC,EAAKnD,QACZ,KAAKgF,EAAAA,GAAAA,IACJ,MAAO,CAACiE,EAAK7tB,EAAQzc,GACtB,KAAKqmC,EAAAA,GAAAA,OACJ,MAAO,CAAC5F,EAAQhkB,EAAQzc,GACzB,KAAKqmC,EAAAA,GAAAA,KACJ,MAAO,CAAC5F,EAAS8J,EAAQtqC,GAC1B,KAAKomC,EAAAA,GAAAA,MACJ,MAAO,CAAC5F,EAAS8J,EAAQ9tB,IAnF1BuuB,CAAWxG,EAAM4F,EAAWD,EAAMtF,OAG7BoG,EAAYzG,EAAK18B,MACjBA,EAAQ2iC,EAAUlM,OAAO0M,GACzBvmC,EAA4BoD,EAAMpD,OAASoD,EAAMpD,SAGjD,CAAC,EAAG,GAEJwmC,EACL1G,EAAKnD,SAAWgF,EAAAA,GAAAA,KAChB7B,EAAKnD,SAAWgF,EAAAA,GAAAA,OAKjB,MAAO,CACN7B,KAAAA,EACA9/B,MAAAA,EACAoD,MAAAA,EACAk8B,UAAAA,EACAkH,WAAAA,EACA7C,UARA7D,EAAKnD,SAAWgF,EAAAA,GAAAA,KAAuB7B,EAAKnD,SAAWgF,EAAAA,GAAAA,KASvD8D,MAAOM,EACP1D,cAAemE,EAAa,IAAM,IAClClE,iBAAkBkE,EAAa,KAAO,KACtCjE,cAAeiE,EAAa,IAAM,IAClCnB,iBAAkBmB,EAAa,KAAO,MC7BjC,SAASC,EACf3G,EACA2F,EACAC,GAEA,IAAMvX,EAuBP,SACC2R,EACA2F,EACAC,GAEA,IAEIxS,EAFmBsS,EAAW1F,EAAM2F,EAAOC,GAI/C,OADAH,EAAW3S,SAAQ,SAAA8T,GAAS,OAAKxT,EAASwT,EAAU7E,cAAc3O,MAC3DA,EAhCSyT,CAAuB7G,EAAM2F,EAAOC,GAC9CkB,EAmDP,SAAsBzY,EAAsB8X,GAC3C,MAAkCA,EAA1BlK,OAAAA,OAAR,MAAiB,EAAjB,IAAkCkK,EAAdluB,MAAAA,OAApB,MAA4B,EAA5B,EACA,OAAIoW,EAAQqY,WACJ,CACNzuB,MAAAA,EACAgkB,OAAQ5N,EAAQmR,WAGV,CACNvnB,MAAOoW,EAAQmR,UACfvD,OAAAA,GA7DgB8K,CAAa1Y,EAASsX,EAAMtF,MACxC/D,EAiCP,SAAwBjO,EAAsB8X,GAC7C,MAAkCA,EAA1BlK,OAAAA,OAAR,MAAiB,EAAjB,IAAkCkK,EAAdluB,MAAAA,OAApB,MAA4B,EAA5B,EACA,OAAQoW,EAAQ2R,KAAKnD,QACpB,KAAKgF,EAAAA,GAAAA,IACJ,MAAO,CAAE/lC,EAAG,EAAG2H,EAAG,GACnB,KAAKo+B,EAAAA,GAAAA,OACJ,MAAO,CACN/lC,EAAG,EACH2H,EAAGw4B,EAAS5N,EAAQmR,WAEtB,KAAKqC,EAAAA,GAAAA,KACJ,MAAO,CAAE/lC,EAAG,EAAG2H,EAAG,GACnB,KAAKo+B,EAAAA,GAAAA,MACJ,MAAO,CAAE/lC,EAAGmc,EAAQoW,EAAQmR,UAAW/7B,EAAG,IA9C7BujC,CAAe3Y,EAASsX,EAAMtF,MAGvCsC,EAAqB,GAO3B,OANA8C,EAAW3S,SAAQ,SAAA70B,GACdA,EAAEokC,6BAA6BhU,IAClCsU,EAAM58B,KAAK9H,EAAEqkC,wBAAwBjU,QAIhCqU,EAAAA,EAAAA,IAAUzH,EAAAA,GAAAA,OACfT,KAAK,QACLmI,MAFK,eAGLA,MAAAA,EACA7mC,EAAGwgC,EAAOxgC,EACV2H,EAAG64B,EAAO74B,GACPqjC,IAEH5M,QCvBI,SAAS+M,EACf9G,EACAwF,GAMA,GAAyB,IAArBxF,EAAK9F,KAAKp+B,OACb,MAAO,CACNo+B,KAAM,GACN6M,eAAgB,CAAE5K,OAAQ,CAAExgC,EAAG,EAAG2H,EAAG,GAAK84B,MAAOoJ,EAAMtF,OAIzD,IAAMuF,EA+BP,SAAsBD,GAMrB,IAAME,EAAQ,CACbC,IAAK,CACJqB,KAAM,EACNC,KAAM,GAEP3rC,KAAM,CACL0rC,KAAM,EACNC,KAAM,GAEPrB,OAAQ,CACPoB,KAAM,EACNC,KAAM,GAEP5rC,MAAO,CACN2rC,KAAM,EACNC,KAAM,IA2BR,OAvBAzB,EAAMxF,KAAK9F,KAAKvH,SAAQ,SAAA33B,GACvB,IAAMqkC,EA8BR,SAAmBQ,GAElB,OADkBA,EAAKR,WdrEc,GcsClB6H,CAAUlsC,GAEtBmsC,EADWnsC,EAAE+jC,cACQ,EAC3B,OAAQ/jC,EAAE0hC,QACT,KAAKgF,EAAAA,GAAAA,IACJgE,EAAMC,IAAIqB,KAAOpnC,KAAKC,IAAI6lC,EAAMC,IAAIqB,KAAM3H,GAC1C,MACD,KAAKqC,EAAAA,GAAAA,MACJgE,EAAMrqC,MAAM2rC,KAAOpnC,KAAKC,IAAI6lC,EAAMrqC,MAAM2rC,KAAM3H,GAC9CqG,EAAMC,IAAIsB,KAAOrnC,KAAKC,IAAI6lC,EAAMC,IAAIsB,KAAME,GAC1CzB,EAAME,OAAOqB,KAAOrnC,KAAKC,IAAI6lC,EAAME,OAAOqB,KAAME,GAChD,MACD,KAAKzF,EAAAA,GAAAA,OACJgE,EAAME,OAAOoB,KAAOpnC,KAAKC,IAAI6lC,EAAME,OAAOoB,KAAM3H,GAChD,MACD,KAAKqC,EAAAA,GAAAA,KACJgE,EAAMpqC,KAAK0rC,KAAOpnC,KAAKC,IAAI6lC,EAAMpqC,KAAK0rC,KAAM3H,GAC5CqG,EAAMC,IAAIsB,KAAOrnC,KAAKC,IAAI6lC,EAAMC,IAAIsB,KAAME,GAC1CzB,EAAME,OAAOqB,KAAOrnC,KAAKC,IAAI6lC,EAAME,OAAOqB,KAAME,OAI5C,CACNxB,IAAK/lC,KAAKC,IAAI6lC,EAAMC,IAAIqB,KAAMtB,EAAMC,IAAIsB,MACxC3rC,KAAMsE,KAAKC,IAAI6lC,EAAMpqC,KAAK0rC,KAAMtB,EAAMpqC,KAAK2rC,MAC3CrB,OAAQhmC,KAAKC,IAAI6lC,EAAME,OAAOoB,KAAMtB,EAAME,OAAOqB,MACjD5rC,MAAOuE,KAAKC,IAAI6lC,EAAMrqC,MAAM2rC,KAAMtB,EAAMrqC,MAAM4rC,OAnF7BG,CAAa5B,GACzBtL,EAAO8F,EAAK9F,KAAK92B,KAAI,SAAAy8B,GAAI,OAAI2G,EAAU3G,EAAM2F,EAAOC,MAGpDsB,EAOP,SAA2BvB,EAAmBC,GAC7C,MAAmED,EAAMtF,KAAzE,IAAQpoB,MAAOuvB,OAAf,MAAgC,EAAhC,MAAmCvL,OAAQwL,OAA3C,MAA6D,EAA7D,EAYA,MAVkC,CACjCnL,OAAQ,CACPxgC,EAAG8pC,EAAUnqC,KACbgI,EAAGmiC,EAAUE,KAEdvJ,MAAO,CACNtkB,MAAOuvB,EAAiB5B,EAAUnqC,KAAOmqC,EAAUpqC,MACnDygC,OAAQwL,EAAkB7B,EAAUE,IAAMF,EAAUG,SAjB/B2B,CAAkB/B,EAAOC,GAChD,MAAO,CACNvL,KAAAA,EACA6M,eAAAA,GCdK,SAASS,EACfhC,EACAiC,EACA1oC,EACAq7B,GAEA,IAAMzF,EAAO6Q,EAAM7Q,KAEb/G,EAqCP,SACC+G,EACA8S,EACA1oC,EACAkhC,EACAuF,GAEA,IAAQj9B,EAA6CosB,EAA7CpsB,KAAMm/B,EAAuC/S,EAAvC+S,UAAWpqC,EAA4Bq3B,EAA5Br3B,KAAM+8B,EAAsB1F,EAAtB0F,KAAMC,EAAgB3F,EAAhB2F,YAC/B0G,EAAQwE,EAAMhF,SAAZ,IAsBT,SACCiH,EACA1oC,EACAkhC,EACA3F,GAEA,OAAKA,EAGGA,EAAYmN,EAAK1oC,EAAOkhC,GAFzB,GAAIlhC,EA7BqB4oC,CAAUF,EAAK1oC,EAAOkhC,EAAM3F,GACtDpM,EA8EP,SACC8S,EACAhlC,EACA+C,EACAymC,GAUA,OARsC,eACrCxE,GAAAA,EACAhlC,EAAAA,EACA+C,MAAAA,EACAmhC,KAAMsF,EAAMtF,MACTsF,EAAMvF,KACNuF,EAAM5L,QA1FMgO,CAAmB5G,EAAIyG,EAAK1oC,EAAOymC,GAE/CqC,EAAqB,GACnBC,EAAmBnT,EAAK+S,UAAUhI,EAAAA,GAAAA,UACpCoI,IACHD,EAC6B,mBAArBC,EACJA,EAAiB5Z,GACjB4Z,GAGL,IAAMC,EAAK,iBAoDZ,SAA2BL,EAA0BxZ,GACpD,IAAM6Z,EAAgC,GAWtC,OAVA/qC,OAAO+3B,KAAK2S,GACVthB,QAAO,SAAAljB,GAAC,MAAU,UAANA,KACZyvB,SAAQ,SAAAtsB,GACR,IAAMiyB,EAAWoP,EAAUrhC,GAC3B,GAAIiyB,EAAU,CACb,IAAMz6B,EACe,mBAAby6B,EAA0BA,EAASpK,GAAWoK,EACtDyP,EAAM1hC,GAAOxI,MAGTkqC,EA/DHC,CAAkBN,EAAWxZ,GADtB,CAEV5wB,KAAAA,EACA+8B,KAAAA,EACAwN,SAAS,OAAD,UAAOA,EAAP,CAAiB9oC,MAAAA,EAAOiiC,GAAAA,IAChChrB,SAAUwvB,EAAMxvB,WAEjB,OAAOiyB,EAAAA,EAAAA,IAAW1/B,EAAMw/B,GAhEXG,CAAmBvT,EAAM8S,EAAK1oC,EAAOq7B,EAAOoL,GACzD,GAAI7Q,EAAKpsB,OAASuyB,EAAAA,GAAAA,MACjB,OAAOlN,EAIR,IAmFwB8X,EAAkByC,EAC3Bd,EAAwBC,EACvC,IACW3rC,EADX,EACkB2H,EADlB,IAEUwU,EAFV,EArFMswB,GAAYC,EAAAA,EAAAA,IAAaza,GACzB0a,GAkFkB5C,EAlFS0C,EAkFSD,EAlFE3C,EAAMtF,KAmFnCmH,EAA4Cc,EAAnDrwB,MAA+BwvB,EAAoBa,EAA5BrM,OAC/B,EAGI4J,EAFHvJ,OADD,IACWxgC,EAAAA,OADX,MACe,EADf,MACkB2H,EAAAA,OADlB,MACsB,EADtB,IAGIoiC,EADHtJ,MAFD,IAEUtkB,MAAAA,OAFV,MAEkBuvB,EAFlB,MAEkCvL,OAQ3B,CACN6J,IANWriC,EAOXhI,KANYK,EAOZiqC,OARWtiC,QALZ,MAE2CgkC,EAF3C,GAcCjsC,MARYM,EACQmc,IA1FfywB,EAAW,CAChBzwB,MAAOwwB,EAASjtC,MAAQitC,EAAShtC,KACjCwgC,OAAQwM,EAAS1C,OAAS0C,EAAS3C,KAE9B6C,EAAYhD,EAAMvE,SAASsH,GAAUpH,kBAAkBsG,GAGvDjF,EAAQ7N,EAAKoG,MAAQ0N,EAAY9T,EAAKoG,MAAOyN,GAAa,GAShE,OAR4B,iBACxB5a,EADwB,CAE3B4U,MAAAA,EACA7mC,EAAG2sC,EAAShtC,KACZgI,EAAGglC,EAAS3C,IACZ+C,GAAIJ,EAASjtC,MACbstC,GAAIL,EAAS1C,SC5BR,SAASgD,EAAYjU,EAAY6Q,GACvC,IAAMqD,EAAYrD,EAAM7E,SAAShM,GAC3BmU,EA0DP,SAAsBnU,EAAY6Q,GACjC,IAAQpL,EAAiBzF,EAAjByF,MAAOS,EAAUlG,EAAVkG,MAIf,IADqBT,IAAUS,EAE9B,MAAO,CAAC2K,EAAMjF,eAGf,IAAKnG,EACJ,MAAM,IAAI5iB,MAAM,uCAGjB,IAAMuxB,EAAcvD,EAAMvF,KAAK7F,GAC/B,GAAIS,EAAO,CACV,IAAMmO,EAAmBnO,EAAMT,OAASA,EACxC,IAAK4O,EACJ,MAAM,IAAIxxB,MAAM,sDAEjB,IAAKqjB,EAAMoO,QACV,MAAM,IAAIzxB,MAAM,iCAEjB,IACMyb,EAUR,SACC4H,EACAmO,EACAE,GAEA,IAAKrO,EAAMoO,QACV,MAAM,IAAIzxB,MAAM,iCAEjB,IAAM2xB,EA0CP,SAAmBF,GAClB,GAAuB,mBAAZA,EACV,OAAOA,EAEP,IAAMG,EACc,iBAAZH,EAAuB,CAACA,GAAWA,EAC3C,OAAO,SAACxB,GAAD,OAAc2B,EAAYhmC,KAAI,SAAA+R,GAAC,OAAIsyB,EAAItyB,MAAI+C,KAAK,MAhDzCmxB,CAAUxO,EAAMoO,SAEzBK,EAAW,IAAIljC,IACfmjC,EAAU,IAAInjC,IACdojC,EAAsB,GAKxBN,GACHA,EAAgBvW,SAAQ,SAAA8W,GACvB,IAAMpjC,EAAM8iC,EAAOM,GACnBF,EAAQhjC,IAAIF,EAAKojC,MA2BnB,OAtBAT,EAAiBrW,SAAQ,SAAC8U,GACzB,IAAMphC,EAAM8iC,EAAO1B,GACnB,IAAK6B,EAAS9iC,IAAIH,GAAM,CACvB,IACMqjC,EAAsB,CAC3BzJ,KAAM,GACN55B,IAAAA,EACAmQ,OAJc+yB,EAAQjjC,IAAID,IAM3BmjC,EAAO5jC,KAAK8jC,GACZJ,EAAS/iC,IAAIF,EAAKqjC,GAEnB,IAAMluC,EAAI8tC,EAAShjC,IAAID,GACvB7K,MAAAA,GAAAA,EAAGykC,KAAKr6B,KAAK6hC,MAIC,CACdnqC,KAAMu9B,EAAMv9B,KACZqsC,WAAY9O,EAAM8O,WAClBH,OAAAA,GAvDeI,CAAkB/O,EADb2K,EAAMvF,KAAK+I,GACsBD,GACrD,OAAO9V,EAEP,IAAK8V,EACJ,MAAM,IAAIvxB,MAAJ,wBAAkC4iB,GAEzC,OAAO2O,EAvFUc,CAAalV,EAAMkU,GAC/BrG,EAIP,SAAqBgD,EAAmBsD,GACvC,GAAInsC,MAAMC,QAAQksC,GACjB,OAsCF,SAA8BtD,EAAmBvF,GAChD,OAAOA,EAAK78B,KAAI,SAACqkC,EAAK1oC,GAAN,OAAgByoC,EAAgBhC,EAAOiC,EAAK1oC,EAAOkhC,MAvC3D6J,CAAqBtE,EAAOsD,GAGpC,OASD,SACCtD,EADD,GAGG,IADAloC,EACD,EADCA,KAAMqsC,EACP,EADOA,WAAYH,EACnB,EADmBA,OAEpB,OAAOA,EAAOpmC,KAAI,SAACy3B,EAAO97B,GAAW,IAAD,EAC7BgrC,IAAkB,MACtBzsC,GAAOu9B,EAAMoF,KADS,GAOxB,OAJI0J,IACHI,EAAQJ,GAAc9O,EAAMrkB,QAGtBgxB,EADYhC,EAAM3E,SAASkJ,EAASlP,EAAMx0B,KAGhDw0B,EAAMrkB,QAAUqkB,EAAMoF,KACtBlhC,EACAyqC,MAzBKQ,CAAmBxE,EAAOsD,GATnBmB,CAAYpB,EAAWC,GACrC,OAAOoB,EAAAA,EAAAA,IAAWvV,EAAKpsB,KAAMi6B,GCZvB,SAASiG,EACfzI,EACAmK,GAGA,IAiB2B3H,EAA8BkD,EAjBnDF,EAAQ2E,EAAY1J,SAAST,GAGnC,EAAiC8G,EAAU9G,EAAMwF,GAAzCuB,EAAR,EAAQA,eAAgB7M,EAAxB,EAAwBA,KAGlBkQ,EAAY5E,EAAMvE,SAAS8F,EAAe3K,OAC1CiO,EAAYrK,EAAKsK,MAAMlnC,KAAI,SAAAuxB,GAAI,OAAIiU,EAAYjU,EAAMyV,MAG3D,OAAIlQ,EAAKp+B,OAAS,EACX,GAAN,eAAWo+B,GAAX,EAM0BsI,EANU6H,EAMoB3E,EANTqB,GAOzCxE,EAAAA,EAAAA,IAAUzH,EAAAA,GAAAA,OACfT,KAAK,SACLmI,MAFK,iBAGFkD,EAAMvJ,OACNuJ,EAAMtJ,MAJJ,CAKLoG,MAAAA,KAEAzI,WAZMsQ,ECxBF,SAASE,EACfC,EACAvK,EACA3E,GAEA,IAAMmP,EAAiB,IAAIpP,EAAoBC,GACzCxjB,EAAQ2yB,EAAe9K,WAAWvD,MAAMtkB,MACxCgkB,EAAS2O,EAAe9K,WAAWvD,MAAMN,OAEzC4O,EAAY,IAAI3K,EADJ1gC,eAC0BA,EAAW4gC,EAAM,CAC5DnoB,MAAAA,EACAgkB,OAAAA,IAGD,MAAO,CACN0O,KAAM/B,EAAY+B,EAAME,GAAW,GACnCpK,gBAAiBoK,EAAUpK,qDCftB,IAAKxF,EAiCA6P,EASAC,EAgBAzH,EASA0H,EASAtH,EAUAuH,EAcAC,EAQAC,EASAC,ECtHAC,ECGAxL,EAoOAyL,ECnPAzJ,ECoLA0J,EC5KL,SAAS/C,EAAaza,GAC5B,IAAQjyB,EAAwCiyB,EAAxCjyB,EAAG0vC,EAAqCzd,EAArCyd,GAAI3C,EAAiC9a,EAAjC8a,GAAIplC,EAA6BsqB,EAA7BtqB,EAAGgoC,EAA0B1d,EAA1B0d,GAAI3C,EAAsB/a,EAAtB+a,GAAI7wB,EAAkB8V,EAAlB9V,MAAOgkB,EAAWlO,EAAXkO,OAC/ByP,EAAmB,SACxBC,EACAC,EACAlwC,EACAmwC,GAEA,IAAIvP,EACAwP,EA+BJ,YA1BYtsC,IAARmsC,OACUnsC,IAATosC,GACHtP,EAASv8B,KAAKuC,IAAIqpC,EAAKC,GACvBE,EAAa/rC,KAAK0B,IAAImqC,EAAOD,SACVnsC,IAATqsC,GACVvP,EAASqP,EACTG,EAAaD,QACQrsC,IAAX9D,GACV4gC,EAASv8B,KAAKuC,IAAIqpC,EAAKjwC,GACvBowC,EAAsC,EAAzB/rC,KAAK0B,IAAI/F,EAASiwC,IAE/BrP,EAASqP,OAESnsC,IAATosC,OACGpsC,IAATqsC,GACHvP,EAASsP,EAAOC,EAChBC,EAAaD,QACQrsC,IAAX9D,IACVowC,EAAuC,EAA1B/rC,KAAK0B,IAAImqC,EAAOlwC,GAC7B4gC,EACC5gC,EAASkwC,EAAOA,EAAyB,GAAjBA,EAAOlwC,GAAcA,GAAUA,EAASkwC,SAE/CpsC,IAATqsC,QAAiCrsC,IAAX9D,IAChC4gC,EAAS5gC,EAASmwC,EAAO,EACzBC,EAAaD,GAEP,CAACvP,EAAQwP,IAGjB,EAA+BJ,EAAiB5vC,EAAG+sC,EAAI2C,EAAIvzB,GAApD8zB,EAAP,KAAgBC,EAAhB,KACA,EAAgCN,EAAiBjoC,EAAGqlC,EAAI2C,EAAIxP,GAC5D,MAAO,CACNK,OAAQ,CACPxgC,EAAGiwC,GAAW,EACdtoC,EAJF,MAIgB,GAEf84B,MAAO,CACNtkB,MAAO+zB,EACP/P,OARF,waLvCD,SAAYhB,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,MAAAA,QAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,OAAAA,EAAAA,OAAAA,SAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,MAAAA,QAAZ,CAAYA,IAAAA,EAAAA,KAyCT,SARS6P,GAAAA,EAAAA,WAAAA,aAAAA,EAAAA,SAAAA,WAQT,CARSA,IAAAA,EAAAA,KAwBT,SAfSC,GAAAA,EAAAA,MAAAA,QAAAA,EAAAA,OAAAA,SAAAA,EAAAA,SAAAA,WAAAA,EAAAA,WAAAA,cAAAA,EAAAA,OAAAA,SAAAA,EAAAA,SAAAA,WAAAA,EAAAA,QAAAA,UAAAA,EAAAA,KAAAA,OAAAA,EAAAA,UAAAA,aAAAA,EAAAA,WAAAA,cAeT,CAfSA,IAAAA,EAAAA,KAwBT,SARSzH,GAAAA,EAAAA,KAAAA,OAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,QAQT,CARSA,IAAAA,EAAAA,KAiBT,SARS0H,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,SAAAA,EAAAA,OAAAA,SAQT,CARSA,IAAAA,EAAAA,KAkBT,SATStH,GAAAA,EAAAA,WAAAA,aAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,SAAAA,EAAAA,OAAAA,SAST,CATSA,IAAAA,EAAAA,KAuBT,SAbSuH,GAAAA,EAAAA,OAAAA,SAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,QAAAA,EAAAA,QAAAA,UAAAA,EAAAA,WAAAA,cAAAA,EAAAA,aAAAA,gBAAAA,EAAAA,cAAAA,iBAAAA,EAAAA,aAAAA,gBAaT,CAbSA,IAAAA,EAAAA,KAqBT,SAPSC,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,IAAAA,MAOT,CAPSA,IAAAA,EAAAA,KAgBT,SARSC,GAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,OAAAA,SAQT,CARSA,IAAAA,EAAAA,KASZ,SAAYC,GAAAA,EAAAA,MAAAA,QAAAA,EAAAA,MAAAA,QAAAA,EAAAA,MAAAA,QAAZ,CAAYA,IAAAA,EAAAA,KCtHZ,SAAYC,GAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,OAAZ,CAAYA,IAAAA,EAAAA,KCsFT,SAnFSxL,GAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,KAAAA,EAAAA,GAAAA,KAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,KAAAA,EAAAA,GAAAA,KAAAA,EAAAA,MAAAA,QAAAA,EAAAA,OAAAA,SAAAA,EAAAA,QAAAA,UAAAA,EAAAA,KAAAA,OAAAA,EAAAA,YAAAA,cAAAA,EAAAA,OAAAA,SAAAA,EAAAA,cAAAA,gBAAAA,EAAAA,YAAAA,cAAAA,EAAAA,UAAAA,YAAAA,EAAAA,WAAAA,aAAAA,EAAAA,iBAAAA,mBAAAA,EAAAA,WAAAA,aAAAA,EAAAA,iBAAAA,mBAAAA,EAAAA,OAAAA,SAAAA,EAAAA,KAAAA,OAAAA,EAAAA,QAAAA,UAAAA,EAAAA,OAAAA,SAAAA,EAAAA,WAAAA,aAAAA,EAAAA,SAAAA,WAAAA,EAAAA,SAAAA,WAAAA,EAAAA,YAAAA,cAAAA,EAAAA,YAAAA,cAAAA,EAAAA,aAAAA,eAAAA,EAAAA,OAAAA,SAAAA,EAAAA,YAAAA,cAAAA,EAAAA,QAAAA,UAAAA,EAAAA,QAAAA,UAAAA,EAAAA,KAAAA,OAAAA,EAAAA,IAAAA,MAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,QAAAA,EAAAA,SAAAA,WAAAA,EAAAA,KAAAA,OAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,MAAAA,QAAAA,EAAAA,IAAAA,MAAAA,EAAAA,GAAAA,KAAAA,EAAAA,GAAAA,KAAAA,EAAAA,SAAAA,WAAAA,EAAAA,KAAAA,OAAAA,EAAAA,SAAAA,WAAAA,EAAAA,WAAAA,aAAAA,EAAAA,YAAAA,cAAAA,EAAAA,UAAAA,YAAAA,EAAAA,MAAAA,QAAAA,EAAAA,OAAAA,SAAAA,EAAAA,KAAAA,OAAAA,EAAAA,MAAAA,QAAAA,EAAAA,UAAAA,aAAAA,EAAAA,gBAAAA,mBAAAA,EAAAA,SAAAA,YAAAA,EAAAA,SAAAA,WAmFT,CAnFSA,IAAAA,EAAAA,KA6OT,SATSyL,GAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,QAST,CATSA,IAAAA,EAAAA,KCnPZ,SAAYzJ,GAAAA,EAAAA,IAAAA,MAAAA,EAAAA,KAAAA,OAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,QAAZ,CAAYA,IAAAA,EAAAA,KCoLZ,SAAY0J,GAAAA,EAAAA,UAAAA,YAAAA,EAAAA,OAAAA,SAAAA,EAAAA,MAAAA,QAAZ,CAAYA,IAAAA,EAAAA,KEtLL,IAAMxP,EAAgB,IAChBG,EAAiB,0GCN1B+P,EAAKlsC,KAAKikC,GACVkI,EAAM,EAAID,EACVE,EAAU,KACVC,EAAaF,EAAMC,EAEvB,SAASE,IACPtoC,KAAKuoC,IAAMvoC,KAAKwoC,IAChBxoC,KAAKyoC,IAAMzoC,KAAK0oC,IAAM,KAEtB1oC,KAAKL,EAAI,GAGX,SAASgpC,IACP,OAAO,IAAIL,EAGbA,EAAKjvC,UAAYsvC,EAAKtvC,UAAY,CAChCI,YAAa6uC,EACbM,OAAQ,SAAgB7wC,EAAG2H,GACzBM,KAAKL,GAAK,KAAOK,KAAKuoC,IAAMvoC,KAAKyoC,KAAO1wC,GAAK,KAAOiI,KAAKwoC,IAAMxoC,KAAK0oC,KAAOhpC,IAE7EmpC,UAAW,WACQ,OAAb7oC,KAAKyoC,MACPzoC,KAAKyoC,IAAMzoC,KAAKuoC,IAAKvoC,KAAK0oC,IAAM1oC,KAAKwoC,IACrCxoC,KAAKL,GAAK,MAGdmpC,OAAQ,SAAgB/wC,EAAG2H,GACzBM,KAAKL,GAAK,KAAOK,KAAKyoC,KAAO1wC,GAAK,KAAOiI,KAAK0oC,KAAOhpC,IAEvDqpC,iBAAkB,SAA0B3mC,EAAI4mC,EAAIjxC,EAAG2H,GACrDM,KAAKL,GAAK,MAAOyC,EAAK,MAAO4mC,EAAK,KAAOhpC,KAAKyoC,KAAO1wC,GAAK,KAAOiI,KAAK0oC,KAAOhpC,IAE/EupC,cAAe,SAAuB7mC,EAAI4mC,EAAIlE,EAAIC,EAAIhtC,EAAG2H,GACvDM,KAAKL,GAAK,MAAOyC,EAAK,MAAO4mC,EAAK,MAAOlE,EAAK,MAAOC,EAAK,KAAO/kC,KAAKyoC,KAAO1wC,GAAK,KAAOiI,KAAK0oC,KAAOhpC,IAEvGwpC,MAAO,SAAe9mC,EAAI4mC,EAAIlE,EAAIC,EAAIvmC,GACpC4D,GAAMA,EAAI4mC,GAAMA,EAAIlE,GAAMA,EAAIC,GAAMA,EAAIvmC,GAAKA,EAC7C,IAAI2D,EAAKnC,KAAKyoC,IACVU,EAAKnpC,KAAK0oC,IACVU,EAAMtE,EAAK1iC,EACXinC,EAAMtE,EAAKiE,EACXM,EAAMnnC,EAAKC,EACXmnC,EAAMJ,EAAKH,EACXQ,EAAQF,EAAMA,EAAMC,EAAMA,EAE9B,GAAI/qC,EAAI,EAAG,MAAM,IAAIoV,MAAM,oBAAsBpV,GAEjD,GAAiB,OAAbwB,KAAKyoC,IACPzoC,KAAKL,GAAK,KAAOK,KAAKyoC,IAAMrmC,GAAM,KAAOpC,KAAK0oC,IAAMM,QAEjD,GAAMQ,EAAQpB,EAGd,GAAMpsC,KAAK0B,IAAI6rC,EAAMH,EAAMC,EAAMC,GAAOlB,GAAa5pC,EAGrD,CACH,IAAIirC,EAAM3E,EAAK3iC,EACXunC,EAAM3E,EAAKoE,EACXQ,EAAQP,EAAMA,EAAMC,EAAMA,EAC1BO,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAM7tC,KAAKK,KAAKstC,GAChBG,EAAM9tC,KAAKK,KAAKmtC,GAChB34B,EAAIrS,EAAIxC,KAAK2T,KAAKu4B,EAAKlsC,KAAK+tC,MAAMJ,EAAQH,EAAQI,IAAU,EAAIC,EAAMC,KAAS,GAC/EE,EAAMn5B,EAAIi5B,EACVG,EAAMp5B,EAAIg5B,EAEV7tC,KAAK0B,IAAIssC,EAAM,GAAK5B,IACtBpoC,KAAKL,GAAK,KAAOyC,EAAK4nC,EAAMV,GAAO,KAAON,EAAKgB,EAAMT,IAGvDvpC,KAAKL,GAAK,IAAMnB,EAAI,IAAMA,EAAI,WAAY+qC,EAAME,EAAMH,EAAMI,GAAO,KAAO1pC,KAAKyoC,IAAMrmC,EAAK6nC,EAAMb,GAAO,KAAOppC,KAAK0oC,IAAMM,EAAKiB,EAAMZ,QAjBpIrpC,KAAKL,GAAK,KAAOK,KAAKyoC,IAAMrmC,GAAM,KAAOpC,KAAK0oC,IAAMM,UAoBxDkB,IAAK,SAAanyC,EAAG2H,EAAGlB,EAAG2rC,EAAIC,EAAIC,GACjCtyC,GAAKA,EAAG2H,GAAKA,EAAW2qC,IAAQA,EAChC,IAAIC,GADY9rC,GAAKA,GACRxC,KAAKuuC,IAAIJ,GAClBK,EAAKhsC,EAAIxC,KAAKyuC,IAAIN,GAClBhoC,EAAKpK,EAAIuyC,EACTnB,EAAKzpC,EAAI8qC,EACTE,EAAK,EAAIL,EACTM,EAAKN,EAAMF,EAAKC,EAAKA,EAAKD,EAE9B,GAAI3rC,EAAI,EAAG,MAAM,IAAIoV,MAAM,oBAAsBpV,GAEhC,OAAbwB,KAAKyoC,IACPzoC,KAAKL,GAAK,IAAMwC,EAAK,IAAMgnC,GAEpBntC,KAAK0B,IAAIsC,KAAKyoC,IAAMtmC,GAAMimC,GAAWpsC,KAAK0B,IAAIsC,KAAK0oC,IAAMS,GAAMf,KACtEpoC,KAAKL,GAAK,IAAMwC,EAAK,IAAMgnC,GAIxB3qC,IAEDmsC,EAAK,IAAGA,EAAKA,EAAKxC,EAAMA,GAExBwC,EAAKtC,EACProC,KAAKL,GAAK,IAAMnB,EAAI,IAAMA,EAAI,QAAUksC,EAAK,KAAO3yC,EAAIuyC,GAAM,KAAO5qC,EAAI8qC,GAAM,IAAMhsC,EAAI,IAAMA,EAAI,QAAUksC,EAAK,KAAO1qC,KAAKyoC,IAAMtmC,GAAM,KAAOnC,KAAK0oC,IAAMS,GAErJwB,EAAKvC,IACZpoC,KAAKL,GAAK,IAAMnB,EAAI,IAAMA,EAAI,SAAUmsC,GAAMzC,GAAM,IAAMwC,EAAK,KAAO1qC,KAAKyoC,IAAM1wC,EAAIyG,EAAIxC,KAAKuuC,IAAIH,IAAO,KAAOpqC,KAAK0oC,IAAMhpC,EAAIlB,EAAIxC,KAAKyuC,IAAIL,OAGhJQ,KAAM,SAAc7yC,EAAG2H,EAAG4e,EAAGzM,GAC3B7R,KAAKL,GAAK,KAAOK,KAAKuoC,IAAMvoC,KAAKyoC,KAAO1wC,GAAK,KAAOiI,KAAKwoC,IAAMxoC,KAAK0oC,KAAOhpC,GAAK,MAAO4e,EAAI,MAAOzM,EAAI,KAAOyM,EAAI,KAEnHhlB,SAAU,WACR,OAAO0G,KAAKL,IAGhB,QChHe,SAAS,EAAC5H,GACvB,OAAO,WACL,OAAOA,GCFJ,IAAI2F,EAAM1B,KAAK0B,IACXmtC,EAAQ7uC,KAAK6uC,MACbN,EAAMvuC,KAAKuuC,IACXtuC,EAAMD,KAAKC,IACXsC,EAAMvC,KAAKuC,IACXksC,EAAMzuC,KAAKyuC,IACXpuC,EAAOL,KAAKK,KACZ,EAAU,MACV,EAAKL,KAAKikC,GACV6K,EAAS,EAAK,EACd,EAAM,EAAI,EACd,SAASf,EAAKhyC,GACnB,OAAOA,EAAI,EAAI,EAAIA,GAAK,EAAI,EAAKiE,KAAK+tC,KAAKhyC,GAEtC,SAASgzC,EAAKhzC,GACnB,OAAOA,GAAK,EAAI+yC,EAAS/yC,IAAM,GAAK+yC,EAAS9uC,KAAK+uC,KAAKhzC,GCXzD,SAASizC,EAAe5yC,GACtB,OAAOA,EAAE6yC,YAGX,SAASC,EAAe9yC,GACtB,OAAOA,EAAE+yC,YAGX,SAASC,EAAchzC,GACrB,OAAOA,EAAEizC,WAGX,SAASC,EAAYlzC,GACnB,OAAOA,EAAEmzC,SAGX,SAASC,EAAYpzC,GACnB,OAAOA,GAAKA,EAAEqzC,SAGhB,SAASC,EAAUvpC,EAAIgnC,EAAI/mC,EAAI4mC,EAAIlE,EAAIC,EAAI4G,EAAIC,GAC7C,IAAIC,EAAMzpC,EAAKD,EACX2pC,EAAM9C,EAAKG,EACX4C,EAAMJ,EAAK7G,EACXkH,EAAMJ,EAAK7G,EACXzlC,EAAI0sC,EAAMH,EAAME,EAAMD,EAC1B,KAAIxsC,EAAIA,EAAI,GAEZ,MAAO,CAAC6C,GADR7C,GAAKysC,GAAO5C,EAAKpE,GAAMiH,GAAO7pC,EAAK2iC,IAAOxlC,GACzBusC,EAAK1C,EAAK7pC,EAAIwsC,GAKjC,SAASG,EAAe9pC,EAAIgnC,EAAI/mC,EAAI4mC,EAAIjsC,EAAImvC,EAAIxB,GAC9C,IAAIpB,EAAMnnC,EAAKC,EACXmnC,EAAMJ,EAAKH,EACXhxC,GAAM0yC,EAAKwB,GAAMA,GAAM7vC,EAAKitC,EAAMA,EAAMC,EAAMA,GAC9C4C,EAAKn0C,EAAKuxC,EACV6C,GAAMp0C,EAAKsxC,EACX+C,EAAMlqC,EAAKgqC,EACXG,EAAMnD,EAAKiD,EACXP,EAAMzpC,EAAK+pC,EACXL,EAAM9C,EAAKoD,EACXG,GAAOF,EAAMR,GAAO,EACpBW,GAAOF,EAAMR,GAAO,EACpBxB,EAAKuB,EAAMQ,EACX7B,EAAKsB,EAAMQ,EACXG,EAAKnC,EAAKA,EAAKE,EAAKA,EACpBhsC,EAAIzB,EAAKmvC,EACTQ,EAAIL,EAAMP,EAAMD,EAAMS,EACtBl0C,GAAKoyC,EAAK,GAAK,EAAI,GAAKnuC,EAAKJ,EAAI,EAAGuC,EAAIA,EAAIiuC,EAAKC,EAAIA,IACrDC,GAAOD,EAAIlC,EAAKF,EAAKlyC,GAAKq0C,EAC1BG,IAAQF,EAAIpC,EAAKE,EAAKpyC,GAAKq0C,EAC3BI,GAAOH,EAAIlC,EAAKF,EAAKlyC,GAAKq0C,EAC1BK,IAAQJ,EAAIpC,EAAKE,EAAKpyC,GAAKq0C,EAC3BM,EAAMJ,EAAMJ,EACZS,EAAMJ,EAAMJ,EACZS,EAAMJ,EAAMN,EACZW,EAAMJ,EAAMN,EAIhB,OADIO,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,IAAKP,EAAME,EAAKD,EAAME,GAC7D,CACLK,GAAIR,EACJS,GAAIR,EACJtD,KAAM6C,EACN5C,KAAM6C,EACNC,IAAKM,GAAO5vC,EAAKyB,EAAI,GACrB8tC,IAAKM,GAAO7vC,EAAKyB,EAAI,ICxENzF,MAAMM,UAAUG,MACpB,SAAS,EAACzB,GACvB,MAAoB,iBAANA,GAAkB,WAAYA,EAAIA,EAC9CgB,MAAMY,KAAK5B,GCHf,SAASs1C,EAAO/iB,GACdtqB,KAAKzE,SAAW+uB,EAqCH,SAAS,EAACA,GACvB,OAAO,IAAI+iB,EAAO/iB,GCvCb,SAAS,EAAEzoB,GAChB,OAAOA,EAAE,GAEJ,SAAS,EAAEA,GAChB,OAAOA,EAAE,GCCI,SAAS,EAAC9J,EAAG2H,GAC1B,IAAI4tC,EAAUvpC,GAAS,GACnBumB,EAAU,KACVijB,EAAQ,EACRpuC,EAAS,KAIb,SAASquC,EAAKnR,GACZ,IAAI/jC,EAEAF,EAEAq1C,EAHAt0C,GAAKkjC,EAAO3Q,EAAM2Q,IAAOnkC,OAEzBw1C,GAAW,EAIf,IAFe,MAAXpjB,IAAiBnrB,EAASouC,EAAME,EAAS,MAExCn1C,EAAI,EAAGA,GAAKa,IAAKb,IACdA,EAAIa,GAAKm0C,EAAQl1C,EAAIikC,EAAK/jC,GAAIA,EAAG+jC,MAAWqR,KAC5CA,GAAYA,GAAUvuC,EAAOwuC,YAAiBxuC,EAAOyuC,WAGvDF,GAAUvuC,EAAO0uC,OAAO91C,EAAEK,EAAGE,EAAG+jC,IAAQ38B,EAAEtH,EAAGE,EAAG+jC,IAGtD,GAAIoR,EAAQ,OAAOtuC,EAAS,KAAMsuC,EAAS,IAAM,KAuBnD,OA1CA11C,EAAiB,mBAANA,EAAmBA,OAAU0D,IAAN1D,EAAkB,EAASgM,EAAShM,GACtE2H,EAAiB,mBAANA,EAAmBA,OAAUjE,IAANiE,EAAkB,EAASqE,EAASrE,GAqBtE8tC,EAAKz1C,EAAI,SAAU4H,GACjB,OAAO5D,UAAU7D,QAAUH,EAAiB,mBAAN4H,EAAmBA,EAAIoE,GAAUpE,GAAI6tC,GAAQz1C,GAGrFy1C,EAAK9tC,EAAI,SAAUC,GACjB,OAAO5D,UAAU7D,QAAUwH,EAAiB,mBAANC,EAAmBA,EAAIoE,GAAUpE,GAAI6tC,GAAQ9tC,GAGrF8tC,EAAKF,QAAU,SAAU3tC,GACvB,OAAO5D,UAAU7D,QAAUo1C,EAAuB,mBAAN3tC,EAAmBA,EAAIoE,IAAWpE,GAAI6tC,GAAQF,GAG5FE,EAAKD,MAAQ,SAAU5tC,GACrB,OAAO5D,UAAU7D,QAAUq1C,EAAQ5tC,EAAc,MAAX2qB,IAAoBnrB,EAASouC,EAAMjjB,IAAWkjB,GAAQD,GAG9FC,EAAKljB,QAAU,SAAU3qB,GACvB,OAAO5D,UAAU7D,QAAe,MAALyH,EAAY2qB,EAAUnrB,EAAS,KAAOA,EAASouC,EAAMjjB,EAAU3qB,GAAI6tC,GAAQljB,GAGjGkjB,EC9CM,SAAS,EAACrrC,EAAIgnC,EAAIH,GAC/B,IAAI5mC,EAAK,KACLkrC,EAAUvpC,GAAS,GACnBumB,EAAU,KACVijB,EAAQ,EACRpuC,EAAS,KAKb,SAAS2uC,EAAKzR,GACZ,IAAI/jC,EACAgG,EACAwD,EAEA1J,EAEAq1C,EAHAt0C,GAAKkjC,EAAO3Q,EAAM2Q,IAAOnkC,OAEzBw1C,GAAW,EAEXK,EAAM,IAAIh1C,MAAMI,GAChB60C,EAAM,IAAIj1C,MAAMI,GAGpB,IAFe,MAAXmxB,IAAiBnrB,EAASouC,EAAME,EAAS,MAExCn1C,EAAI,EAAGA,GAAKa,IAAKb,EAAG,CACvB,KAAMA,EAAIa,GAAKm0C,EAAQl1C,EAAIikC,EAAK/jC,GAAIA,EAAG+jC,MAAWqR,EAChD,GAAIA,GAAYA,EACdpvC,EAAIhG,EACJ6G,EAAO8uC,YACP9uC,EAAOwuC,gBACF,CAIL,IAHAxuC,EAAOyuC,UACPzuC,EAAOwuC,YAEF7rC,EAAIxJ,EAAI,EAAGwJ,GAAKxD,IAAKwD,EACxB3C,EAAO0uC,MAAME,EAAIjsC,GAAIksC,EAAIlsC,IAG3B3C,EAAOyuC,UACPzuC,EAAO+uC,UAIPR,IACFK,EAAIz1C,IAAM6J,EAAG/J,EAAGE,EAAG+jC,GAAO2R,EAAI11C,IAAM6wC,EAAG/wC,EAAGE,EAAG+jC,GAC7Cl9B,EAAO0uC,MAAMzrC,GAAMA,EAAGhK,EAAGE,EAAG+jC,GAAQ0R,EAAIz1C,GAAI0wC,GAAMA,EAAG5wC,EAAGE,EAAG+jC,GAAQ2R,EAAI11C,KAI3E,GAAIm1C,EAAQ,OAAOtuC,EAAS,KAAMsuC,EAAS,IAAM,KAGnD,SAASU,IACP,OAAOX,IAAOF,QAAQA,GAASC,MAAMA,GAAOjjB,QAAQA,GAmDtD,OAhGAnoB,EAAmB,mBAAPA,EAAoBA,OAAY1G,IAAP0G,EAAmB,EAAS4B,GAAU5B,GAC3EgnC,EAAmB,mBAAPA,EAAoBA,EAAwBplC,OAAZtI,IAAP0tC,EAA4B,GAAeA,GAChFH,EAAmB,mBAAPA,EAAoBA,OAAYvtC,IAAPutC,EAAmB,EAASjlC,GAAUilC,GA8C3E8E,EAAK/1C,EAAI,SAAU4H,GACjB,OAAO5D,UAAU7D,QAAUiK,EAAkB,mBAANxC,EAAmBA,EAAIoE,GAAUpE,GAAIyC,EAAK,KAAM0rC,GAAQ3rC,GAGjG2rC,EAAK3rC,GAAK,SAAUxC,GAClB,OAAO5D,UAAU7D,QAAUiK,EAAkB,mBAANxC,EAAmBA,EAAIoE,GAAUpE,GAAImuC,GAAQ3rC,GAGtF2rC,EAAK1rC,GAAK,SAAUzC,GAClB,OAAO5D,UAAU7D,QAAUkK,EAAU,MAALzC,EAAY,KAAoB,mBAANA,EAAmBA,EAAIoE,GAAUpE,GAAImuC,GAAQ1rC,GAGzG0rC,EAAKpuC,EAAI,SAAUC,GACjB,OAAO5D,UAAU7D,QAAUixC,EAAkB,mBAANxpC,EAAmBA,EAAIoE,GAAUpE,GAAIqpC,EAAK,KAAM8E,GAAQ3E,GAGjG2E,EAAK3E,GAAK,SAAUxpC,GAClB,OAAO5D,UAAU7D,QAAUixC,EAAkB,mBAANxpC,EAAmBA,EAAIoE,GAAUpE,GAAImuC,GAAQ3E,GAGtF2E,EAAK9E,GAAK,SAAUrpC,GAClB,OAAO5D,UAAU7D,QAAU8wC,EAAU,MAALrpC,EAAY,KAAoB,mBAANA,EAAmBA,EAAIoE,GAAUpE,GAAImuC,GAAQ9E,GAGzG8E,EAAKM,OAASN,EAAKO,OAAS,WAC1B,OAAOF,IAAWp2C,EAAEoK,GAAIzC,EAAEypC,IAG5B2E,EAAKQ,OAAS,WACZ,OAAOH,IAAWp2C,EAAEoK,GAAIzC,EAAEspC,IAG5B8E,EAAKS,OAAS,WACZ,OAAOJ,IAAWp2C,EAAEqK,GAAI1C,EAAEypC,IAG5B2E,EAAKR,QAAU,SAAU3tC,GACvB,OAAO5D,UAAU7D,QAAUo1C,EAAuB,mBAAN3tC,EAAmBA,EAAIoE,IAAWpE,GAAImuC,GAAQR,GAG5FQ,EAAKP,MAAQ,SAAU5tC,GACrB,OAAO5D,UAAU7D,QAAUq1C,EAAQ5tC,EAAc,MAAX2qB,IAAoBnrB,EAASouC,EAAMjjB,IAAWwjB,GAAQP,GAG9FO,EAAKxjB,QAAU,SAAU3qB,GACvB,OAAO5D,UAAU7D,QAAe,MAALyH,EAAY2qB,EAAUnrB,EAAS,KAAOA,EAASouC,EAAMjjB,EAAU3qB,GAAImuC,GAAQxjB,GAGjGwjB,EHxGTT,EAAOh0C,UAAY,CACjB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKyuC,OAAS,GAEhBb,QAAS,YACH5tC,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,GAAKM,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,GAClE,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EAGhB,QACEzuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,MI/BhC,OACEgvC,KAAM,SAAcpkB,EAASqkB,GAC3B,IAAInwC,EAAIxC,KAAKK,KAAKsyC,EAAO,GACzBrkB,EAAQse,OAAOpqC,EAAG,GAClB8rB,EAAQ4f,IAAI,EAAG,EAAG1rC,EAAG,EAAG,KCHxBowC,GCFQ5yC,KAAKK,KAAK,EAAI,GDEjBL,KAAKyuC,IAAI,EAAK,IAAMzuC,KAAKyuC,IAAI,EAAI,EAAK,KACtCzuC,KAAKyuC,IAAI,EAAM,IACdzuC,KAAKuuC,IAAI,EAAM,IEJbvuC,KAAKK,KAAK,GCCdL,KAAKK,KAAK,GACNL,KAAKK,KAAK,ICQP,SAAS,EAACsI,EAAMgqC,GAC7B,IAAIrkB,EAAU,KAId,SAAStW,IACP,IAAIy5B,EAGJ,GAFKnjB,IAASA,EAAUmjB,EAAS,KACjC9oC,EAAKzB,MAAMlD,KAAMjE,WAAW2yC,KAAKpkB,GAAUqkB,EAAKzrC,MAAMlD,KAAMjE,YACxD0xC,EAAQ,OAAOnjB,EAAU,KAAMmjB,EAAS,IAAM,KAepD,OAtBA9oC,EAAuB,mBAATA,EAAsBA,EAAOZ,EAASY,GAAQkqC,GAC5DF,EAAuB,mBAATA,EAAsBA,EAAO5qC,OAAkBtI,IAATkzC,EAAqB,IAAMA,GAS/E36B,EAAOrP,KAAO,SAAUhF,GACtB,OAAO5D,UAAU7D,QAAUyM,EAAoB,mBAANhF,EAAmBA,EAAIoE,EAASpE,GAAIqU,GAAUrP,GAGzFqP,EAAO26B,KAAO,SAAUhvC,GACtB,OAAO5D,UAAU7D,QAAUy2C,EAAoB,mBAANhvC,EAAmBA,EAAIoE,GAAUpE,GAAIqU,GAAU26B,GAG1F36B,EAAOsW,QAAU,SAAU3qB,GACzB,OAAO5D,UAAU7D,QAAUoyB,EAAe,MAAL3qB,EAAY,KAAOA,EAAGqU,GAAUsW,GAGhEtW,ECzBF,IAAM86B,EAAb,WACC,WACQ/2C,EACA2H,EACAwU,EACAgkB,EACA6W,QACN,IALMh3C,IAAAA,EAA+B,SAAAK,GAAC,OAAIA,EAAEL,GAAK,SAKjD,IAJM2H,IAAAA,EAA+B,SAAAtH,GAAC,OAAIA,EAAEsH,GAAK,SAIjD,IAHMwU,IAAAA,EAAmC,SAAA9b,GAAC,OAAIA,EAAE8b,OAAS,SAGzD,IAFMgkB,IAAAA,EAAoC,SAAA9/B,GAAC,OAAIA,EAAE8/B,QAAU,SAE3D,IADM6W,IAAAA,EAA0C,SAAA32C,GAAC,OAAIA,EAAE22C,cAAgB,IACvE,KALMh3C,EAAAA,EAKN,KAJM2H,EAAAA,EAIN,KAHMwU,MAAAA,EAGN,KAFMgkB,OAAAA,EAEN,KADM6W,aAAAA,EANT,mBAiBQ5Y,MAAP,SAAa/9B,EAAe+J,EAAagnC,EAAa7e,GACrD,IAAQvyB,EAAsCiI,KAAtCjI,EAAG2H,EAAmCM,KAAnCN,EAAGwU,EAAgClU,KAAhCkU,MAAOgkB,EAAyBl4B,KAAzBk4B,OAAQ6W,EAAiB/uC,KAAjB+uC,aACvB3sC,EAAW,MAAND,EAAaA,GAAMpK,EAAEK,GAC1B4wC,EAAW,MAANG,EAAaA,GAAMzpC,EAAEtH,GAC1BkmB,GAAKpK,EAAM9b,GACXyZ,GAAKqmB,EAAO9/B,GACZ42C,GAAMD,EAAa32C,GAMzB,GAJKkyB,IACJA,EAAUqe,KAGPqG,GAAM,EACT1kB,EAAQsgB,KAAKxoC,EAAI4mC,EAAI1qB,EAAGzM,OAClB,CACN,IAAMizB,EAAK1iC,EAAKkc,EACVymB,EAAKiE,EAAKn3B,EAChByY,EAAQse,OAAOxmC,EAAK4sC,EAAIhG,GACxB1e,EAAQwe,OAAOhE,EAAKkK,EAAIhG,GACxB1e,EAAQye,iBAAiBjE,EAAIkE,EAAIlE,EAAIkE,EAAKgG,GAC1C1kB,EAAQwe,OAAOhE,EAAIC,EAAKiK,GACxB1kB,EAAQye,iBAAiBjE,EAAIC,EAAID,EAAKkK,EAAIjK,GAC1Cza,EAAQwe,OAAO1mC,EAAK4sC,EAAIjK,GACxBza,EAAQye,iBAAiB3mC,EAAI2iC,EAAI3iC,EAAI2iC,EAAKiK,GAC1C1kB,EAAQwe,OAAO1mC,EAAI4mC,EAAKgG,GACxB1kB,EAAQye,iBAAiB3mC,EAAI4mC,EAAI5mC,EAAK4sC,EAAIhG,GAC1C1e,EAAQue,YAGT,OAAOve,GA9CT,KCHM2kB,EAAoC,CACzCr+B,EAAG,EACHC,EAAG,EACHgB,EAAG,EACHjQ,EAAG,EACHuC,EAAG,EACHpK,EAAG,EACHye,EAAG,EACHlZ,EAAG,EACHlI,EAAG,GAEE83C,EAAS,CAAC,4BAA6B,MAAO,cAAe,YCb5D,IAAMC,EAAoC,GAG3C76B,EAAO,GAAGA,KCDhB,IAAM86B,EAAO,CAAC,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAErC,SAAS7vC,EAAM8vC,EAAct1C,GAC5B,IAAMoK,EAAKirC,EAAK,GAAKC,EAAQ,GAC7B,GAAU,MAANlrC,GAAmB,MAANA,EAChBirC,EAAK,GAAKr1C,EAAIs1C,EAAQ,GACtBD,EAAK,GAAKr1C,EAAIs1C,EAAQ,GACtBD,EAAK,GAAKr1C,EAAIs1C,EAAQ,GACtBD,EAAK,GAAKr1C,EAAIs1C,EAAQ,QAEtB,IAAK,IAAI/2C,EAAI,EAAGa,EAAIk2C,EAAQn3C,OAAQI,EAAIa,IAAKb,EAC5C82C,EAAK92C,GAAKyB,EAAIs1C,EAAQ/2C,GAGxB,OAAO82C,EAiSR,SAASE,EAAQhlB,EAAcvyB,EAAQ2H,EAAQ6vC,GAC9C,IAAMC,ED5SA,SACNz3C,EACA2H,EACA+vC,EACAC,EACAC,EACAC,EACAC,EACA1D,EACAC,GAEA,IAAM3pC,EAAM6R,EAAK/a,KAAK,CAACxB,EAAG2H,EAAG+vC,EAAIC,EAAIC,EAAOC,EAAOC,EAAS1D,EAAIC,IAChE,GAAI+C,EAAa1sC,GAChB,OAAO0sC,EAAa1sC,GAGrB,IAAMqtC,EAAKD,GAAW7zC,KAAKikC,GAAK,KAC1B8P,EAAS/zC,KAAKyuC,IAAIqF,GAClBE,EAASh0C,KAAKuuC,IAAIuF,GAGlBG,EAAKD,GAAU7D,EAAKp0C,GAAK,GAAMg4C,GAAU3D,EAAK1sC,GAAK,GACnDwwC,EAAKF,GAAU5D,EAAK1sC,GAAK,GAAMqwC,GAAU5D,EAAKp0C,GAAK,GACrDo4C,EAAMF,EAAKA,IAJfR,EAAKzzC,KAAK0B,IAAI+xC,IAIaA,GAAOS,EAAKA,IAHvCR,EAAK1zC,KAAK0B,IAAIgyC,IAGqCA,GAC/CS,EAAK,IAERV,GADAU,EAAKn0C,KAAKK,KAAK8zC,GAEfT,GAAMS,GAGP,IAAMC,EAAMJ,EAASP,EACfY,EAAMN,EAASN,EACfa,GAAOP,EAASL,EAChBa,EAAMP,EAASN,EACfvtC,EAAKiuC,EAAMjE,EAAKkE,EAAMjE,EACtBjD,EAAKmH,EAAMnE,EAAKoE,EAAMnE,EACtBhqC,EAAKguC,EAAMr4C,EAAIs4C,EAAM3wC,EACrBspC,EAAKsH,EAAMv4C,EAAIw4C,EAAM7wC,EAGvB8wC,EAAa,IADNpuC,EAAKD,IAAOC,EAAKD,IAAO6mC,EAAKG,IAAOH,EAAKG,IAC3B,IACrBqH,EAAa,IAChBA,EAAa,GAEd,IAAIC,EAAUz0C,KAAKK,KAAKm0C,GACpBZ,IAAUD,IACbc,GAAWA,GAEZ,IAAMhJ,EAAK,IAAOtlC,EAAKC,GAAMquC,GAAWzH,EAAKG,GACvCzB,EAAK,IAAOyB,EAAKH,GAAMyH,GAAWruC,EAAKD,GAEvCuuC,EAAM10C,KAAK6uC,MAAM1B,EAAKzB,EAAIvlC,EAAKslC,GAGjCkJ,EAFQ30C,KAAK6uC,MAAM7B,EAAKtB,EAAItlC,EAAKqlC,GAElBiJ,EACfC,EAAS,GAAe,IAAVf,EACjBe,GAAU,EAAI30C,KAAKikC,GACT0Q,EAAS,GAAe,IAAVf,IACxBe,GAAU,EAAI30C,KAAKikC,IAKpB,IAFA,IAAM2Q,EAAO50C,KAAKE,KAAKF,KAAK0B,IAAIizC,GAAoB,GAAV30C,KAAKikC,GAAW,QACpD5Q,EAAqB,GAClB/2B,EAAI,EAAGA,EAAIs4C,IAAQt4C,EAAG,CAC9B,IAAMu4C,EAAMH,EAAOp4C,EAAIq4C,EAAUC,EAC3BE,EAAMJ,GAAQp4C,EAAI,GAAKq4C,EAAUC,EACvCvhB,EAAO/2B,GAAK,CAACmvC,EAAIC,EAAImJ,EAAKC,EAAKrB,EAAIC,EAAIK,EAAQC,GAGhD,OAAQb,EAAa1sC,GAAO4sB,ECuOhB0hB,CACXxB,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPA,EAAO,GACPx3C,EACA2H,GAED8vC,EAAIzgB,SAAQ,SAACiiB,GACZ1mB,EAAQ2e,cAAc+H,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,OC7T7D,IAAM7I,EAAM,EAAInsC,KAAKikC,GACfgR,EAAYj1C,KAAKK,KAAK,GAAK,ECEjC,SAAS60C,GAAW5mB,EAAe6mB,GAOzC,OANK7mB,IACJA,EAAUqe,KAGXre,EAAQse,OAAOuI,EAAQ,GACvB7mB,EAAQ4f,IAAI,EAAG,EAAGiH,EAAQ,EAAGhJ,GACtB7d,ECRD,SAAS8mB,GAAU9mB,EAAe6mB,GACnC7mB,IACJA,EAAUqe,KAEX,IAAM5uC,EAAIo3C,EAAS,IAcnB,OAbA7mB,EAAQse,QAAQuI,GAASp3C,GACzBuwB,EAAQwe,QAAQqI,EAAQp3C,GACxBuwB,EAAQwe,QAAQ/uC,EAAGA,GACnBuwB,EAAQwe,QAAQ/uC,EAAGo3C,GACnB7mB,EAAQwe,OAAO/uC,EAAGo3C,GAClB7mB,EAAQwe,OAAO/uC,EAAGA,GAClBuwB,EAAQwe,OAAOqI,EAAQp3C,GACvBuwB,EAAQwe,OAAOqI,GAASp3C,GACxBuwB,EAAQwe,OAAO/uC,GAAIA,GACnBuwB,EAAQwe,OAAO/uC,GAAIo3C,GACnB7mB,EAAQwe,QAAQ/uC,GAAIo3C,GACpB7mB,EAAQwe,QAAQ/uC,GAAIA,GACpBuwB,EAAQue,YACDve,EClBD,SAAS+mB,GAAY/mB,EAAe6mB,GAS1C,OARK7mB,IACJA,EAAUqe,KAEXre,EAAQse,QAAQuI,EAAQ,GACxB7mB,EAAQwe,OAAO,GAAIqI,GACnB7mB,EAAQwe,OAAOqI,EAAQ,GACvB7mB,EAAQwe,OAAO,EAAGqI,GAClB7mB,EAAQue,YACDve,ECTD,SAASgnB,GAAWhnB,EAAepW,GACpCoW,IACJA,EAAUqe,KAEX,IAAM5wC,GAAKmc,EAAQ,EAEnB,OADAoW,EAAQsgB,KAAK7yC,EAAGA,EAAGmc,EAAOA,GACnBoW,ECLD,SAASinB,GAAejnB,EAAe6mB,GACxC7mB,IACJA,EAAUqe,KAEX,IAAM92B,EAAIo/B,EAAYE,EAKtB,OAJA7mB,EAAQse,OAAO,GAAI/2B,GACnByY,EAAQwe,QAAQqI,EAAQt/B,GACxByY,EAAQwe,OAAOqI,EAAQt/B,GACvByY,EAAQue,YACDve,EAGD,SAASknB,GAAiBlnB,EAAe6mB,GAC1C7mB,IACJA,EAAUqe,KAEX,IAAM92B,EAAIo/B,EAAYE,EAKtB,OAJA7mB,EAAQse,OAAO,EAAG/2B,GAClByY,EAAQwe,QAAQqI,GAASt/B,GACzByY,EAAQwe,OAAOqI,GAASt/B,GACxByY,EAAQue,YACDve,EAGD,SAASmnB,GAAiBnnB,EAAe6mB,GAC1C7mB,IACJA,EAAUqe,KAEX,IAAM92B,EAAIo/B,EAAYE,EAKtB,OAJA7mB,EAAQse,QAAQ/2B,EAAG,GACnByY,EAAQwe,OAAOj3B,GAAIs/B,GACnB7mB,EAAQwe,OAAOj3B,EAAGs/B,GAClB7mB,EAAQue,YACDve,EAGD,SAASonB,GAAkBpnB,EAAe6mB,GAC3C7mB,IACJA,EAAUqe,KAEX,IAAM92B,EAAIo/B,EAAYE,EAKtB,OAJA7mB,EAAQse,OAAO/2B,EAAG,GAClByY,EAAQwe,QAAQj3B,GAAIs/B,GACpB7mB,EAAQwe,QAAQj3B,EAAGs/B,GACnB7mB,EAAQue,YACDve,ECpBR,IAAMqnB,GAAY,SAAC7D,GAClB,OAAO9xC,KAAKK,KAAKyxC,GAAQ,GAGpB8D,GAAsB,CAC3B/C,OAAQ,CACPgD,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6BuC,GAAWzT,EAAKkU,GAAUhD,MAE9DmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6BuC,GAAWzT,EAAKkR,EAAO,MAG5DoD,MAAO,CACNF,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6ByC,GAAU3T,EAAKkU,GAAUhD,MAE7DmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6ByC,GAAU3T,EAAKkR,EAAO,MAG3DqD,QAAS,CACRH,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B0C,GAAY5T,EAAKkU,GAAUhD,MAE/DmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B0C,GAAY5T,EAAKkR,EAAO,MAG7DsD,OAAQ,CACPJ,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B2C,GAAW7T,EAAKzhC,KAAKK,KAAKsyC,MAE9DmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B2C,GAAW7T,EAAKkR,MAGrD,cAAe,CACdkD,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B4C,GAAe9T,EAAKzhC,KAAKK,KAAKsyC,MAElEmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B4C,GAAe9T,EAAKkR,MAGzD,gBAAiB,CAChBkD,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B6C,GAAiB/T,EAAKzhC,KAAKK,KAAKsyC,MAEpEmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B6C,GAAiB/T,EAAKkR,MAG3D,gBAAiB,CAChBkD,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B8C,GAAiBhU,EAAKzhC,KAAKK,KAAKsyC,MAEpEmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B8C,GAAiBhU,EAAKkR,MAG3D,iBAAkB,CACjBkD,OAAQ,CACPnD,KAAM,SAACjR,EAAWkR,GAAZ,OACL+C,GAAkBjU,EAAKzhC,KAAKK,KAAKsyC,MAEnCmD,QAAS,CACRpD,KAAM,SAACjR,EAAWkR,GAAZ,OAA6B+C,GAAkBjU,EAAKkR,OAKtD,SAASuD,GAAQC,GACvB,OAAO/4C,OAAOC,UAAUiY,eAAe/X,KAAKq4C,GAAUO,GACnDP,GAASO,GACTC,GAAaD,GASjB,IAAME,GAAoB,GAEnB,SAASD,GAAaE,GAC5B,IAAKl5C,OAAOC,UAAUiY,eAAe/X,KAAK84C,GAAQC,GAAa,CAC9D,IAAMC,GTlGDljB,EAAgB,GSkGIijB,ET9FxB94C,QACA6Z,QAAQ67B,EAAO,GAAI,SACnBsD,MAAMtD,EAAO,IACb11C,MAAM,GAGHu1B,SAAQ,SAAA0jB,GACZ,IAAMC,EAASD,EACbj5C,MAAM,GACNsX,OACAuC,QAAQ67B,EAAO,GAAI,WACnBsD,MAAMtD,EAAO,IACTyD,EAAMF,EAAQ3yB,OAAO,GACrB8yB,EAAY3D,EAAO0D,EAAI5hC,eACvBwhC,EAAgB,CAACI,GAUvB,GARAD,EAAO3jB,SAAQ,SAAA8jB,GACd,IAAMC,GAASD,EACV99B,OAAOhX,MAAM+0C,IACjBP,EAAOvwC,KAAK8wC,MAKVP,EAAOr6C,OAAS,EAAI06C,EACvB,IAAK,IAAIt6C,EAAI,EAAGA,EAAIi6C,EAAOr6C,OAAQI,GAAKs6C,EACvCvjB,EAAOrtB,KAAK,CAAC2wC,GAAKI,OAAOR,EAAO/4C,MAAMlB,EAAGA,EAAIs6C,UAG9CvjB,EAAOrtB,KAAKuwC,MAIPljB,GS8DNgjB,GAAOC,GAAc,CACpBT,OAAQ,CACPnD,KAAM,SAACpkB,EAAeqkB,GAAhB,OACLqE,GAAW1oB,EAASqnB,GAAUhD,GAAO4D,KAEvCT,QAAS,CACRpD,KAAM,SAACpkB,EAAeqkB,GAAhB,OACLqE,GAAW1oB,EAASqnB,GAAUhD,GAAO4D,MT3GnC,IACAljB,ES+GN,OAAOgjB,GAAOC,GAGf,SAASU,GAAW1oB,EAAeqkB,EAAcsE,GAKhD,OAJK3oB,IACJA,EAAUqe,KPpHL,SAAoBre,EAAcqe,EAAW93B,EAAQvR,EAAQvF,GACnE,IAAIs1C,EAMA6D,EACAC,EACAC,EACAC,EARA9wB,EAAW,KACXxqB,EAAI,EACJ2H,EAAI,EACJ4zC,EAAW,EACXC,EAAW,EAMN,MAAL1iC,IACHA,EAAI,GAEI,MAALvR,IACHA,EAAI,GAEI,MAALvF,IACHA,EAAI,GAGDuwB,EAAQkpB,WACXlpB,EAAQkpB,YAGT,IAAK,IAAIl7C,EAAI,EAAGuC,EAAM8tC,EAAKzwC,OAAQI,EAAIuC,IAAOvC,EAAG,CAMhD,OALA+2C,EAAU1G,EAAKrwC,GACL,IAANyB,IACHs1C,EAAU9vC,EAAM8vC,EAASt1C,IAIzBs1C,EAAQ,IAER,IAAK,IACJt3C,GAAKs3C,EAAQ,GACb3vC,GAAK2vC,EAAQ,GACb/kB,EAAQwe,OAAO/wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJvH,EAAIs3C,EAAQ,GACZ3vC,EAAI2vC,EAAQ,GACZ/kB,EAAQwe,OAAO/wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJvH,GAAKs3C,EAAQ,GACb/kB,EAAQwe,OAAO/wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJvH,EAAIs3C,EAAQ,GACZ/kB,EAAQwe,OAAO/wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJI,GAAK2vC,EAAQ,GACb/kB,EAAQwe,OAAO/wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJI,EAAI2vC,EAAQ,GACZ/kB,EAAQwe,OAAO/wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJvH,GAAKs3C,EAAQ,GACb3vC,GAAK2vC,EAAQ,GACb/kB,EAAQse,OAAO7wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJvH,EAAIs3C,EAAQ,GACZ3vC,EAAI2vC,EAAQ,GACZ/kB,EAAQse,OAAO7wC,EAAI8Y,EAAGnR,EAAIJ,GAC1B,MAED,IAAK,IACJ4zC,EAAQn7C,EAAIs3C,EAAQ,GACpB8D,EAAQzzC,EAAI2vC,EAAQ,GACpBiE,EAAWv7C,EAAIs3C,EAAQ,GACvBkE,EAAW7zC,EAAI2vC,EAAQ,GACvB/kB,EAAQ2e,cACPlxC,EAAIs3C,EAAQ,GAAKx+B,EACjBnR,EAAI2vC,EAAQ,GAAK/vC,EACjBg0C,EAAWziC,EACX0iC,EAAWj0C,EACX4zC,EAAQriC,EACRsiC,EAAQ7zC,GAETvH,EAAIm7C,EACJxzC,EAAIyzC,EACJ,MAED,IAAK,IACJp7C,EAAIs3C,EAAQ,GACZ3vC,EAAI2vC,EAAQ,GACZiE,EAAWjE,EAAQ,GACnBkE,EAAWlE,EAAQ,GACnB/kB,EAAQ2e,cACPoG,EAAQ,GAAKx+B,EACbw+B,EAAQ,GAAK/vC,EACbg0C,EAAWziC,EACX0iC,EAAWj0C,EACXvH,EAAI8Y,EACJnR,EAAIJ,GAEL,MAED,IAAK,IAEJ4zC,EAAQn7C,EAAIs3C,EAAQ,GACpB8D,EAAQzzC,EAAI2vC,EAAQ,GAEpBiE,EAAW,EAAIv7C,EAAIu7C,EACnBC,EAAW,EAAI7zC,EAAI6zC,EACnBjpB,EAAQ2e,cACPqK,EAAWziC,EACX0iC,EAAWj0C,EACXvH,EAAIs3C,EAAQ,GAAKx+B,EACjBnR,EAAI2vC,EAAQ,GAAK/vC,EACjB4zC,EAAQriC,EACRsiC,EAAQ7zC,GAOTg0C,EAAWv7C,EAAIs3C,EAAQ,GACvBkE,EAAW7zC,EAAI2vC,EAAQ,GAEvBt3C,EAAIm7C,EACJxzC,EAAIyzC,EACJ,MAED,IAAK,IACJD,EAAQ7D,EAAQ,GAChB8D,EAAQ9D,EAAQ,GAEhBiE,EAAW,EAAIv7C,EAAIu7C,EACnBC,EAAW,EAAI7zC,EAAI6zC,EACnBjpB,EAAQ2e,cACPqK,EAAWziC,EACX0iC,EAAWj0C,EACX+vC,EAAQ,GAAKx+B,EACbw+B,EAAQ,GAAK/vC,EACb4zC,EAAQriC,EACRsiC,EAAQ7zC,GAETvH,EAAIm7C,EACJxzC,EAAIyzC,EAKJG,EAAWjE,EAAQ,GACnBkE,EAAWlE,EAAQ,GAEnB,MAED,IAAK,IAEJ6D,EAAQn7C,EAAIs3C,EAAQ,GACpB8D,EAAQzzC,EAAI2vC,EAAQ,GAEpBiE,EAAWv7C,EAAIs3C,EAAQ,GACvBkE,EAAW7zC,EAAI2vC,EAAQ,GAEvB/kB,EAAQye,iBACPuK,EAAWziC,EACX0iC,EAAWj0C,EACX4zC,EAAQriC,EACRsiC,EAAQ7zC,GAETvH,EAAIm7C,EACJxzC,EAAIyzC,EACJ,MAED,IAAK,IACJD,EAAQ7D,EAAQ,GAChB8D,EAAQ9D,EAAQ,GAEhB/kB,EAAQye,iBACPsG,EAAQ,GAAKx+B,EACbw+B,EAAQ,GAAK/vC,EACb4zC,EAAQriC,EACRsiC,EAAQ7zC,GAETvH,EAAIm7C,EACJxzC,EAAIyzC,EACJG,EAAWjE,EAAQ,GACnBkE,EAAWlE,EAAQ,GACnB,MAED,IAAK,IAEJ6D,EAAQn7C,EAAIs3C,EAAQ,GACpB8D,EAAQzzC,EAAI2vC,EAAQ,GAEgB,OAAhC9sB,EAAS,GAAG5O,MAAM,WAGrB2/B,EAAWv7C,EACXw7C,EAAW7zC,GACe,MAAhB6iB,EAAS,IAEnB+wB,EAAW,EAAIv7C,EAAKq7C,EACpBG,EAAW,EAAI7zC,EAAK2zC,GACM,MAAhB9wB,EAAS,KAEnB+wB,EAAW,EAAIv7C,EAAIu7C,EACnBC,EAAW,EAAI7zC,EAAI6zC,GAGpBH,EAAeE,EACfD,EAAeE,EAEfjpB,EAAQye,iBACPuK,EAAWziC,EACX0iC,EAAWj0C,EACX4zC,EAAQriC,EACRsiC,EAAQ7zC,GAGTI,EAAIyzC,EACJG,GAFAv7C,EAAIm7C,GAEW7D,EAAQ,GACvBkE,EAAW7zC,EAAI2vC,EAAQ,GACvB,MAED,IAAK,IACJ6D,EAAQ7D,EAAQ,GAChB8D,EAAQ9D,EAAQ,GAGhBiE,EAAW,EAAIv7C,EAAIu7C,EACnBC,EAAW,EAAI7zC,EAAI6zC,EACnBjpB,EAAQye,iBACPuK,EAAWziC,EACX0iC,EAAWj0C,EACX4zC,EAAQriC,EACRsiC,EAAQ7zC,GAETvH,EAAIm7C,EACJxzC,EAAIyzC,EACJ,MAED,IAAK,IACJ7D,EAAQhlB,EAASvyB,EAAI8Y,EAAGnR,EAAIJ,EAAG,CAC9B+vC,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GAAKt3C,EAAI8Y,EACjBw+B,EAAQ,GAAK3vC,EAAIJ,IAElBvH,GAAKs3C,EAAQ,GACb3vC,GAAK2vC,EAAQ,GACb,MAED,IAAK,IACJC,EAAQhlB,EAASvyB,EAAI8Y,EAAGnR,EAAIJ,EAAG,CAC9B+vC,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GAAKx+B,EACbw+B,EAAQ,GAAK/vC,IAEdvH,EAAIs3C,EAAQ,GACZ3vC,EAAI2vC,EAAQ,GACZ,MAED,IAAK,IACL,IAAK,IACJ/kB,EAAQue,YAGVtmB,EAAW8sB,GOpKZoE,CAAWnpB,EAAS2oB,EAAW,EAAG,EAAGtE,GAC9BrkB,ECvHR,IAAMvyB,GAAI,SAACiyB,GAAD,OAAkBA,EAAKjyB,GAAK,GAEhC2H,GAAI,SAACsqB,GAAD,OAAkBA,EAAKtqB,GAAK,GAShCsvC,GAAK,SAAChlB,GAAD,OACVA,EAAK+kB,cAAgB,GAChB2E,GAAM,SAAC1pB,GAAD,OACK,MAAhBA,EAAKsjB,SAAyBtjB,EAAKsjB,SAqBvBqG,GAAY,IAAI7E,EAAU/2C,GAAG2H,IA/BhC,SAACsqB,GAAD,OAAkBA,EAAK9V,OAAS,KAChC,SAAC8V,GAAD,OAAkBA,EAAKkO,QAAU,IA8BQ8W,IAEtC4E,GvBgBE,WACb,IAAI3I,EAAcD,EACdG,EAAcD,EACd6D,EAAehrC,EAAS,GACxB8vC,EAAY,KACZxI,EAAaD,EACbG,EAAWD,EACXG,EAAWD,EACXlhB,EAAU,KAEd,SAAS4f,IACP,IAAIuD,EACAjvC,EACA3B,GAAMouC,EAAY/nC,MAAMlD,KAAMjE,WAC9BgB,GAAMouC,EAAYjoC,MAAMlD,KAAMjE,WAC9BouC,EAAKkB,EAAWnoC,MAAMlD,KAAMjE,WAAa+uC,EACzCV,EAAKmB,EAASroC,MAAMlD,KAAMjE,WAAa+uC,EACvCH,EAAKjtC,EAAI0sC,EAAKD,GACdO,EAAKN,EAAKD,EAKd,GAJK7f,IAASA,EAAUmjB,EAAS,KAE7B1wC,EAAKF,IAAI2B,EAAIzB,EAAIA,EAAKF,EAAIA,EAAK2B,GAE7BzB,EAAK,EACN,GAAI4tC,EAAK,EAAM,EAClBrgB,EAAQse,OAAO7rC,EAAKwtC,EAAIJ,GAAKptC,EAAK0tC,EAAIN,IACtC7f,EAAQ4f,IAAI,EAAG,EAAGntC,EAAIotC,EAAIC,GAAKM,GAE3B7tC,EAAK,IACPytB,EAAQse,OAAO/rC,EAAK0tC,EAAIH,GAAKvtC,EAAK4tC,EAAIL,IACtC9f,EAAQ4f,IAAI,EAAG,EAAGrtC,EAAIutC,EAAID,EAAIO,QAG7B,CACH,IAWIhvC,EACAE,EAZAy0C,EAAMlG,EACNoG,EAAMnG,EACNgG,EAAMjG,EACNmG,EAAMlG,EACN0J,EAAMnJ,EACNoJ,EAAMpJ,EACNqJ,EAAKvI,EAASvoC,MAAMlD,KAAMjE,WAAa,EACvCk4C,EAAKD,EAAK,IAAYH,GAAaA,EAAU3wC,MAAMlD,KAAMjE,WAAaM,EAAKQ,EAAKA,EAAKE,EAAKA,IAC1FmvC,EAAK3tC,EAAIb,EAAIX,EAAKF,GAAM,GAAIkyC,EAAa7rC,MAAMlD,KAAMjE,YACrDm4C,EAAMhI,EACNiI,EAAMjI,EAIV,GAAI+H,EAAK,EAAS,CAChB,IAAIG,EAAKrJ,EAAKkJ,EAAKp3C,EAAK4tC,EAAIuJ,IACxBK,EAAKtJ,EAAKkJ,EAAKl3C,EAAK0tC,EAAIuJ,KACvBF,GAAY,EAALM,GAAU,GAA4BhE,GAAnBgE,GAAM1J,EAAK,GAAK,EAAc4F,GAAO8D,IAAQN,EAAM,EAAG1D,EAAME,GAAOnG,EAAKC,GAAM,IACxG2J,GAAY,EAALM,GAAU,GAA4BhE,GAAnBgE,GAAM3J,EAAK,GAAK,EAAc6F,GAAO8D,IAAQN,EAAM,EAAG1D,EAAME,GAAOpG,EAAKC,GAAM,GAG/G,IAAId,EAAMvsC,EAAKwtC,EAAI8F,GACf9G,EAAMxsC,EAAK0tC,EAAI4F,GACfxE,EAAMhvC,EAAK0tC,EAAI+F,GACfxE,EAAMjvC,EAAK4tC,EAAI6F,GAEnB,GAAIpE,EAAK,EAAS,CAChB,IAIIoI,EAJAjI,EAAMtvC,EAAKwtC,EAAIgG,GACfjE,EAAMvvC,EAAK0tC,EAAI8F,GACfhE,EAAM1vC,EAAK0tC,EAAI6F,GACf5D,GAAM3vC,EAAK4tC,EAAI2F,GAGnB,GAAIzF,EAAK,IAAO2J,EAAK5I,EAAUpC,EAAKC,EAAKgD,EAAKC,GAAKH,EAAKC,EAAKT,EAAKC,IAAO,CACvE,IAAIyI,GAAKjL,EAAMgL,EAAG,GACdE,GAAKjL,EAAM+K,EAAG,GACdG,GAAKpI,EAAMiI,EAAG,GACdI,GAAKpI,EAAMgI,EAAG,GACdK,GAAK,EAAIlK,EAAIV,GAAMwK,GAAKE,GAAKD,GAAKE,KAAOr4C,EAAKk4C,GAAKA,GAAKC,GAAKA,IAAMn4C,EAAKo4C,GAAKA,GAAKC,GAAKA,MAAQ,GAC/FE,GAAKv4C,EAAKi4C,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,IACzCJ,EAAM31C,EAAI2tC,GAAKrvC,EAAK+3C,KAAOD,GAAK,IAChCR,EAAM51C,EAAI2tC,GAAKnvC,EAAK63C,KAAOD,GAAK,KAK9BZ,EAAM,EACHI,EAAM,GACbz4C,EAAKuwC,EAAeM,EAAKC,GAAKlD,EAAKC,EAAKxsC,EAAIo3C,EAAKzJ,GACjD9uC,EAAKqwC,EAAeI,EAAKC,EAAKT,EAAKC,EAAK/uC,EAAIo3C,EAAKzJ,GACjDpgB,EAAQse,OAAOltC,EAAGyxC,GAAKzxC,EAAG4tC,IAAK5tC,EAAG0xC,GAAK1xC,EAAG6tC,KAEtC4K,EAAMjI,EAAI5hB,EAAQ4f,IAAIxuC,EAAGyxC,GAAIzxC,EAAG0xC,GAAI+G,EAAKtJ,EAAMnvC,EAAG6tC,IAAK7tC,EAAG4tC,KAAMuB,EAAMjvC,EAAG2tC,IAAK3tC,EAAG0tC,MAAOoB,IAE1FpgB,EAAQ4f,IAAIxuC,EAAGyxC,GAAIzxC,EAAG0xC,GAAI+G,EAAKtJ,EAAMnvC,EAAG6tC,IAAK7tC,EAAG4tC,KAAMuB,EAAMnvC,EAAG4wC,IAAK5wC,EAAG2wC,MAAO3B,GAC9EpgB,EAAQ4f,IAAI,EAAG,EAAGntC,EAAI8tC,EAAMnvC,EAAG0xC,GAAK1xC,EAAG4wC,IAAK5wC,EAAGyxC,GAAKzxC,EAAG2wC,KAAMxB,EAAMjvC,EAAGwxC,GAAKxxC,EAAG0wC,IAAK1wC,EAAGuxC,GAAKvxC,EAAGywC,MAAO3B,GACrGpgB,EAAQ4f,IAAItuC,EAAGuxC,GAAIvxC,EAAGwxC,GAAI+G,EAAKtJ,EAAMjvC,EAAG0wC,IAAK1wC,EAAGywC,KAAMxB,EAAMjvC,EAAG2tC,IAAK3tC,EAAG0tC,MAAOoB,MAG7EpgB,EAAQse,OAAOU,EAAKC,GAAMjf,EAAQ4f,IAAI,EAAG,EAAGntC,EAAIszC,EAAKE,GAAM7F,IAb1CpgB,EAAQse,OAAOU,EAAKC,GAgBpC1sC,EAAK,GAAci3C,EAAM,EACtBI,EAAM,GACbx4C,EAAKuwC,EAAeJ,EAAKC,EAAKO,EAAKC,EAAKzvC,GAAKq3C,EAAKxJ,GAClD9uC,EAAKqwC,EAAe3C,EAAKC,EAAKgD,EAAKC,GAAK3vC,GAAKq3C,EAAKxJ,GAClDpgB,EAAQwe,OAAOptC,EAAGyxC,GAAKzxC,EAAG4tC,IAAK5tC,EAAG0xC,GAAK1xC,EAAG6tC,KAEtC2K,EAAMhI,EAAI5hB,EAAQ4f,IAAIxuC,EAAGyxC,GAAIzxC,EAAG0xC,GAAI8G,EAAKrJ,EAAMnvC,EAAG6tC,IAAK7tC,EAAG4tC,KAAMuB,EAAMjvC,EAAG2tC,IAAK3tC,EAAG0tC,MAAOoB,IAE1FpgB,EAAQ4f,IAAIxuC,EAAGyxC,GAAIzxC,EAAG0xC,GAAI8G,EAAKrJ,EAAMnvC,EAAG6tC,IAAK7tC,EAAG4tC,KAAMuB,EAAMnvC,EAAG4wC,IAAK5wC,EAAG2wC,MAAO3B,GAC9EpgB,EAAQ4f,IAAI,EAAG,EAAGrtC,EAAIguC,EAAMnvC,EAAG0xC,GAAK1xC,EAAG4wC,IAAK5wC,EAAGyxC,GAAKzxC,EAAG2wC,KAAMxB,EAAMjvC,EAAGwxC,GAAKxxC,EAAG0wC,IAAK1wC,EAAGuxC,GAAKvxC,EAAGywC,KAAM3B,GACpGpgB,EAAQ4f,IAAItuC,EAAGuxC,GAAIvxC,EAAGwxC,GAAI8G,EAAKrJ,EAAMjvC,EAAG0wC,IAAK1wC,EAAGywC,KAAMxB,EAAMjvC,EAAG2tC,IAAK3tC,EAAG0tC,MAAOoB,KAG7EpgB,EAAQ4f,IAAI,EAAG,EAAGrtC,EAAIyzC,EAAKF,EAAK1F,GAbIpgB,EAAQwe,OAAO+C,EAAKC,QAzE1CxhB,EAAQse,OAAO,EAAG,GAyFvC,GADAte,EAAQue,YACJ4E,EAAQ,OAAOnjB,EAAU,KAAMmjB,EAAS,IAAM,KAyCpD,OAtCAvD,EAAI2K,SAAW,WACb,IAAIr2C,IAAMysC,EAAY/nC,MAAMlD,KAAMjE,aAAcovC,EAAYjoC,MAAMlD,KAAMjE,YAAc,EAClF3E,IAAMi0C,EAAWnoC,MAAMlD,KAAMjE,aAAcwvC,EAASroC,MAAMlD,KAAMjE,YAAc,EAAI,EAAK,EAC3F,MAAO,CAACwuC,EAAInzC,GAAKoH,EAAGisC,EAAIrzC,GAAKoH,IAG/B0rC,EAAIe,YAAc,SAAUtrC,GAC1B,OAAO5D,UAAU7D,QAAU+yC,EAA2B,mBAANtrC,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAOe,GAG9Ff,EAAIiB,YAAc,SAAUxrC,GAC1B,OAAO5D,UAAU7D,QAAUizC,EAA2B,mBAANxrC,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAOiB,GAG9FjB,EAAI6E,aAAe,SAAUpvC,GAC3B,OAAO5D,UAAU7D,QAAU62C,EAA4B,mBAANpvC,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAO6E,GAG/F7E,EAAI2J,UAAY,SAAUl0C,GACxB,OAAO5D,UAAU7D,QAAU27C,EAAiB,MAALl0C,EAAY,KAAoB,mBAANA,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAO2J,GAG/G3J,EAAImB,WAAa,SAAU1rC,GACzB,OAAO5D,UAAU7D,QAAUmzC,EAA0B,mBAAN1rC,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAOmB,GAG7FnB,EAAIqB,SAAW,SAAU5rC,GACvB,OAAO5D,UAAU7D,QAAUqzC,EAAwB,mBAAN5rC,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAOqB,GAG3FrB,EAAIuB,SAAW,SAAU9rC,GACvB,OAAO5D,UAAU7D,QAAUuzC,EAAwB,mBAAN9rC,EAAmBA,EAAIoE,GAAUpE,GAAIuqC,GAAOuB,GAG3FvB,EAAI5f,QAAU,SAAU3qB,GACtB,OAAO5D,UAAU7D,QAAUoyB,EAAe,MAAL3qB,EAAY,KAAOA,EAAGuqC,GAAO5f,GAG7D4f,EuBzKe4K,GACtBzJ,YAhCS,SAACrhB,GAAD,OAAqBA,EAAKqhB,YAAc,KAiCjDE,UAhCS,SAACvhB,GAAD,OAAqBA,EAAKuhB,UAAY,KAiC/CE,UAhCS,SAACzhB,GAAD,OAAqBA,EAAKyhB,UAAY,KAiC/CR,aAhCS,SAACjhB,GAAD,OAAqBA,EAAKihB,aAAe,KAiClDE,aAhCS,SAACnhB,GAAD,OAAqBA,EAAKmhB,aAAe,KAiClD4D,aAAaC,IAEF+F,GAAaC,IAAqB5yC,GAAGrK,IAAGoK,IA5C1C,SAAC6nB,GAAD,OAAkBA,EAAK8a,IAAM,KA4CoBplC,EAAEA,IAAG4tC,QAAQoG,IAE5DuB,GAAaD,IAAqBhM,GAAGtpC,IAAGypC,IA5C1C,SAACnf,GAAD,OAAkBA,EAAK+a,IAAM,KA4CoBhtC,EAAEA,IAAGu1C,QAAQoG,IAE5DwB,GAAYC,IAAsBp9C,EAAEA,IAAG2H,EAAEA,IAAG4tC,QAAQoG,IAEpD0B,GAAiBC,IAC5B1wC,MAvBqB,SAACqlB,GAAD,OACtBkoB,GAAQloB,EAAKwO,OAAS,UAAUqZ,UAuB/BlD,MAjCiB,SAAC3kB,GAAD,OAAsC,MAAbA,EAAK2kB,KAAe,GAAK3kB,EAAK2kB,QAmC7D2G,GAAkBD,IAC7B1wC,MAxBsB,SAACqlB,GAAD,OACvBkoB,GAAQloB,EAAKwO,OAAS,UAAUsZ,WAwB/BnD,MA/BkB,SAAC3kB,GAAD,OACL,MAAdA,EAAK9V,MAAgB,EAAI8V,EAAK9V,SClD/B,SAASu6B,GAAO8G,EAAMx9C,EAAG2H,GACvB61C,EAAKh6C,SAAS0tC,eAAe,EAAIsM,EAAKhN,IAAMgN,EAAK9M,KAAO,GAAI,EAAI8M,EAAK/M,IAAM+M,EAAK7M,KAAO,GAAI6M,EAAKhN,IAAM,EAAIgN,EAAK9M,KAAO,GAAI8M,EAAK/M,IAAM,EAAI+M,EAAK7M,KAAO,GAAI6M,EAAKhN,IAAM,EAAIgN,EAAK9M,IAAM1wC,GAAK,GAAIw9C,EAAK/M,IAAM,EAAI+M,EAAK7M,IAAMhpC,GAAK,GAItN,SAAS81C,GAAMlrB,GACpBtqB,KAAKzE,SAAW+uB,ECNH,SAAS,MCGxB,SAASmrB,GAAYnrB,GACnBtqB,KAAKzE,SAAW+uB,ECFlB,SAASorB,GAAUprB,GACjBtqB,KAAKzE,SAAW+uB,ECDlB,SAASqrB,GAAOrrB,EAASsrB,GACvB51C,KAAK61C,OAAS,IAAIL,GAAMlrB,GACxBtqB,KAAK81C,MAAQF,EJIfJ,GAAMn8C,UAAY,CAChB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAKwoC,IAAMxoC,KAAK0oC,IAAMpxC,IAC5C0I,KAAKyuC,OAAS,GAEhBb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EACHA,GAAOzuC,KAAMA,KAAKyoC,IAAKzoC,KAAK0oC,KAI9B,KAAK,EACH1oC,KAAKzE,SAASutC,OAAO9oC,KAAKyoC,IAAKzoC,KAAK0oC,MAKpC1oC,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,GAAKM,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,GAClE,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EAEdzuC,KAAKzE,SAASutC,QAAQ,EAAI9oC,KAAKuoC,IAAMvoC,KAAKyoC,KAAO,GAAI,EAAIzoC,KAAKwoC,IAAMxoC,KAAK0oC,KAAO,GAIlF,QACE+F,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAM1wC,EAChCiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAMhpC,IEvDpC+1C,GAAYp8C,UAAY,CACtB40C,UAAWjoB,GACXkoB,QAASloB,GACT2nB,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKg2C,IAAMh2C,KAAKi2C,IAAMj2C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAMl2C,KAAKm2C,IAAMn2C,KAAKo2C,IAAM9+C,IAC9G0I,KAAKyuC,OAAS,GAEhBb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EAEDzuC,KAAKzE,SAASqtC,OAAO5oC,KAAK+1C,IAAK/1C,KAAKk2C,KAEpCl2C,KAAKzE,SAASstC,YAEd,MAGJ,KAAK,EAED7oC,KAAKzE,SAASqtC,QAAQ5oC,KAAK+1C,IAAM,EAAI/1C,KAAKg2C,KAAO,GAAIh2C,KAAKk2C,IAAM,EAAIl2C,KAAKm2C,KAAO,GAEhFn2C,KAAKzE,SAASutC,QAAQ9oC,KAAKg2C,IAAM,EAAIh2C,KAAK+1C,KAAO,GAAI/1C,KAAKm2C,IAAM,EAAIn2C,KAAKk2C,KAAO,GAEhFl2C,KAAKzE,SAASstC,YAEd,MAGJ,KAAK,EAED7oC,KAAK6tC,MAAM7tC,KAAK+1C,IAAK/1C,KAAKk2C,KAC1Bl2C,KAAK6tC,MAAM7tC,KAAKg2C,IAAKh2C,KAAKm2C,KAC1Bn2C,KAAK6tC,MAAM7tC,KAAKi2C,IAAKj2C,KAAKo2C,OAKlCvI,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAK+1C,IAAMh+C,EAAGiI,KAAKk2C,IAAMx2C,EACzB,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACdzuC,KAAKg2C,IAAMj+C,EAAGiI,KAAKm2C,IAAMz2C,EACzB,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACdzuC,KAAKi2C,IAAMl+C,EAAGiI,KAAKo2C,IAAM12C,EAEzBM,KAAKzE,SAASqtC,QAAQ5oC,KAAKuoC,IAAM,EAAIvoC,KAAKyoC,IAAM1wC,GAAK,GAAIiI,KAAKwoC,IAAM,EAAIxoC,KAAK0oC,IAAMhpC,GAAK,GAExF,MAEF,QACE+uC,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAM1wC,EAChCiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAMhpC,ICpEpCg2C,GAAUr8C,UAAY,CACpB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAKwoC,IAAMxoC,KAAK0oC,IAAMpxC,IAC5C0I,KAAKyuC,OAAS,GAEhBb,QAAS,YACH5tC,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,IAAItsC,GAAMnC,KAAKuoC,IAAM,EAAIvoC,KAAKyoC,IAAM1wC,GAAK,EACrCoxC,GAAMnpC,KAAKwoC,IAAM,EAAIxoC,KAAK0oC,IAAMhpC,GAAK,EACzCM,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO3mC,EAAIgnC,GAAMnpC,KAAKzE,SAASqtC,OAAOzmC,EAAIgnC,GACrE,MAEF,KAAK,EACHnpC,KAAKyuC,OAAS,EAGhB,QACEA,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAM1wC,EAChCiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAMhpC,IC5CpCi2C,GAAOt8C,UAAY,CACjBs0C,UAAW,WACT3tC,KAAK4U,GAAK,GACV5U,KAAKq2C,GAAK,GAEVr2C,KAAK61C,OAAOlI,aAEdC,QAAS,WACP,IAAI71C,EAAIiI,KAAK4U,GACTlV,EAAIM,KAAKq2C,GACT/3C,EAAIvG,EAAEG,OAAS,EAEnB,GAAIoG,EAAI,EAQN,IAPA,IAKIgB,EALA6C,EAAKpK,EAAE,GACPoxC,EAAKzpC,EAAE,GACP4qC,EAAKvyC,EAAEuG,GAAK6D,EACZqoC,EAAK9qC,EAAEpB,GAAK6qC,EACZ7wC,GAAK,IAGAA,GAAKgG,GACZgB,EAAIhH,EAAIgG,EAER0B,KAAK61C,OAAOhI,MAAM7tC,KAAK81C,MAAQ/9C,EAAEO,IAAM,EAAI0H,KAAK81C,QAAU3zC,EAAK7C,EAAIgrC,GAAKtqC,KAAK81C,MAAQp2C,EAAEpH,IAAM,EAAI0H,KAAK81C,QAAU3M,EAAK7pC,EAAIkrC,IAI7HxqC,KAAK4U,GAAK5U,KAAKq2C,GAAK,KAEpBr2C,KAAK61C,OAAOjI,WAEdC,MAAO,SAAe91C,EAAG2H,GACvBM,KAAK4U,GAAG5S,MAAMjK,GAEdiI,KAAKq2C,GAAGr0C,MAAMtC,KAGlB,OAAe,SAAU2yC,EAAOuD,GAC9B,SAASU,EAAOhsB,GACd,OAAgB,IAATsrB,EAAa,IAAIJ,GAAMlrB,GAAW,IAAIqrB,GAAOrrB,EAASsrB,GAO/D,OAJAU,EAAOV,KAAO,SAAUA,GACtB,OAAOvD,GAAQuD,IAGVU,EATT,CAUG,KCtDH,SAAS,GAAOf,EAAMx9C,EAAG2H,GACvB61C,EAAKh6C,SAAS0tC,cAAcsM,EAAK9M,IAAM8M,EAAKgB,IAAMhB,EAAKQ,IAAMR,EAAKhN,KAAMgN,EAAK7M,IAAM6M,EAAKgB,IAAMhB,EAAKW,IAAMX,EAAK/M,KAAM+M,EAAKQ,IAAMR,EAAKgB,IAAMhB,EAAK9M,IAAM1wC,GAAIw9C,EAAKW,IAAMX,EAAKgB,IAAMhB,EAAK7M,IAAMhpC,GAAI61C,EAAKQ,IAAKR,EAAKW,KAIxM,SAASM,GAASlsB,EAASmsB,GAChCz2C,KAAKzE,SAAW+uB,EAChBtqB,KAAKu2C,IAAM,EAAIE,GAAW,EAE5BD,GAASn9C,UAAY,CACnB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAM5+C,IAClE0I,KAAKyuC,OAAS,GAEhBb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EACHzuC,KAAKzE,SAASutC,OAAO9oC,KAAK+1C,IAAK/1C,KAAKk2C,KAEpC,MAEF,KAAK,EACH,GAAOl2C,KAAMA,KAAKyoC,IAAKzoC,KAAK0oC,MAK5B1oC,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,GAAKM,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,GAClE,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACdzuC,KAAKyoC,IAAM1wC,EAAGiI,KAAK0oC,IAAMhpC,EACzB,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EAGhB,QACE,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAK/1C,KAAK+1C,IAAMh+C,EACrDiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAM1oC,KAAKk2C,IAAKl2C,KAAKk2C,IAAMx2C,IAGzD,OAAe,SAAU2yC,EAAOoE,GAC9B,SAASC,EAASpsB,GAChB,OAAO,IAAIksB,GAASlsB,EAASmsB,GAO/B,OAJAC,EAASD,QAAU,SAAUA,GAC3B,OAAOpE,GAAQoE,IAGVC,EATT,CAUG,GCzEI,SAASC,GAAarsB,EAASmsB,GACpCz2C,KAAKzE,SAAW+uB,EAChBtqB,KAAKu2C,IAAM,EAAIE,GAAW,EAE5BE,GAAat9C,UAAY,CACvB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAM5+C,IAClE0I,KAAKyuC,OAAS,GAEhBb,QAAS,YACH5tC,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO9oC,KAAK+1C,IAAK/1C,KAAKk2C,KAAOl2C,KAAKzE,SAASqtC,OAAO5oC,KAAK+1C,IAAK/1C,KAAKk2C,KAC5F,MAEF,KAAK,EACHl2C,KAAKyuC,OAAS,EAGhB,QACE,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAK/1C,KAAK+1C,IAAMh+C,EACrDiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAM1oC,KAAKk2C,IAAKl2C,KAAKk2C,IAAMx2C,IAGzD,OAAe,SAAU2yC,EAAOoE,GAC9B,SAASC,EAASpsB,GAChB,OAAO,IAAIqsB,GAAarsB,EAASmsB,GAOnC,OAJAC,EAASD,QAAU,SAAUA,GAC3B,OAAOpE,GAAQoE,IAGVC,EATT,CAUG,GC3DI,SAASE,GAAetsB,EAASmsB,GACtCz2C,KAAKzE,SAAW+uB,EAChBtqB,KAAKu2C,IAAM,EAAIE,GAAW,EAE5BG,GAAev9C,UAAY,CACzB40C,UAAWjoB,GACXkoB,QAASloB,GACT2nB,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKg2C,IAAMh2C,KAAKi2C,IAAMj2C,KAAK62C,IAAM72C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAMl2C,KAAKm2C,IAAMn2C,KAAKo2C,IAAMp2C,KAAK82C,IAAMx/C,IACpI0I,KAAKyuC,OAAS,GAEhBb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EAEDzuC,KAAKzE,SAASqtC,OAAO5oC,KAAKg2C,IAAKh2C,KAAKm2C,KAEpCn2C,KAAKzE,SAASstC,YAEd,MAGJ,KAAK,EAED7oC,KAAKzE,SAASutC,OAAO9oC,KAAKg2C,IAAKh2C,KAAKm2C,KAEpCn2C,KAAKzE,SAASstC,YAEd,MAGJ,KAAK,EAED7oC,KAAK6tC,MAAM7tC,KAAKg2C,IAAKh2C,KAAKm2C,KAC1Bn2C,KAAK6tC,MAAM7tC,KAAKi2C,IAAKj2C,KAAKo2C,KAC1Bp2C,KAAK6tC,MAAM7tC,KAAK62C,IAAK72C,KAAK82C,OAKlCjJ,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKg2C,IAAMj+C,EAAGiI,KAAKm2C,IAAMz2C,EACzB,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EAEdzuC,KAAKzE,SAASqtC,OAAO5oC,KAAKi2C,IAAMl+C,EAAGiI,KAAKo2C,IAAM12C,GAE9C,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACdzuC,KAAK62C,IAAM9+C,EAAGiI,KAAK82C,IAAMp3C,EACzB,MAEF,QACE,GAAOM,KAAMjI,EAAG2H,GAKpBM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAK/1C,KAAK+1C,IAAMh+C,EACrDiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAM1oC,KAAKk2C,IAAKl2C,KAAKk2C,IAAMx2C,IAGzD,OAAe,SAAU2yC,EAAOoE,GAC9B,SAASC,EAASpsB,GAChB,OAAO,IAAIssB,GAAetsB,EAASmsB,GAOrC,OAJAC,EAASD,QAAU,SAAUA,GAC3B,OAAOpE,GAAQoE,IAGVC,EATT,CAUG,GChFH,SAAS,GAAOnB,EAAMx9C,EAAG2H,GACvB,IAAI0C,EAAKmzC,EAAK9M,IACVO,EAAKuM,EAAK7M,IACV5D,EAAKyQ,EAAKQ,IACVhR,EAAKwQ,EAAKW,IAEd,GAAIX,EAAKwB,OAAS,EAAS,CACzB,IAAI3/C,EAAI,EAAIm+C,EAAKyB,QAAU,EAAIzB,EAAKwB,OAASxB,EAAK0B,OAAS1B,EAAK2B,QAC5D/9C,EAAI,EAAIo8C,EAAKwB,QAAUxB,EAAKwB,OAASxB,EAAK0B,QAC9C70C,GAAMA,EAAKhL,EAAIm+C,EAAKhN,IAAMgN,EAAK2B,QAAU3B,EAAKQ,IAAMR,EAAKyB,SAAW79C,EACpE6vC,GAAMA,EAAK5xC,EAAIm+C,EAAK/M,IAAM+M,EAAK2B,QAAU3B,EAAKW,IAAMX,EAAKyB,SAAW79C,EAGtE,GAAIo8C,EAAK4B,OAAS,EAAS,CACzB,IAAI9/C,EAAI,EAAIk+C,EAAK6B,QAAU,EAAI7B,EAAK4B,OAAS5B,EAAK0B,OAAS1B,EAAK2B,QAC5DtmC,EAAI,EAAI2kC,EAAK4B,QAAU5B,EAAK4B,OAAS5B,EAAK0B,QAC9CnS,GAAMA,EAAKztC,EAAIk+C,EAAK9M,IAAM8M,EAAK6B,QAAUr/C,EAAIw9C,EAAK2B,SAAWtmC,EAC7Dm0B,GAAMA,EAAK1tC,EAAIk+C,EAAK7M,IAAM6M,EAAK6B,QAAU13C,EAAI61C,EAAK2B,SAAWtmC,EAG/D2kC,EAAKh6C,SAAS0tC,cAAc7mC,EAAI4mC,EAAIlE,EAAIC,EAAIwQ,EAAKQ,IAAKR,EAAKW,KAK7D,SAASmB,GAAW/sB,EAASgtB,GAC3Bt3C,KAAKzE,SAAW+uB,EAChBtqB,KAAKu3C,OAASD,EAGhBD,GAAWh+C,UAAY,CACrB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAM5+C,IAClE0I,KAAK+2C,OAAS/2C,KAAKi3C,OAASj3C,KAAKm3C,OAASn3C,KAAKg3C,QAAUh3C,KAAKk3C,QAAUl3C,KAAKo3C,QAAUp3C,KAAKyuC,OAAS,GAEvGb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EACHzuC,KAAKzE,SAASutC,OAAO9oC,KAAK+1C,IAAK/1C,KAAKk2C,KAEpC,MAEF,KAAK,EACHl2C,KAAK6tC,MAAM7tC,KAAK+1C,IAAK/1C,KAAKk2C,MAI1Bl2C,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,GAFA3H,GAAKA,EAAG2H,GAAKA,EAETM,KAAKyuC,OAAQ,CACf,IAAI+I,EAAMx3C,KAAK+1C,IAAMh+C,EACjB0/C,EAAMz3C,KAAKk2C,IAAMx2C,EACrBM,KAAKm3C,OAASn7C,KAAKK,KAAK2D,KAAKo3C,QAAUp7C,KAAKuB,IAAIi6C,EAAMA,EAAMC,EAAMA,EAAKz3C,KAAKu3C,SAG9E,OAAQv3C,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,GAAKM,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,GAClE,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EAGhB,QACE,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAK+2C,OAAS/2C,KAAKi3C,OAAQj3C,KAAKi3C,OAASj3C,KAAKm3C,OAC9Cn3C,KAAKg3C,QAAUh3C,KAAKk3C,QAASl3C,KAAKk3C,QAAUl3C,KAAKo3C,QACjDp3C,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAK/1C,KAAK+1C,IAAMh+C,EACrDiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAM1oC,KAAKk2C,IAAKl2C,KAAKk2C,IAAMx2C,IAGzD,OAAe,SAAU2yC,EAAOiF,GAC9B,SAASI,EAAWptB,GAClB,OAAOgtB,EAAQ,IAAID,GAAW/sB,EAASgtB,GAAS,IAAId,GAASlsB,EAAS,GAOxE,OAJAotB,EAAWJ,MAAQ,SAAUA,GAC3B,OAAOjF,GAAQiF,IAGVI,EATT,CAUG,ICpGH,SAASC,GAAiBrtB,EAASgtB,GACjCt3C,KAAKzE,SAAW+uB,EAChBtqB,KAAKu3C,OAASD,EAGhBK,GAAiBt+C,UAAY,CAC3B40C,UAAWjoB,GACXkoB,QAASloB,GACT2nB,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKg2C,IAAMh2C,KAAKi2C,IAAMj2C,KAAK62C,IAAM72C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAMl2C,KAAKm2C,IAAMn2C,KAAKo2C,IAAMp2C,KAAK82C,IAAMx/C,IACpI0I,KAAK+2C,OAAS/2C,KAAKi3C,OAASj3C,KAAKm3C,OAASn3C,KAAKg3C,QAAUh3C,KAAKk3C,QAAUl3C,KAAKo3C,QAAUp3C,KAAKyuC,OAAS,GAEvGb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EAEDzuC,KAAKzE,SAASqtC,OAAO5oC,KAAKg2C,IAAKh2C,KAAKm2C,KAEpCn2C,KAAKzE,SAASstC,YAEd,MAGJ,KAAK,EAED7oC,KAAKzE,SAASutC,OAAO9oC,KAAKg2C,IAAKh2C,KAAKm2C,KAEpCn2C,KAAKzE,SAASstC,YAEd,MAGJ,KAAK,EAED7oC,KAAK6tC,MAAM7tC,KAAKg2C,IAAKh2C,KAAKm2C,KAC1Bn2C,KAAK6tC,MAAM7tC,KAAKi2C,IAAKj2C,KAAKo2C,KAC1Bp2C,KAAK6tC,MAAM7tC,KAAK62C,IAAK72C,KAAK82C,OAKlCjJ,MAAO,SAAe91C,EAAG2H,GAGvB,GAFA3H,GAAKA,EAAG2H,GAAKA,EAETM,KAAKyuC,OAAQ,CACf,IAAI+I,EAAMx3C,KAAK+1C,IAAMh+C,EACjB0/C,EAAMz3C,KAAKk2C,IAAMx2C,EACrBM,KAAKm3C,OAASn7C,KAAKK,KAAK2D,KAAKo3C,QAAUp7C,KAAKuB,IAAIi6C,EAAMA,EAAMC,EAAMA,EAAKz3C,KAAKu3C,SAG9E,OAAQv3C,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKg2C,IAAMj+C,EAAGiI,KAAKm2C,IAAMz2C,EACzB,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EAEdzuC,KAAKzE,SAASqtC,OAAO5oC,KAAKi2C,IAAMl+C,EAAGiI,KAAKo2C,IAAM12C,GAE9C,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACdzuC,KAAK62C,IAAM9+C,EAAGiI,KAAK82C,IAAMp3C,EACzB,MAEF,QACE,GAAOM,KAAMjI,EAAG2H,GAKpBM,KAAK+2C,OAAS/2C,KAAKi3C,OAAQj3C,KAAKi3C,OAASj3C,KAAKm3C,OAC9Cn3C,KAAKg3C,QAAUh3C,KAAKk3C,QAASl3C,KAAKk3C,QAAUl3C,KAAKo3C,QACjDp3C,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAK/1C,KAAK+1C,IAAMh+C,EACrDiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAM1oC,KAAKk2C,IAAKl2C,KAAKk2C,IAAMx2C,IAGzD,OAAe,SAAU2yC,EAAOiF,GAC9B,SAASI,EAAWptB,GAClB,OAAOgtB,EAAQ,IAAIK,GAAiBrtB,EAASgtB,GAAS,IAAIV,GAAetsB,EAAS,GAOpF,OAJAotB,EAAWJ,MAAQ,SAAUA,GAC3B,OAAOjF,GAAQiF,IAGVI,EATT,CAUG,IC3FH,SAASE,GAAettB,EAASgtB,GAC/Bt3C,KAAKzE,SAAW+uB,EAChBtqB,KAAKu3C,OAASD,EAGhBM,GAAev+C,UAAY,CACzB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAM/1C,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAKk2C,IAAM5+C,IAClE0I,KAAK+2C,OAAS/2C,KAAKi3C,OAASj3C,KAAKm3C,OAASn3C,KAAKg3C,QAAUh3C,KAAKk3C,QAAUl3C,KAAKo3C,QAAUp3C,KAAKyuC,OAAS,GAEvGb,QAAS,YACH5tC,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GAGvB,GAFA3H,GAAKA,EAAG2H,GAAKA,EAETM,KAAKyuC,OAAQ,CACf,IAAI+I,EAAMx3C,KAAK+1C,IAAMh+C,EACjB0/C,EAAMz3C,KAAKk2C,IAAMx2C,EACrBM,KAAKm3C,OAASn7C,KAAKK,KAAK2D,KAAKo3C,QAAUp7C,KAAKuB,IAAIi6C,EAAMA,EAAMC,EAAMA,EAAKz3C,KAAKu3C,SAG9E,OAAQv3C,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO9oC,KAAK+1C,IAAK/1C,KAAKk2C,KAAOl2C,KAAKzE,SAASqtC,OAAO5oC,KAAK+1C,IAAK/1C,KAAKk2C,KAC5F,MAEF,KAAK,EACHl2C,KAAKyuC,OAAS,EAGhB,QACE,GAAOzuC,KAAMjI,EAAG2H,GAKpBM,KAAK+2C,OAAS/2C,KAAKi3C,OAAQj3C,KAAKi3C,OAASj3C,KAAKm3C,OAC9Cn3C,KAAKg3C,QAAUh3C,KAAKk3C,QAASl3C,KAAKk3C,QAAUl3C,KAAKo3C,QACjDp3C,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAMzoC,KAAK+1C,IAAK/1C,KAAK+1C,IAAMh+C,EACrDiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAM1oC,KAAKk2C,IAAKl2C,KAAKk2C,IAAMx2C,IAGzD,OAAe,SAAU2yC,EAAOiF,GAC9B,SAASI,EAAWptB,GAClB,OAAOgtB,EAAQ,IAAIM,GAAettB,EAASgtB,GAAS,IAAIX,GAAarsB,EAAS,GAOhF,OAJAotB,EAAWJ,MAAQ,SAAUA,GAC3B,OAAOjF,GAAQiF,IAGVI,EATT,CAUG,ICtEH,SAASG,GAAavtB,GACpBtqB,KAAKzE,SAAW+uB,ECHlB,SAASlmB,GAAKrM,GACZ,OAAOA,EAAI,GAAK,EAAI,EAOtB,SAAS+/C,GAAOvC,EAAMzQ,EAAIC,GACxB,IAAIgT,EAAKxC,EAAK9M,IAAM8M,EAAKhN,IACrByP,EAAKlT,EAAKyQ,EAAK9M,IACfwP,GAAM1C,EAAK7M,IAAM6M,EAAK/M,MAAQuP,GAAMC,EAAK,IAAM,GAC/CE,GAAMnT,EAAKwQ,EAAK7M,MAAQsP,GAAMD,EAAK,IAAM,GACzCl2C,GAAKo2C,EAAKD,EAAKE,EAAKH,IAAOA,EAAKC,GACpC,OAAQ5zC,GAAK6zC,GAAM7zC,GAAK8zC,IAAOl8C,KAAKuC,IAAIvC,KAAK0B,IAAIu6C,GAAKj8C,KAAK0B,IAAIw6C,GAAK,GAAMl8C,KAAK0B,IAAImE,KAAO,EAI5F,SAASs2C,GAAO5C,EAAMj2C,GACpB,IAAIuS,EAAI0jC,EAAK9M,IAAM8M,EAAKhN,IACxB,OAAO12B,GAAK,GAAK0jC,EAAK7M,IAAM6M,EAAK/M,KAAO32B,EAAIvS,GAAK,EAAIA,EAMvD,SAAS,GAAOi2C,EAAM75C,EAAIE,GACxB,IAAIuG,EAAKozC,EAAKhN,IACVY,EAAKoM,EAAK/M,IACVpmC,EAAKmzC,EAAK9M,IACVO,EAAKuM,EAAK7M,IACV4B,GAAMloC,EAAKD,GAAM,EAErBozC,EAAKh6C,SAAS0tC,cAAc9mC,EAAKmoC,EAAInB,EAAKmB,EAAK5uC,EAAI0G,EAAKkoC,EAAItB,EAAKsB,EAAK1uC,EAAIwG,EAAI4mC,GAGhF,SAASoP,GAAU9tB,GACjBtqB,KAAKzE,SAAW+uB,EAgElB,SAAS+tB,GAAU/tB,GACjBtqB,KAAKzE,SAAW,IAAI+8C,GAAehuB,GAOrC,SAASguB,GAAehuB,GACtBtqB,KAAKzE,SAAW+uB,EC9GlB,SAASiuB,GAAQjuB,GACftqB,KAAKzE,SAAW+uB,EA6ClB,SAASkuB,GAAczgD,GACrB,IAAIO,EAEAsY,EADAzX,EAAIpB,EAAEG,OAAS,EAEfd,EAAI,IAAI2B,MAAMI,GACd9B,EAAI,IAAI0B,MAAMI,GACdqF,EAAI,IAAIzF,MAAMI,GAGlB,IAFA/B,EAAE,GAAK,EAAGC,EAAE,GAAK,EAAGmH,EAAE,GAAKzG,EAAE,GAAK,EAAIA,EAAE,GAEnCO,EAAI,EAAGA,EAAIa,EAAI,IAAKb,EACvBlB,EAAEkB,GAAK,EAAGjB,EAAEiB,GAAK,EAAGkG,EAAElG,GAAK,EAAIP,EAAEO,GAAK,EAAIP,EAAEO,EAAI,GAKlD,IAFAlB,EAAE+B,EAAI,GAAK,EAAG9B,EAAE8B,EAAI,GAAK,EAAGqF,EAAErF,EAAI,GAAK,EAAIpB,EAAEoB,EAAI,GAAKpB,EAAEoB,GAEnDb,EAAI,EAAGA,EAAIa,IAAKb,EACnBsY,EAAIxZ,EAAEkB,GAAKjB,EAAEiB,EAAI,GAAIjB,EAAEiB,IAAMsY,EAAGpS,EAAElG,IAAMsY,EAAIpS,EAAElG,EAAI,GAKpD,IAFAlB,EAAE+B,EAAI,GAAKqF,EAAErF,EAAI,GAAK9B,EAAE8B,EAAI,GAEvBb,EAAIa,EAAI,EAAGb,GAAK,IAAKA,EACxBlB,EAAEkB,IAAMkG,EAAElG,GAAKlB,EAAEkB,EAAI,IAAMjB,EAAEiB,GAK/B,IAFAjB,EAAE8B,EAAI,IAAMpB,EAAEoB,GAAK/B,EAAE+B,EAAI,IAAM,EAE1Bb,EAAI,EAAGA,EAAIa,EAAI,IAAKb,EACvBjB,EAAEiB,GAAK,EAAIP,EAAEO,EAAI,GAAKlB,EAAEkB,EAAI,GAG9B,MAAO,CAAClB,EAAGC,GC7Eb,SAASohD,GAAKnuB,EAAShrB,GACrBU,KAAKzE,SAAW+uB,EAChBtqB,KAAK04C,GAAKp5C,EHIZu4C,GAAax+C,UAAY,CACvB40C,UAAWjoB,GACXkoB,QAASloB,GACT2nB,UAAW,WACT3tC,KAAKyuC,OAAS,GAEhBb,QAAS,WACH5tC,KAAKyuC,QAAQzuC,KAAKzE,SAASstC,aAEjCgF,MAAO,SAAe91C,EAAG2H,GACvB3H,GAAKA,EAAG2H,GAAKA,EACTM,KAAKyuC,OAAQzuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,IAAQM,KAAKyuC,OAAS,EAAGzuC,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,MCuB9F04C,GAAU/+C,UAAY,CACpB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAKuoC,IAAMvoC,KAAKyoC,IAAMzoC,KAAKwoC,IAAMxoC,KAAK0oC,IAAM1oC,KAAK24C,IAAMrhD,IACvD0I,KAAKyuC,OAAS,GAEhBb,QAAS,WACP,OAAQ5tC,KAAKyuC,QACX,KAAK,EACHzuC,KAAKzE,SAASutC,OAAO9oC,KAAKyoC,IAAKzoC,KAAK0oC,KAEpC,MAEF,KAAK,EACH,GAAO1oC,KAAMA,KAAK24C,IAAKR,GAAOn4C,KAAMA,KAAK24C,OAKzC34C,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACvE7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,OAExBX,MAAO,SAAe91C,EAAG2H,GACvB,IAAI9D,EAAKtE,IAET,GADQoI,GAAKA,GAAb3H,GAAKA,KACKiI,KAAKyoC,KAAO/oC,IAAMM,KAAK0oC,IAAjC,CAEA,OAAQ1oC,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,GAAKM,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,GAClE,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EACd,MAEF,KAAK,EACHzuC,KAAKyuC,OAAS,EAEd,GAAOzuC,KAAMm4C,GAAOn4C,KAAMpE,EAAKk8C,GAAO93C,KAAMjI,EAAG2H,IAAK9D,GAEpD,MAEF,QACE,GAAOoE,KAAMA,KAAK24C,IAAK/8C,EAAKk8C,GAAO93C,KAAMjI,EAAG2H,IAKhDM,KAAKuoC,IAAMvoC,KAAKyoC,IAAKzoC,KAAKyoC,IAAM1wC,EAChCiI,KAAKwoC,IAAMxoC,KAAK0oC,IAAK1oC,KAAK0oC,IAAMhpC,EAChCM,KAAK24C,IAAM/8C,MAQdy8C,GAAUh/C,UAAYD,OAAO0Z,OAAOslC,GAAU/+C,YAAYw0C,MAAQ,SAAU91C,EAAG2H,GAC9E04C,GAAU/+C,UAAUw0C,MAAMt0C,KAAKyG,KAAMN,EAAG3H,IAO1CugD,GAAej/C,UAAY,CACzBuvC,OAAQ,SAAgB7wC,EAAG2H,GACzBM,KAAKzE,SAASqtC,OAAOlpC,EAAG3H,IAE1B8wC,UAAW,WACT7oC,KAAKzE,SAASstC,aAEhBC,OAAQ,SAAgB/wC,EAAG2H,GACzBM,KAAKzE,SAASutC,OAAOppC,EAAG3H,IAE1BkxC,cAAe,SAAuB7mC,EAAI4mC,EAAIlE,EAAIC,EAAIhtC,EAAG2H,GACvDM,KAAKzE,SAAS0tC,cAAcD,EAAI5mC,EAAI2iC,EAAID,EAAIplC,EAAG3H,KCxHnDwgD,GAAQl/C,UAAY,CAClB40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAK4U,GAAK,GACV5U,KAAKq2C,GAAK,IAEZzI,QAAS,WACP,IAAI71C,EAAIiI,KAAK4U,GACTlV,EAAIM,KAAKq2C,GACTl9C,EAAIpB,EAAEG,OAEV,GAAIiB,EAGF,GAFA6G,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAE,GAAI2H,EAAE,IAAMM,KAAKzE,SAASqtC,OAAO7wC,EAAE,GAAI2H,EAAE,IAEnE,IAANvG,EACF6G,KAAKzE,SAASutC,OAAO/wC,EAAE,GAAI2H,EAAE,SAK7B,IAHA,IAAIuwC,EAAKuI,GAAczgD,GACnBm4C,EAAKsI,GAAc94C,GAEdc,EAAK,EAAGC,EAAK,EAAGA,EAAKtH,IAAKqH,IAAMC,EACvCT,KAAKzE,SAAS0tC,cAAcgH,EAAG,GAAGzvC,GAAK0vC,EAAG,GAAG1vC,GAAKyvC,EAAG,GAAGzvC,GAAK0vC,EAAG,GAAG1vC,GAAKzI,EAAE0I,GAAKf,EAAEe,KAKnFT,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAAqB,IAANr1C,IAAS6G,KAAKzE,SAASstC,YAC7D7oC,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,MACtBxuC,KAAK4U,GAAK5U,KAAKq2C,GAAK,MAEtBxI,MAAO,SAAe91C,EAAG2H,GACvBM,KAAK4U,GAAG5S,MAAMjK,GAEdiI,KAAKq2C,GAAGr0C,MAAMtC,KCrClB+4C,GAAKp/C,UAAY,CACf40C,UAAW,WACTjuC,KAAKwuC,MAAQ,GAEfN,QAAS,WACPluC,KAAKwuC,MAAQl3C,KAEfq2C,UAAW,WACT3tC,KAAK4U,GAAK5U,KAAKq2C,GAAK/+C,IACpB0I,KAAKyuC,OAAS,GAEhBb,QAAS,WACH,EAAI5tC,KAAK04C,IAAM14C,KAAK04C,GAAK,GAAqB,IAAhB14C,KAAKyuC,QAAczuC,KAAKzE,SAASutC,OAAO9oC,KAAK4U,GAAI5U,KAAKq2C,KACpFr2C,KAAKwuC,OAAwB,IAAfxuC,KAAKwuC,OAA+B,IAAhBxuC,KAAKyuC,SAAczuC,KAAKzE,SAASstC,YACnE7oC,KAAKwuC,OAAS,IAAGxuC,KAAK04C,GAAK,EAAI14C,KAAK04C,GAAI14C,KAAKwuC,MAAQ,EAAIxuC,KAAKwuC,QAEpEX,MAAO,SAAe91C,EAAG2H,GAGvB,OAFA3H,GAAKA,EAAG2H,GAAKA,EAELM,KAAKyuC,QACX,KAAK,EACHzuC,KAAKyuC,OAAS,EACdzuC,KAAKwuC,MAAQxuC,KAAKzE,SAASutC,OAAO/wC,EAAG2H,GAAKM,KAAKzE,SAASqtC,OAAO7wC,EAAG2H,GAClE,MAEF,KAAK,EACHM,KAAKyuC,OAAS,EAGhB,QAEI,GAAIzuC,KAAK04C,IAAM,EACb14C,KAAKzE,SAASutC,OAAO9oC,KAAK4U,GAAIlV,GAE9BM,KAAKzE,SAASutC,OAAO/wC,EAAG2H,OACnB,CACL,IAAI0C,EAAKpC,KAAK4U,IAAM,EAAI5U,KAAK04C,IAAM3gD,EAAIiI,KAAK04C,GAE5C14C,KAAKzE,SAASutC,OAAO1mC,EAAIpC,KAAKq2C,IAE9Br2C,KAAKzE,SAASutC,OAAO1mC,EAAI1C,IAOjCM,KAAK4U,GAAK7c,EAAGiI,KAAKq2C,GAAK32C,ICvB3B,IAAMk5C,GAQF,CACHliC,MAAO,CACN62B,Mf0Ba,SAAUjjB,GACvB,OAAO,IAAIkrB,GAAMlrB,KezBlB,eAAgB,CACfijB,MbmCa,SAAUjjB,GACvB,OAAO,IAAImrB,GAAYnrB,KalCxB,aAAc,CACbijB,MZSa,SAAUjjB,GACvB,OAAO,IAAIorB,GAAUprB,KYRtBgsB,OAAQ,CACP/I,MAAOsL,GACPpC,QAAS,OACTx8C,MAAO,KAERy8C,SAAU,CACTnJ,MAAOuL,GACPrC,QAAS,UACTx8C,MAAO,GAER,gBAAiB,CAChBszC,MAAOwL,GACPtC,QAAS,UACTx8C,MAAO,GAER,kBAAmB,CAClBszC,MAAOyL,GACPvC,QAAS,UACTx8C,MAAO,GAER,cAAe,CACdszC,MAAO0L,GACPxC,QAAS,QACTx8C,MAAO,IAER,qBAAsB,CACrBszC,MAAO2L,GACPzC,QAAS,QACTx8C,MAAO,IAER,mBAAoB,CACnBszC,MAAO4L,GACP1C,QAAS,QACTx8C,MAAO,IAER0G,OAAQ,CACP4sC,MAAO6L,GAER,gBAAiB,CAChB7L,MJlEa,SAAUjjB,GACvB,OAAO,IAAIutB,GAAavtB,KImEzB+uB,SAAU,CACT1W,WHyCK,SAAmBrY,GACxB,OAAO,IAAI+tB,GAAU/tB,IGzCrBgvB,SHqCK,SAAmBhvB,GACxB,OAAO,IAAI8tB,GAAU9tB,KGpCtBivB,QAAS,CACRhM,MFba,SAAUjjB,GACvB,OAAO,IAAIiuB,GAAQjuB,KEcpB9vB,KAAM,CACL+yC,MDzCa,SAAUjjB,GACvB,OAAO,IAAImuB,GAAKnuB,EAAS,MC0C1B,aAAc,CACbijB,MDtCK,SAAmBjjB,GACxB,OAAO,IAAImuB,GAAKnuB,EAAS,KCuC1B,cAAe,CACdijB,MD5CK,SAAoBjjB,GACzB,OAAO,IAAImuB,GAAKnuB,EAAS,MC+CZ,SAASkvB,GACvB70C,EACAu3B,EACAua,GAEA,IAAMzmB,EACL52B,OAAOC,UAAUiY,eAAe/X,KAAKq/C,GAAQj0C,IAASi0C,GAAOj0C,GAG9D,GAAIqrB,EAAO,CACV,IAAMypB,EAAezpB,EAAMud,OAASvd,EAAMkM,GAAe,YACzD,OAAIlM,EAAMymB,SAAsB,MAAXA,EACbgD,EAAazpB,EAAMymB,SAASA,GAE5BgD,EAGR,MAAM,IAAI7lC,MAAJ,wCACmCjP,EADnC,iBACwDu3B,GClGzD,SAASgO,GAAIlgB,EAAiBM,GACpC,OAAOspB,GAAStpB,QAAQA,EAAjBspB,CAAiC5pB,GAqBlC,SAAS0vB,GACf1vB,EACA2vB,EACAC,EACAtvB,GAEA,OAAOqpB,GAAUxd,MAAMnM,EAAM2vB,EAASC,EAAStvB,GAGzC,SAAStW,GAAOgW,EAAoBM,GAC1C,OAAkB,MAAdN,EAAK9V,MACDohC,GAAgBhrB,QAAQA,EAAxBgrB,CAAwCtrB,GAExCorB,GAAe9qB,QAAQA,EAAvB8qB,CAAuCprB,GCvCzC,SAAS6vB,GAAU9hD,EAAW2H,GACpC,MAAO,CAAEiF,KAAM6iC,EAAAA,GAAAA,UAA6BvtC,MAAO,CAAClC,EAAG2H,ICXjD,SAASo6C,GAAa/oB,EAAmBgpB,GAC/C,GAAIhpB,EAAKipB,WAAaD,EACrB,MAAM,IAAInmC,MAAJ,6GAE2BmmC,EAF3B,eAOR,SAASE,GAAUxjB,GAClB,MAAM,SAASA,GAAQ,QAQjB,SAASyjB,GACfF,EACAvjB,EACA0jB,GASA,MAAO,CAPqB,CAC3Bx1C,KAAM,IACNy1C,MAAO,CACNC,UAAU,QAASL,EAAV,IAAsBC,GAAUxjB,IAE1C0jB,SAAAA,IAUK,SAASG,GAAYtwB,GAC3B,IAAMqF,EAAiC,GAuCvC,YArCkB5zB,IAAduuB,EAAKlW,OACRub,EAAOvb,KAAOkW,EAAKlW,WAGKrY,IAArBuuB,EAAKuwB,cACRlrB,EAAOkrB,YAAcvwB,EAAKuwB,kBAGP9+C,IAAhBuuB,EAAK6U,SACRxP,EAAOwP,OAAS7U,EAAK6U,QAGtBxP,EAAOyP,YAAc9U,EAAK8U,aAAe,OAEdrjC,IAAvBuuB,EAAKwwB,gBACRnrB,EAAOmrB,cAAgBxwB,EAAKwwB,oBAGL/+C,IAApBuuB,EAAKywB,aACRprB,EAAOqrB,eAAiB1wB,EAAKywB,iBAGPh/C,IAAnBuuB,EAAK2wB,YACRtrB,EAAOurB,cAAgB5wB,EAAK2wB,gBAGLl/C,IAApBuuB,EAAK6wB,aACRxrB,EAAOyrB,gBAAkB9wB,EAAK6wB,iBAGDp/C,IAA1BuuB,EAAK+wB,mBACR1rB,EAAO2rB,iBAAmBhxB,EAAK+wB,uBAGVt/C,IAAlBuuB,EAAKixB,WACR5rB,EAAO4rB,SAAWjxB,EAAKixB,UAEjB5rB,EChFD,IAAM6rB,GAAb,4CAGQC,OAAP,SAAcpqB,GACb+oB,GAAa/oB,EAAMmqB,EAAYE,kBAE/B,IAAMC,EAAQnB,GACbhjB,EAAAA,GAAAA,IACAnG,EAAK0F,KACL1F,EAAK6N,MAAMp/B,KAAI,SAAAwqB,GACd,IAAQjyB,EAASiyB,EAATjyB,EAAG2H,EAAMsqB,EAANtqB,EAaX,MAZyB,CACxBiF,KAAM,OACNy1C,MAAM,OAAD,UACDE,GAAYtwB,GADX,CAEJ5xB,EAAG8xC,GAAIlgB,KAER6N,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,gBACtBwjB,WAAY,CAACzB,GAAU9hD,GAAK,EAAG2H,GAAK,IACpC0S,SAAU4X,EAAK5X,SACf6xB,SAAUja,EAAKia,cAKlB,MAAO,CAAEoX,MAAAA,IA1BX,KAAaH,GACEE,iBAAmBlkB,EAAAA,GAAAA,ICI3B,IAAMqkB,GAAb,4CAGQJ,OAAP,SAAcpqB,GAGb,GAFA+oB,GAAa/oB,EAAMwqB,EAAaH,kBAEF,IAA1BrqB,EAAK6N,MAAMp/B,IAAItH,OAClB,MAAO,CAAEmjD,MAAO,IAGjB,IJKmBzc,EAAqBtU,EACnCyM,EACAykB,EIPCC,EAAY1qB,EAAK6N,MAAMp/B,KAAI,SAAApI,GAChC,IAAM0qC,GAAQ2C,EAAAA,EAAAA,IAAartC,GACrBskD,EAAKtkD,EAGX,OAFAskD,EAAGxnC,MAAQ4tB,EAAMtJ,MAAMtkB,MACvBwnC,EAAGxjB,OAAS4J,EAAMtJ,MAAMN,OACjBwjB,KAEFC,EAAY5qB,EAAK6N,MAAM,GACvBgd,EAAW,CAChBj3C,KAAM,OACNy1C,MAAM,OAAD,QACJhiD,GJNiBwmC,EIMT6c,EJLL1kB,EAAQ6H,EAAM,GACd4c,EAASzkB,EAAM74B,aAAe8oC,EAAAA,GAAAA,QACfjQ,EAAM+B,SAAWiO,EAAAA,GAAAA,WACPgO,GAAaE,IAE1C1H,MAAMiM,GAAOgC,EAAQzkB,EAAM+B,OAAQ/B,EAAM0f,UACzCnsB,QAAQA,EAFHuxB,CAEmBjd,KIApB0b,GAAYqB,IAEhB9jB,UAAW8jB,EAAU9jB,UACrBC,gBAAiB6jB,EAAU7jB,gBAC3BmM,SAAUwX,EAAU,GAAGxX,SACvB7xB,SAAUqpC,EAAU,GAAGrpC,UAIxB,MAAO,CAAEipC,MADKnB,GAAchjB,EAAAA,GAAAA,KAAenG,EAAK0F,KAAM,CAACmlB,MA9BzD,KAAaL,GACEH,iBAAmBlkB,EAAAA,GAAAA,oBCoG3B,IAAM4kB,GAAb,4CAGQX,OAAP,SAAcpqB,EAA2BzG,GACxCwvB,GAAa/oB,EAAM+qB,EAAcV,kBAEjC,IApGqBxc,EAAYmd,EAC5BC,EAmGCC,EAAmB,GACnBZ,GArGezc,EAqGC7N,EAAK6N,MArGMmd,EAqGC,SAAC/xB,GAClC,IAAM8X,GAAQ2C,EAAAA,EAAAA,IAAaza,GAGrBkyB,EAhGT,SAA8BlyB,EAAmB8X,GAChD,IAAMqa,EAAuB7B,GAAYtwB,GACnCge,EAAUlG,EAAMvJ,OAAOxgC,GAAK,EAC5BqkD,EAAUta,EAAMvJ,OAAO74B,GAAK,EAE5B28C,EAAWryB,EACjBqyB,EAASnoC,MAAQ4tB,EAAMtJ,MAAMtkB,MAC7BmoC,EAASnkB,OAAS4J,EAAMtJ,MAAMN,OAE9B,IAAMokB,EAAiB,CACtBlkD,EAAGshD,GAAU1vB,EAAMge,EAASoU,GAAS9iD,YAatC,MAR4B,CAC3BqL,KAAM,OACNy1C,MAJU,iBAAQ+B,EAAyBG,GAK3CrY,SAJ8Bja,EAAvBia,SAKP7xB,SAL8B4X,EAAb5X,SAMjBylB,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,iBA2EHykB,CAAqBvyB,EAAM8X,GAG7C,EArEH,SACC9X,EACAM,GAEA,IAAI+wB,EAAoB,GACpBY,EAAmB,GAWvB,OATmBjyB,EAAK4U,OAAS,IACtB7P,SAAQ,SAAAne,GAClB,IAAM4rC,EAAgBC,GAAW7rC,EAAG0Z,GAChCkyB,EAAcP,OACjBA,EAAI,mBAAOA,IAAP,QAAgBO,EAAcP,QAEnCZ,EAAK,mBAAOA,IAAP,QAAiBmB,EAAcnB,WAG9B,CAAEY,KAAAA,EAAMZ,MAAAA,GAqDqCqB,CACjD1yB,EACAM,GAFaqyB,EAAd,EAAQV,KAAwBW,EAAhC,EAAyBvB,MAIzBY,EAAKj6C,KAAL,MAAAi6C,GAAI,QAAUU,GAAa,KAE3B,IAAI7nC,EAxDP,SACCkV,EACA8X,EACAqY,GAEA,IAAQ/nC,EAAuB4X,EAAvB5X,SAAU6xB,EAAaja,EAAbia,SAQlB,MAPwB,CACvBt/B,KAAM,IACN22C,WAAY,CAACzB,GAAU/X,EAAMvJ,OAAOxgC,EAAG+pC,EAAMvJ,OAAO74B,IACpDy6C,SAAAA,EACAlW,SAAAA,EACA7xB,SAAAA,GA6CayqC,CAAY7yB,EAAM8X,EAAO8a,GAGrC,GAAI5yB,EAAK8yB,KAAM,CACd,MA5CJ,SAAyBC,EAAgBjoC,EAAiBonC,GAiBzD,MAAO,CAAEc,SAhBkB,CAC1Br4C,KAAM,WACNy1C,MAAO,CACNhd,GAAI2f,GAEL5C,SAAU,CAAC+B,IAWOpnC,MARnBA,EAAQ,CACPnQ,KAAM,IACNy1C,MAAO,CACN4C,SAAS,QAASD,EAAV,KAET5C,SAAU,CAACrlC,KA8BiCmoC,CAAgB,OAClD3yB,EAAQ4yB,SACfpoC,EACAonC,GAHciB,EAAf,EAAQroC,MAAqBkoC,EAA7B,EAA6BA,SAK7Bf,EAAKj6C,KAAKg7C,GACVloC,EAAQqoC,EAGT,MAAO,CAACjB,EAAWpnC,IA9HfknC,EAAcpd,EAAMp/B,IAAIu8C,GACvBhjD,MAAMM,UAAU05C,OAAO7vC,MAAM,GAAI84C,IAgIvC,MAAO,CAAEX,MAAAA,EAAOY,KAAAA,IApClB,KAAaH,GACEV,iBAAmBlkB,EAAAA,GAAAA,MC3G3B,IAAMkmB,GAAb,4CAGQjC,OAAP,SAAcpqB,GAGb,GAFA+oB,GAAa/oB,EAAMqsB,EAAahC,kBAEF,IAA1BrqB,EAAK6N,MAAMp/B,IAAItH,OAClB,MAAO,CAAEmjD,MAAO,IAGjB,INoBmBzc,EAAqBtU,EACnCN,EACAwxB,EMtBCG,EAAY5qB,EAAK6N,MAAM,GACvBye,EAAW,CAChB14C,KAAM,OACNy1C,MAAM,OAAD,QACJhiD,GNgBiBwmC,EMhBT7N,EAAK6N,MNiBV5U,EAAO4U,EAAM,GACb4c,EAASxxB,EAAK9rB,aAAe,SAC5Bg3C,GAAAA,MACCsE,GAAOgC,OAAQ//C,EAAWuuB,EAAKysB,UACrCnsB,QAAQA,EAFH4qB,CAEmBtW,KMpBpB0b,GAAYqB,IAEhB1X,SAAU0X,EAAU1X,SACpB7xB,SAAUupC,EAAUvpC,SACpBylB,UAAW8jB,EAAU9jB,UACrBC,gBAAiB6jB,EAAU7jB,iBAI5B,MAAO,CAAEujB,MADKnB,GAAchjB,EAAAA,GAAAA,KAAenG,EAAK0F,KAAM,CAAC4mB,MAvBzD,KAAaD,GACEhC,iBAAmBlkB,EAAAA,GAAAA,KCF3B,IAAMomB,GAAb,4CAGQnC,OAAP,SAAcpqB,GACb+oB,GAAa/oB,EAAMusB,EAAalC,kBAEhC,IAAMC,EAAQnB,GACbhjB,EAAAA,GAAAA,KACAnG,EAAK0F,KACL1F,EAAK6N,MAAMp/B,KAAI,SAAAwqB,GACd,IAAQjyB,EAASiyB,EAATjyB,EAAG2H,EAAMsqB,EAANtqB,EAUX,MATyB,CACxBiF,KAAM,OACNy1C,MAAM,OAAD,UAAOE,GAAYtwB,GAAnB,CAA0B5xB,EAAG4xB,EAAK2e,OACvC2S,WAAY,CAACzB,GAAU9hD,GAAK,EAAG2H,GAAK,IACpCukC,SAAUja,EAAKia,SACf7xB,SAAU4X,EAAK5X,SACfylB,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,qBAKzB,MAAO,CAAEujB,MAAAA,IAvBX,KAAaiC,GACElC,iBAAmBlkB,EAAAA,GAAAA,KCM3B,IAAMqmB,GAAb,4CAGQpC,OAAP,SAAcpqB,GA2Bb,OA1BA+oB,GAAa/oB,EAAMwsB,EAAanC,kBA0BzB,CAAEC,MAxBKnB,GACbhjB,EAAAA,GAAAA,KACAnG,EAAK0F,KACL1F,EAAK6N,MAAMp/B,KAAI,SAAAwqB,GACd,IAAQia,EAAuBja,EAAvBia,SAAU7xB,EAAa4X,EAAb5X,SACZ0vB,GAAQ2C,EAAAA,EAAAA,IAAaza,GACrBowB,EAAQE,GAAYtwB,GAEpBqyB,EAAWryB,EAajB,OAZAqyB,EAASnoC,MAAQ4tB,EAAMtJ,MAAMtkB,MAC7BmoC,EAASnkB,OAAS4J,EAAMtJ,MAAMN,OAC9BkiB,EAAMhiD,EAAIshD,GAAU2C,EAAUva,EAAMvJ,OAAOxgC,EAAG+pC,EAAMvJ,OAAO74B,GAAGpG,WAErC,CACxBqL,KAAM,OACNy1C,MAAAA,EACAnW,SAAAA,EACA7xB,SAAAA,EACAylB,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,uBAzB3B,KAAaylB,GACEnC,iBAAmBlkB,EAAAA,GAAAA,KCR3B,IAAMsmB,GAAb,4CAGQrC,OAAP,SAAcpqB,GACb+oB,GAAa/oB,EAAMysB,EAAapC,kBAGhC,IAAMC,EAAQnB,GACbhjB,EAAAA,GAAAA,KACAnG,EAAK0F,KACL1F,EAAK6N,MAAMp/B,KAAI,SAAAwqB,GACd,IAAMjyB,EAAIiyB,EAAKjyB,GAAK,EACd2H,EAAIsqB,EAAKtqB,GAAK,EACd06C,EAAQE,GAAYtwB,GAiB1B,YAhBgBvuB,IAAZuuB,EAAK8a,KACRsV,EAAMtV,GAAK9a,EAAK8a,GAAK/sC,QAEN0D,IAAZuuB,EAAK+a,KACRqV,EAAMrV,GAAK/a,EAAK+a,GAAKrlC,GAGG,CACxBiF,KAAM,OACNy1C,MAAAA,EACAkB,WAAY,CAACzB,GAAU9hD,EAAG2H,IAC1B0S,SAAU4X,EAAK5X,SACf6xB,SAAUja,EAAKia,SACfpM,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,qBAKzB,MAAO,CAAEujB,MAAAA,IAjCX,KAAamC,GACEpC,iBAAmBlkB,EAAAA,GAAAA,KCK3B,IAAMumB,GAAb,4CAGQtC,OAAP,SAAcpqB,GACb+oB,GAAa/oB,EAAM0sB,EAAerC,kBAElC,IAAMC,EAAQnB,GACbhjB,EAAAA,GAAAA,OACAnG,EAAK0F,KACL1F,EAAK6N,MAAMp/B,KAAI,SAAAwqB,GACd,MAAyBA,EAAjBjyB,EAAAA,OAAR,MAAY,EAAZ,IAAyBiyB,EAAVtqB,EAAAA,OAAf,MAAmB,EAAnB,EAaA,MAZyB,CACxBiF,KAAM,OACNy1C,MAAM,OAAD,UACDE,GAAYtwB,GADX,CAEJ5xB,EAAG4b,GAAOgW,KAEXsxB,WAAY,CAACzB,GAAU9hD,EAAG2H,IAC1BukC,SAAUja,EAAKia,SACf7xB,SAAU4X,EAAK5X,SACfylB,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,qBAKzB,MAAO,CAAEujB,MAAAA,IA1BX,KAAaoC,GACErC,iBAAmBlkB,EAAAA,GAAAA,OCDlC,IAAMwmB,GAAa,CAAEhmD,KAAM,QAASC,OAAQ,SAAUF,MAAO,OAwB7D,SAASkmD,GAAkBC,GAC1B,OAAQA,GACP,KAAKje,EAAAA,GAAAA,IACJ,MAAO,UACR,KAAKA,EAAAA,GAAAA,OACJ,MAAO,UACR,KAAKA,EAAAA,GAAAA,OACJ,MAAO,WACR,QACC,QAIH,SAASke,GAAkB7zB,GAC1B,IV3BsB8zB,EU2BhBvlB,EAlCP,YAQkC,IAPjCxgC,EAOgC,EAPhCA,EACA2H,EAMgC,EANhCA,EAMgC,IAFhCyxC,OAAAA,OAEgC,MAFvB,EAEuB,MADhCnR,MAKA,GAHAjoC,EAAIA,GAAK,EACT2H,EAAIA,GAAK,EAELyxC,EAAQ,CACX,IAAM7xC,QALyB,MADxB,EACwB,GAKbtD,KAAKikC,GAAK,EAC5BloC,GAAKo5C,EAASn1C,KAAKuuC,IAAIjrC,GACvBI,GAAKyxC,EAASn1C,KAAKyuC,IAAInrC,GAExB,MAAO,CAACvH,EAAG2H,GAiBIq+C,CAAoB/zB,GAC7BsxB,EAAoB,GAc1B,YAbmB7/C,IAAfuuB,EAAK8zB,OACRxC,EAAWt5C,KAAK63C,GAAUthB,EAAO,GAAIA,EAAO,KV9BvBulB,EU8BmC9zB,EAAK8zB,MV7BvD,CAAEn5C,KAAM6iC,EAAAA,GAAAA,OAA0BvtC,MAAO6jD,UU8B/BriD,IAAZuuB,EAAKsgB,SAAgC7uC,IAAZuuB,EAAKwgB,IACjC8Q,EAAWt5C,KAAK63C,GAAU7vB,EAAKsgB,IAAM,EAAGtgB,EAAKwgB,IAAM,KAGpD8Q,EAAWt5C,KACV63C,GACCthB,EAAO,IAAMvO,EAAKsgB,IAAM,IAAM,EAC9B/R,EAAO,IAAMvO,EAAKwgB,IAAM,IAAM,IAI1B8Q,EAGD,IAAM0C,GAAb,4CAGQ7C,OAAP,SAAcpqB,GAqCb,OApCA+oB,GAAa/oB,EAAMitB,EAAa5C,kBAoCzB,CAAEC,MAlCKnB,GACbhjB,EAAAA,GAAAA,KACAnG,EAAK0F,KACL1F,EAAK6N,MAAMp/B,KAAI,SAAAwqB,GACd,IAAMowB,EAAK,iBACPE,GAAYtwB,GADL,CAEVi0B,kBAAmBN,GAAkB3zB,EAAKyV,YAGvCzV,EAAKjW,QACRqmC,EAAM8D,WAAaR,GAAW1zB,EAAKjW,QAEpC,IAAMomC,OAAyB1+C,IAAduuB,EAAKoV,KAAqB,CAAC,GAAKpV,EAAKoV,WAAQ3jC,EAmB9D,MAlByB,CACxBkJ,KAAM,OACNy1C,MAAAA,EACA+D,MAAO,CACNlf,SAAUjV,EAAKiV,UA9EK,GA+EpBmf,WAAYp0B,EAAKkV,MA9EK,aA+EtBC,WAAYnV,EAAKmV,WACjBkf,UAAWr0B,EAAKq0B,UAChBC,YAAat0B,EAAKs0B,aAEnBhD,WAAYuC,GAAkB7zB,GAC9Bia,SAAUja,EAAKia,SACf7xB,SAAU4X,EAAK5X,SACfylB,UAAW7N,EAAK6N,UAChBC,gBAAiB9N,EAAK8N,gBACtBqiB,SAAAA,SAlCL,KAAa6D,GACE5C,iBAAmBlkB,EAAAA,GAAAA,KChElC,IAAMqnB,GAAuB,IAAI/7C,IAE1B,SAASg8C,GACfxiB,EACAyiB,GAEAF,GAAqB57C,IAAIq5B,EAAUyiB,GAG7B,SAAShC,GAAW1rB,EAAmBzG,GAC7C,IAAKyG,EAAKipB,SACT,MAAM,IAAIpmC,MAAJ,wBAAkCmd,EAAKipB,SAAvC,KAEP,IAAM0E,EAAWH,GAAqB77C,IAAIquB,EAAKipB,UAC/C,OAAO0E,EAAWA,EAASvD,OAAOpqB,EAAMzG,GAAW,CAAE+wB,MAAO,ICL7DmD,GAAiBtnB,EAAAA,GAAAA,IAAc,IAAIgkB,IACnCsD,GAAiBtnB,EAAAA,GAAAA,KAAe,IAAIqkB,IACpCiD,GAAiBtnB,EAAAA,GAAAA,MAAgB,IAAI4kB,IACrC0C,GAAiBtnB,EAAAA,GAAAA,KAAe,IAAIkmB,IACpCoB,GAAiBtnB,EAAAA,GAAAA,KAAe,IAAIomB,IACpCkB,GAAiBtnB,EAAAA,GAAAA,KAAe,IAAIqmB,IACpCiB,GAAiBtnB,EAAAA,GAAAA,KAAe,IAAIsmB,IACpCgB,GAAiBtnB,EAAAA,GAAAA,OAAiB,IAAIumB,IACtCe,GAAiBtnB,EAAAA,GAAAA,KAAe,IAAI8mB,ICTpC,IACMW,GAAmC,CAAC,EAAG,GAOhCC,GAAb,4CACQzD,OAAP,SAAcpqB,EAAmB2G,GAChC,MAOIA,EANHxjB,MAAAA,OADD,MACS8jB,EAAAA,GADT,IAOIN,EALHQ,OAAAA,OAFD,MAEUC,EAAAA,GAFV,IAOIT,EAJHmnB,gBAAAA,OAHD,MAVuB,cAUvB,IAOInnB,EAHHa,OAAAA,OAJD,MAIUomB,GAJV,EAKC9mB,EAEGH,EAFHG,UACAC,EACGJ,EADHI,gBAED,EAAuBS,EAAvB,GAAOxgC,OAAP,MAAW,EAAX,IAAuBwgC,EAAvB,GAAc74B,OAAd,MAAkB,EAAlB,EAGI09B,EAAK,EAMHwJ,EAAO6V,GAAW1rB,EALR,CACfmsB,OAAQ,uBAAW9f,KAuCpB,MArBsB,CACrBz4B,KAAM,MACNy1C,MAAO,CACNlmC,MAAOA,EAAQnc,EACfmgC,OAAQA,EAASx4B,EAKjB+2B,KAAM,OAEPoB,UAAAA,EACAC,gBAAAA,EACAmM,SAAU,CACT7G,GAAI,QAEL+gB,MAAO,CACNU,gBAAAA,GAED1E,SAhC4B,CAC5B,CACCx1C,KAAM,OACNw1C,SAAUvT,EAAKqV,MAEhB,CACCt3C,KAAM,IACN22C,WAAY,CAACzB,GAAU9hD,EAAG2H,IAC1By6C,SAAUvT,EAAKyU,UA5BnB,KCPayD,GAAb,WACC,WACSJ,EACAK,QACP,IADOA,IAAAA,EAAwC,IAAIH,IACnD,KAFOF,SAAAA,EAEP,KADOK,YAAAA,EAHV,2BAWQC,iBAAP,SAAwBC,EAAevnB,QAA+B,IAA/BA,IAAAA,EAAwB,IAC9D,IACC,IAAMwnB,GAAaC,EAAAA,EAAAA,IAAWF,GACxBG,EAAep/C,KAAK++C,YAAY5D,OAAO+D,EAAYxnB,GACzD,OAAO13B,KAAK0+C,SAASvD,OAAOiE,EAAc,IACzC,MAAO/kD,GAER,MADAg9B,QAAQj6B,IAAI,6BAA8B/C,GACpCA,IAlBT,EA4BQglD,YAAP,SACC3jB,EACAhE,EACA4nB,QACC,IAFD5nB,IAAAA,EAAwB,IAGxB,IACC,IAAM6nB,GAAK5Y,EAAAA,EAAAA,IAAiBjL,EAAO4jB,EAAQ5nB,GACrC8nB,EAAOx/C,KAAK++C,YAAY5D,OAAOoE,EAAG3Y,KAAMlP,GAC9C,OAAO13B,KAAK0+C,SAASvD,OAAOqE,EAAMD,EAAG7iB,iBACpC,MAAOriC,GAER,MADAg9B,QAAQj6B,IAAI,wBAAyB/C,GAC/BA,IAvCT,+FCHA,SAASolD,EACRD,EACA/8C,EACAi9C,GAEA,IACC/6C,EASG66C,EATH76C,KACAw1C,EAQGqF,EARHrF,SAFD,EAUIqF,EAPHpF,MAAAA,OAHD,MAGS,GAHT,EAIC+D,EAMGqB,EANHrB,MAJD,EAUIqB,EALHlE,WAAYqE,OALb,MAK8B,GAL9B,IAUIH,EAJHptC,SAAAA,OAND,MAMY,GANZ,IAUIotC,EAHHvb,SAAAA,OAPD,MAOY,CAAE9oC,OAAQ,EAAGiiC,GAAI,WAP7B,EAQCtF,EAEG0nB,EAFH1nB,gBACAD,EACG2nB,EADH3nB,UAEK+nB,EAAkC,eACvCn9C,IAAAA,EACA07C,MAAAA,EACAn/C,UAAW6gD,EAAsBF,IAC9BvF,GAIJhhD,OAAO+3B,KAAK/e,GAAU2c,SAAQ,SAAA4O,GAC7B,IAAMmiB,EAAU1tC,EAASurB,GACnBoiB,EAAiBpiB,EACjBhW,EAAU+3B,EAASI,GACzBF,EAAWG,GAAkB,SAACC,GAAD,OAC5Br4B,EAAQ,OAAD,UAAOsc,EAAP,CAA8B+b,MAAAA,SAGvC,IAAMC,GAAoB9F,GAAY,IACpC33B,QAAO,SAAAre,GAAC,QAAMA,KACd3E,KAAI,SAAC2E,EAAGhJ,GAAJ,MACS,iBAANgJ,EACJA,EACAs7C,EAAiBt7C,EAAM1B,EAAP,KAAetH,EAASukD,MAGvCQ,EAAuB,GAC7B,GAAIroB,EAAW,CACd,IAAMsoB,EAAalc,EAAS7G,GAAf,UACb6iB,EAAiBj+C,KAChB,yBAAOS,IAAI,IAAI26B,GAAI+iB,GACjBtoB,IAGHqoB,EAAWl+C,KAAKm+C,GAEjB,GAAIroB,EAAiB,CACpB,IAAMsoB,EAAYnc,EAAS7G,GAAf,SACZ6iB,EAAiBj+C,KAChB,wBAAMS,IAAI,IAAI26B,GAAIgjB,GAChBtoB,IAGHooB,EAAWl+C,KAAKo+C,GAOjB,OALIF,EAAWhoD,OAAS,IACvB0nD,EAAW,mBAAqBM,EAAW5rC,KAAK,MAG3B+rC,EAAAA,cAAoB17C,EAAMi7C,EAAYK,GAI7D,SAASJ,EAAsBF,GAC9B,IAAMrE,EAAuB,GAQ7B,OAPAqE,EAAe5wB,SAAQ,SAAAzvB,GAClBA,EAAEqF,OAAS6iC,EAAAA,GAAAA,OACd8T,EAAWt5C,KAAX,UAA0B1C,EAAErF,MAA5B,KACUqF,EAAEqF,OAAS6iC,EAAAA,GAAAA,WACrB8T,EAAWt5C,KAAX,aAA6B1C,EAAErF,MAAM,GAArC,KAA4CqF,EAAErF,MAAM,GAApD,QAGKqhD,EAAWpjD,OAAS,EAAIojD,EAAWhnC,KAAK,UAAO7Y,EAKhD,IAAM6kD,EAAb,4CACQnF,OAAP,SAAcqE,EAAgBE,GAC7B,OAAOD,EAAiBD,EAAM,OAAQE,IAFxC,4gBCjFaa,EAAsBF,EAAAA,mBAEjC5kD,GAOW+kD,EAAuBH,EAAAA,mBAElC5kD,2CCtBEglD,EAAS,SAAUp6B,GAGrB,SAASo6B,EAAOC,EAAWC,GACzB,OAAOt6B,EAAO9sB,KAAKyG,OAASA,KAW9B,OAdA,QAAUygD,EAAQp6B,GAMlBo6B,EAAOpnD,UAAUunD,SAAW,SAAUxzB,EAAOyzB,GAK3C,YAJc,IAAVA,IACFA,EAAQ,GAGH7gD,MAGFygD,EAfI,CAgBXr5B,EAAA,IClBS05B,EAAmB,CAC5BC,YAAa,SAAUC,GACrB,SAASD,IACP,OAAOC,EAAa99C,MAAMlD,KAAMjE,WAOlC,OAJAglD,EAAYznD,SAAW,WACrB,OAAO0nD,EAAa1nD,YAGfynD,EATI,EAUX,WAGA,IAFA,IAAIx7B,EAAO,GAEFC,EAAK,EAAGA,EAAKzpB,UAAU7D,OAAQstB,IACtCD,EAAKC,GAAMzpB,UAAUypB,GAGvB,IAAIC,EAAWq7B,EAAiBr7B,SAChC,QAASA,MAAAA,OAA2C,EAASA,EAASs7B,cAAgBA,aAAa79C,WAAM,GAAQ,QAAc,IAAI,QAAOqiB,QAE5I07B,cAAe,SAAUC,GACvB,SAASD,EAAcrsC,GACrB,OAAOssC,EAAeh+C,MAAMlD,KAAMjE,WAOpC,OAJAklD,EAAc3nD,SAAW,WACvB,OAAO4nD,EAAe5nD,YAGjB2nD,EATM,EAUb,SAAUr7B,GACV,IAAIH,EAAWq7B,EAAiBr7B,SAChC,QAASA,MAAAA,OAA2C,EAASA,EAASw7B,gBAAkBA,eAAer7B,MAEzGH,cAAUhqB,YC/BR0lD,EAAc,SAAU96B,GAG1B,SAAS86B,EAAYT,EAAWC,GAC9B,IAAIp6B,EAAQF,EAAO9sB,KAAKyG,KAAM0gD,EAAWC,IAAS3gD,KAKlD,OAHAumB,EAAMm6B,UAAYA,EAClBn6B,EAAMo6B,KAAOA,EACbp6B,EAAM66B,SAAU,EACT76B,EAqGT,OA7GA,QAAU46B,EAAa96B,GAWvB86B,EAAY9nD,UAAUunD,SAAW,SAAUxzB,EAAOyzB,GAKhD,QAJc,IAAVA,IACFA,EAAQ,GAGN7gD,KAAKmnB,OACP,OAAOnnB,KAGTA,KAAKotB,MAAQA,EACb,IAAIgQ,EAAKp9B,KAAKo9B,GACVsjB,EAAY1gD,KAAK0gD,UASrB,OAPU,MAANtjB,IACFp9B,KAAKo9B,GAAKp9B,KAAKqhD,eAAeX,EAAWtjB,EAAIyjB,IAG/C7gD,KAAKohD,SAAU,EACfphD,KAAK6gD,MAAQA,EACb7gD,KAAKo9B,GAAKp9B,KAAKo9B,IAAMp9B,KAAKshD,eAAeZ,EAAW1gD,KAAKo9B,GAAIyjB,GACtD7gD,MAGTmhD,EAAY9nD,UAAUioD,eAAiB,SAAUZ,EAAWa,EAAKV,GAK/D,YAJc,IAAVA,IACFA,EAAQ,GAGHC,EAAiBC,YAAYL,EAAUc,MAAMh6B,KAAKk5B,EAAW1gD,MAAO6gD,IAG7EM,EAAY9nD,UAAUgoD,eAAiB,SAAUI,EAAYrkB,EAAIyjB,GAK/D,QAJc,IAAVA,IACFA,EAAQ,GAGG,MAATA,GAAiB7gD,KAAK6gD,QAAUA,IAA0B,IAAjB7gD,KAAKohD,QAChD,OAAOhkB,EAGT0jB,EAAiBG,cAAc7jB,IAIjC+jB,EAAY9nD,UAAUqoD,QAAU,SAAUt0B,EAAOyzB,GAC/C,GAAI7gD,KAAKmnB,OACP,OAAO,IAAIvT,MAAM,gCAGnB5T,KAAKohD,SAAU,EAEf,IAAI9jD,EAAQ0C,KAAK2hD,SAASv0B,EAAOyzB,GAEjC,GAAIvjD,EACF,OAAOA,GACmB,IAAjB0C,KAAKohD,SAAgC,MAAXphD,KAAKo9B,KACxCp9B,KAAKo9B,GAAKp9B,KAAKqhD,eAAerhD,KAAK0gD,UAAW1gD,KAAKo9B,GAAI,QAI3D+jB,EAAY9nD,UAAUsoD,SAAW,SAAUv0B,EAAOw0B,GAChD,IACIC,EADAC,GAAU,EAGd,IACE9hD,KAAK2gD,KAAKvzB,GACV,MAAOlzB,GACP4nD,GAAU,EACVD,IAAe3nD,GAAKA,GAAK,IAAI0Z,MAAM1Z,GAGrC,GAAI4nD,EAEF,OADA9hD,KAAKknB,cACE26B,GAIXV,EAAY9nD,UAAU6tB,YAAc,WAClC,IAAKlnB,KAAKmnB,OAAQ,CAChB,IACIiW,EADKp9B,KACGo9B,GACRsjB,EAFK1gD,KAEU0gD,UAEfqB,EAAUrB,EAAUqB,QACxB/hD,KAAK2gD,KAAO3gD,KAAKotB,MAAQptB,KAAK0gD,UAAY,KAC1C1gD,KAAKohD,SAAU,GACf,EAAA33B,EAAA,GAAUs4B,EAAS/hD,MAET,MAANo9B,IACFp9B,KAAKo9B,GAAKp9B,KAAKqhD,eAAeX,EAAWtjB,EAAI,OAG/Cp9B,KAAK6gD,MAAQ,KAEbx6B,EAAOhtB,UAAU6tB,YAAY3tB,KAAKyG,QAI/BmhD,EA9GS,CA+GhBV,GClHSuB,EAAyB,CAClCpB,SAAU,SAAkBxpB,GAC1B,IAAI6qB,EAAUC,sBACVC,EAASC,qBACT38B,EAAWu8B,EAAuBv8B,SAElCA,IACFw8B,EAAUx8B,EAASy8B,sBACnBC,EAAS18B,EAAS28B,sBAGpB,IAAIx8B,EAASq8B,GAAQ,SAAUI,GAC7BF,OAAS1mD,EACT27B,EAASirB,MAEX,OAAO,IAAIj7B,EAAA,IAAa,WACtB,OAAO+6B,MAAAA,OAAuC,EAASA,EAAOv8B,OAGlEs8B,sBAAuB,SAAUI,GAC/B,SAASJ,IACP,OAAOI,EAAuBp/C,MAAMlD,KAAMjE,WAO5C,OAJAmmD,EAAsB5oD,SAAW,WAC/B,OAAOgpD,EAAuBhpD,YAGzB4oD,EATc,EAUrB,WAGA,IAFA,IAAI38B,EAAO,GAEFC,EAAK,EAAGA,EAAKzpB,UAAU7D,OAAQstB,IACtCD,EAAKC,GAAMzpB,UAAUypB,GAGvB,IAAIC,EAAWu8B,EAAuBv8B,SACtC,QAASA,MAAAA,OAA2C,EAASA,EAASy8B,wBAA0BA,uBAAuBh/C,WAAM,GAAQ,QAAc,IAAI,QAAOqiB,QAEhK68B,qBAAsB,SAAUG,GAC9B,SAASH,IACP,OAAOG,EAAsBr/C,MAAMlD,KAAMjE,WAO3C,OAJAqmD,EAAqB9oD,SAAW,WAC9B,OAAOipD,EAAsBjpD,YAGxB8oD,EATa,EAUpB,WAGA,IAFA,IAAI78B,EAAO,GAEFC,EAAK,EAAGA,EAAKzpB,UAAU7D,OAAQstB,IACtCD,EAAKC,GAAMzpB,UAAUypB,GAGvB,IAAIC,EAAWu8B,EAAuBv8B,SACtC,QAASA,MAAAA,OAA2C,EAASA,EAAS28B,uBAAyBA,sBAAsBl/C,WAAM,GAAQ,QAAc,IAAI,QAAOqiB,QAE9JE,cAAUhqB,GCzDR+mD,EAAuB,SAAUn8B,GAGnC,SAASm8B,EAAqB9B,EAAWC,GACvC,IAAIp6B,EAAQF,EAAO9sB,KAAKyG,KAAM0gD,EAAWC,IAAS3gD,KAIlD,OAFAumB,EAAMm6B,UAAYA,EAClBn6B,EAAMo6B,KAAOA,EACNp6B,EAmCT,OA1CA,QAAUi8B,EAAsBn8B,GAUhCm8B,EAAqBnpD,UAAUioD,eAAiB,SAAUZ,EAAWtjB,EAAIyjB,GAKvE,YAJc,IAAVA,IACFA,EAAQ,GAGI,OAAVA,GAAkBA,EAAQ,EACrBx6B,EAAOhtB,UAAUioD,eAAe/nD,KAAKyG,KAAM0gD,EAAWtjB,EAAIyjB,IAGnEH,EAAUqB,QAAQ//C,KAAKhC,MAChB0gD,EAAU+B,aAAe/B,EAAU+B,WAAaT,EAAuBE,uBAAsB,WAClG,OAAOxB,EAAUc,WAAM/lD,SAI3B+mD,EAAqBnpD,UAAUgoD,eAAiB,SAAUX,EAAWtjB,EAAIyjB,GAKvE,QAJc,IAAVA,IACFA,EAAQ,GAGG,MAATA,GAAiBA,EAAQ,GAAc,MAATA,GAAiB7gD,KAAK6gD,MAAQ,EAC9D,OAAOx6B,EAAOhtB,UAAUgoD,eAAe9nD,KAAKyG,KAAM0gD,EAAWtjB,EAAIyjB,GAGlC,IAA7BH,EAAUqB,QAAQ7pD,SACpB8pD,EAAuBI,qBAAqBhlB,GAC5CsjB,EAAU+B,gBAAahnD,IAMpB+mD,EA3CkB,CA4CzBrB,GChDSuB,EAAwB,CACjCC,IAAK,WACH,OAAQD,EAAsBj9B,UAAY5gB,MAAM89C,OAElDl9B,cAAUhqB,GCFRmnD,EAAY,WACd,SAASA,EAAUC,EAAqBF,QAC1B,IAARA,IACFA,EAAMC,EAAUD,KAGlB3iD,KAAK6iD,oBAAsBA,EAC3B7iD,KAAK2iD,IAAMA,EAYb,OATAC,EAAUvpD,UAAUunD,SAAW,SAAUD,EAAME,EAAOzzB,GAKpD,YAJc,IAAVyzB,IACFA,EAAQ,GAGH,IAAI7gD,KAAK6iD,oBAAoB7iD,KAAM2gD,GAAMC,SAASxzB,EAAOyzB,IAGlE+B,EAAUD,IAAMD,EAAsBC,IAC/BC,EAnBO,GCCZE,EAA0B,SAAUz8B,GAGtC,SAASy8B,IACP,OAAkB,OAAXz8B,GAAmBA,EAAOnjB,MAAMlD,KAAMjE,YAAciE,KA6B7D,OAhCA,QAAU8iD,EAAyBz8B,GAMnCy8B,EAAwBzpD,UAAUmoD,MAAQ,SAAUuB,GAClD/iD,KAAKgjD,SAAU,EACfhjD,KAAKyiD,gBAAahnD,EAClB,IACI6B,EADAykD,EAAU/hD,KAAK+hD,QAEf5mD,GAAS,EACb4nD,EAASA,GAAUhB,EAAQ9tB,QAC3B,IAAIz3B,EAAQulD,EAAQ7pD,OAEpB,GACE,GAAIoF,EAAQylD,EAAOrB,QAAQqB,EAAO31B,MAAO21B,EAAOlC,OAC9C,cAEO1lD,EAAQqB,IAAUumD,EAAShB,EAAQ9tB,UAI9C,GAFAj0B,KAAKgjD,SAAU,EAEX1lD,EAAO,CACT,OAASnC,EAAQqB,IAAUumD,EAAShB,EAAQ9tB,UAC1C8uB,EAAO77B,cAGT,MAAM5pB,IAIHwlD,EAjCqB,CCAT,SAAUz8B,GAG7B,SAAS48B,EAAeC,EAAiBP,QAC3B,IAARA,IACFA,EAAMC,EAAUD,KAGlB,IAAIp8B,EAAQF,EAAO9sB,KAAKyG,KAAMkjD,EAAiBP,IAAQ3iD,KAKvD,OAHAumB,EAAMw7B,QAAU,GAChBx7B,EAAMy8B,SAAU,EAChBz8B,EAAMk8B,gBAAahnD,EACZ8qB,EA+BT,OA3CA,QAAU08B,EAAgB58B,GAe1B48B,EAAe5pD,UAAUmoD,MAAQ,SAAUuB,GACzC,IAAIhB,EAAU/hD,KAAK+hD,QAEnB,GAAI/hD,KAAKgjD,QACPjB,EAAQ//C,KAAK+gD,OADf,CAKA,IAAIzlD,EACJ0C,KAAKgjD,SAAU,EAEf,GACE,GAAI1lD,EAAQylD,EAAOrB,QAAQqB,EAAO31B,MAAO21B,EAAOlC,OAC9C,YAEKkC,EAAShB,EAAQ9tB,SAI1B,GAFAj0B,KAAKgjD,SAAU,EAEX1lD,EAAO,CACT,KAAOylD,EAAShB,EAAQ9tB,SACtB8uB,EAAO77B,cAGT,MAAM5pB,KAIH2lD,EA5CY,CA6CnBL,IC9CSO,EAA0B,IAAIL,EAAwBN,aCE1D,SAASY,EAAQC,GACtB,OAAO,SAAU1kD,GACf,GALG,SAAiBA,GACtB,OAAO,EAAA2oB,EAAA,GAAW3oB,MAAAA,OAAuC,EAASA,EAAOi0B,MAInE0wB,CAAQ3kD,GACV,OAAOA,EAAOi0B,MAAK,SAAU2wB,GAC3B,IACE,OAAOF,EAAKE,EAAcvjD,MAC1B,MAAO3F,GACP2F,KAAK1C,MAAMjD,OAKjB,MAAM,IAAID,UAAU,+CCbpBopD,EAAqB,SAAUn9B,GAGjC,SAASm9B,EAAmBl9B,EAAam9B,EAAQC,EAAYC,EAASC,GACpE,IAAIr9B,EAAQF,EAAO9sB,KAAKyG,KAAMsmB,IAAgBtmB,KA4B9C,OA1BAumB,EAAMq9B,WAAaA,EACnBr9B,EAAMQ,MAAQ08B,EAAS,SAAUxpD,GAC/B,IACEwpD,EAAOxpD,GACP,MAAOI,GACPisB,EAAYhpB,MAAMjD,KAElBgsB,EAAOhtB,UAAU0tB,MACrBR,EAAMS,OAAS28B,EAAU,SAAUtpD,GACjC,IACEspD,EAAQtpD,GACR,MAAOA,GACPisB,EAAYhpB,MAAMjD,GAClB,QACA2F,KAAKknB,gBAELb,EAAOhtB,UAAU2tB,OACrBT,EAAMU,UAAYy8B,EAAa,WAC7B,IACEA,IACA,MAAOrpD,GACPisB,EAAYhpB,MAAMjD,GAClB,QACA2F,KAAKknB,gBAELb,EAAOhtB,UAAU4tB,UACdV,EAaT,OA5CA,QAAUi9B,EAAoBn9B,GAkC9Bm9B,EAAmBnqD,UAAU6tB,YAAc,WACzC,IAAIsB,EAEArB,EAASnnB,KAAKmnB,OAElBd,EAAOhtB,UAAU6tB,YAAY3tB,KAAKyG,OAEjCmnB,IAAsC,QAA1BqB,EAAKxoB,KAAK4jD,kBAA+B,IAAPp7B,GAAyBA,EAAGjvB,KAAKyG,QAG3EwjD,EA7CgB,SA8CvB,ICAK,IAAMK,GAA8BC,EAAAA,EAAAA,OAAK,YAQ5C,IAPHznB,EAOE,EAPFA,KACA8d,EAME,EANFA,SAOM4J,EAkBP,SACC7vC,EACAgkB,EACA5hB,EACA0tC,EACAC,GAEA,OAAOC,EAAAA,EAAAA,UAAQ,WACd,IAAMvoB,EAAqB,CAAEznB,MAAAA,EAAOgkB,OAAAA,GAUpC,OATI5hB,IACHqlB,EAAKrlB,QAAUA,GAEZ0tC,IACHroB,EAAK9D,UAAYmsB,GAEdC,IACHtoB,EAAK7D,gBAAkBmsB,GAEjBtoB,IACL,CAACznB,EAAOgkB,EAAQ5hB,EAAS2tC,EAAaD,IArCpBG,CADnB,EALFjwC,MAKE,EAJFgkB,OAIE,EAHF5hB,QAGE,EAFF0tC,MAEE,EADFC,aASA,EAiCD,SAAkBF,EAA4B1nB,GAC7C,IAAM+nB,GA2CA1F,GAAW2F,EAAAA,EAAAA,YAAW7D,IACrB0D,EAAAA,EAAAA,UAAQ,kBAAMxF,GAAY,IAAII,EAAAA,EAAaJ,KAAW,CAACA,KA3C9D,EAuBD,SACCqF,GAEA,OAA8BO,EAAAA,EAAAA,eAC7B7oD,GADM46B,EAAP,KAAgBkuB,EAAhB,KAYA,MAAO,EATWL,EAAAA,EAAAA,UACjB,kBACCxoB,EAAAA,EAAAA,KAAM,SAACU,GAEN,OADAmoB,EAAWnoB,GACJA,IACL2nB,KACJ,CAACA,IAGiB1tB,GAtCUmuB,CAAeT,GAArCU,EAAP,KAAkBpuB,EAAlB,KACA,GAAgCiuB,EAAAA,EAAAA,UAAc,MAAvCI,EAAP,KAAiBC,EAAjB,KACQ9uB,EAAS4uB,EAAT5uB,KACF+uB,GAAgBC,EAAAA,EAAAA,cAAY,WACjC,IAAMC,EACLV,GAAYA,EAAS/E,YAAYxpB,EAAMkuB,EAAc1nB,GACtDsoB,EAAYG,KACV,CAACf,EAAc1nB,EAAM+nB,EAAUvuB,IAkCnC,IACO6oB,EAtBN,OAZAqG,EAAAA,EAAAA,YAAU,WACT,GAAIN,GAAaL,EAAU,CAC1B,IAAMjxB,EAAesxB,EAAU7uB,SAC7BxC,MC7GqBstB,ED6GNyC,OC5GJ,IAAVtC,IACFA,EAAQ,GAGHuC,GAAQ,SAAUzkD,EAAQmpB,GAC/BnpB,EAAO+zB,UAAU,IAAI8wB,EAAmB17B,GAAY,SAAU7tB,GAC5D,OAAO6tB,EAAWrB,IAAIi6B,EAAUE,UAAS,WACvC,OAAO94B,EAAWrtB,KAAKR,KACtB4mD,OACF,WACD,OAAO/4B,EAAWrB,IAAIi6B,EAAUE,UAAS,WACvC,OAAO94B,EAAWnB,aACjBk6B,OACF,SAAUxmD,GACX,OAAOytB,EAAWrB,IAAIi6B,EAAUE,UAAS,WACvC,OAAO94B,EAAWxqB,MAAMjD,KACvBwmD,aD+FJnuB,WAAU,kBAAMkyB,OAElB,OADAA,IACO,kBAAMzxB,EAAajM,eClHtB,IAAmBw5B,EAAWG,IDoHjC,CAAC+D,EAAeH,EAAWL,EAAUO,IAEjC,CAACD,EAAUruB,GAvDU2uB,CAASjB,EAAc1nB,GAA5CqoB,EAAP,KAAiBruB,EAAjB,KACA,OACC,gCACC,gBAAC,WAAD,CAA8Bp8B,MAAOo8B,GACnC8jB,GAEDuK,0CEJSO,GAA4BnB,EAAAA,EAAAA,OAAK,YAK1C,IAJH3J,EAIE,EAJFA,SACA56C,EAGE,EAHFA,MACAu5B,EAEE,EAFFA,OACGqL,ECvEW,SAAuCxlC,EAAQumD,GAC5D,GAAc,MAAVvmD,EAAgB,MAAO,GAC3B,IAEI8D,EAAKnK,EAFLsG,EAAS,GACTumD,EAAa/rD,OAAO+3B,KAAKxyB,GAG7B,IAAKrG,EAAI,EAAGA,EAAI6sD,EAAWjtD,OAAQI,IACjCmK,EAAM0iD,EAAW7sD,GACb4sD,EAAS3hD,QAAQd,IAAQ,IAC7B7D,EAAO6D,GAAO9D,EAAO8D,IAGvB,OAAO7D,ED4DN,MACIwmD,GAAMf,EAAAA,EAAAA,YAAW9D,GACjBtkB,GAAOioB,EAAAA,EAAAA,UAAQ,kBAAMmB,EAAAA,EAAAA,IAAQ9lD,EAAOu5B,KAAS,CAACv5B,EAAOu5B,IAY3D,OAQD,SAAsBmD,EAAmBkI,IACxC4gB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKR,UAAU0I,EAAM1I,aACnB,CAACQ,EAAMkI,EAAM1I,aAChBspB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKh+B,OAAOkmC,EAAMlmC,UAChB,CAACg+B,EAAMkI,EAAMlmC,UAChB8mD,EAAAA,EAAAA,YAAU,WACT9oB,EAAKzB,YAAY2J,EAAM3J,eACrB,CAACyB,EAAMkI,EAAM3J,eAChBuqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKxB,YAAY0J,EAAM1J,eACrB,CAACwB,EAAMkI,EAAM1J,eAChBsqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKv/B,MAAMynC,EAAMznC,SACf,CAACu/B,EAAMkI,EAAMznC,SAChBqoD,EAAAA,EAAAA,YAAU,WACT9oB,EAAKvB,UAAUyJ,EAAMzJ,aACnB,CAACuB,EAAMkI,EAAMzJ,aAChBqqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKtB,UAAUwJ,EAAMxJ,aACnB,CAACsB,EAAMkI,EAAMxJ,aAChBoqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKrB,WAAWuJ,EAAMvJ,cACpB,CAACqB,EAAMkI,EAAMvJ,cAChBmqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKpB,UAAUsJ,EAAMtJ,aACnB,CAACoB,EAAMkI,EAAMtJ,aAChBkqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKnB,SAASqJ,EAAMrJ,YAClB,CAACmB,EAAMkI,EAAMrJ,YAChBiqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKlB,UAAUoJ,EAAMpJ,aACnB,CAACkB,EAAMkI,EAAMpJ,aAChBgqB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKjB,aAAamJ,EAAMnJ,gBACtB,CAACiB,EAAMkI,EAAMnJ,gBAChB+pB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKlhC,OAAOopC,EAAMppC,UAChB,CAACkhC,EAAMkI,EAAMppC,UAChBgqD,EAAAA,EAAAA,YAAU,WACT9oB,EAAKhB,OAAOkJ,EAAMlJ,UAChB,CAACgB,EAAMkI,EAAMlJ,UAChB8pB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKf,UAAUiJ,EAAMjJ,aACnB,CAACe,EAAMkI,EAAMjJ,aAChB6pB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKd,cAAcgJ,EAAMhJ,iBACvB,CAACc,EAAMkI,EAAMhJ,iBAChB4pB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKb,WAAW+I,EAAM/I,cACpB,CAACa,EAAMkI,EAAM/I,cAChB2pB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKZ,aAAa8I,EAAM9I,gBACtB,CAACY,EAAMkI,EAAM9I,gBAChB0pB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKX,gBAAgB6I,EAAM7I,mBACzB,CAACW,EAAMkI,EAAM7I,mBAChBypB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKV,WAAW4I,EAAM5I,cACpB,CAACU,EAAMkI,EAAM5I,cAChBwpB,EAAAA,EAAAA,YAAU,WACT9oB,EAAKT,YAAY2I,EAAM3I,eACrB,CAACS,EAAMkI,EAAM3I,cAjFhB8pB,CAAarpB,EAAMkI,IAEnB4gB,EAAAA,EAAAA,YAAU,WACT,GAAIK,EAEH,OADAA,EAAI9uB,KAAK2F,GACF,WACNmpB,EAAI1vB,WAAWuG,MAGf,CAACA,EAAMmpB,IACH,gCAAGjL,MErDJ,wBCKA,SAASoL,EAIf50B,EACA60B,EACAC,QACkB,IADlBA,IAAAA,EAAyB,IAEzB,IAAMp2B,GAA0By0B,EAAAA,EAAAA,OAAK,SAAA3f,GACpC,IAAMihB,GAAMf,EAAAA,EAAAA,YAAW9D,GACjBhhD,GAAQ2kD,EAAAA,EAAAA,UACb,kBAAMkB,GAAOI,EAAYrhB,KADL,CAGnBihB,EACAjhB,GAJmB,eAMhBshB,EAAajmD,KAAI,SAAAqC,GAAC,OAAKsiC,EAActiC,SAW1C,OARAkjD,EAAAA,EAAAA,YAAU,WACT,GAAIK,GAAO7lD,EAEV,OADA6lD,EAAI7lD,MAAMA,GACH,WACN6lD,EAAI9vB,YAAY/1B,MAGhB,CAAC6lD,EAAK7lD,IACF,QAGR,OADA8vB,EAAOsB,YAAcA,EACdtB,EChCD,SAASq2B,EAMf/0B,EACA60B,EACAC,GAEA,YADC,IADDA,IAAAA,EAAyB,IAElBF,EACN50B,EACA60B,EACAC,GC2BK,SAASE,EAKfh1B,EACA60B,EACAC,GAEA,YADC,IADDA,IAAAA,EAAyB,IAElBC,EAKL/0B,EAAa60B,EAAaC,GC1EtB,IAAMG,EAAcD,EAK1B,eACA,gBAAGjsD,EAAH,EAAGA,KAAMyC,EAAT,EAASA,MAAO8B,EAAhB,EAAgBA,OAAQgW,EAAxB,EAAwBA,KAAMpV,EAA9B,EAA8BA,MAAOyB,EAArC,EAAqCA,KAAM7D,EAA3C,EAA2CA,QAAS6Z,EAApD,EAAoDA,QAApD,OACC3V,EAAAA,EAAAA,IAAOjH,GACLuE,OAAOA,GACP9B,MAAMA,GACN8X,KAAKA,GACLpV,MAAMA,GACNyB,KAAKA,GACL7D,QAAQA,GACR6Z,QAAQA,KACX,CAAC,OAAQ,QAAS,SAAU,OAAQ,QAAS,OAAQ,UAAW,YCdpDuvC,GCSWF,EAKvB,YACA,gBAAGjsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAO8X,EAAxB,EAAwBA,KAAMpV,EAA9B,EAA8BA,MAAOyB,EAArC,EAAqCA,KAAM7D,EAA3C,EAA2CA,QAAS6E,EAApD,EAAoDA,KAAMgV,EAA1D,EAA0DA,QAA1D,OACClZ,EAAAA,EAAAA,IAAI1D,GACFuE,OAAOA,GACP9B,MAAMA,GACN8X,KAAKA,GACLpV,MAAMA,GACNyB,KAAKA,GACL7D,QAAQA,GACR6E,KAAKA,GACLgV,QAAQA,KACX,CACC,OACA,SACA,QACA,OACA,QACA,OACA,UACA,OACA,YCzBsBqvC,EAKvB,YACA,gBAAGjsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAO8X,EAAxB,EAAwBA,KAAMpV,EAA9B,EAA8BA,MAAOyB,EAArC,EAAqCA,KAAM7D,EAA3C,EAA2CA,QAASqG,EAApD,EAAoDA,SAAUwT,EAA9D,EAA8DA,QAA9D,OACC/Y,EAAAA,EAAAA,IAAI7D,GACFuE,OAAOA,GACP9B,MAAMA,GACN8X,KAAKA,GACLpV,MAAMA,GACNyB,KAAKA,GACL7D,QAAQA,GACRqG,SAASA,GACTwT,QAAQA,KACX,CACC,OACA,SACA,QACA,OACA,QACA,OACA,UACA,WACA,YC3B6BivC,EAI9B,mBACA,gBAAG7rD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQY,EAAjB,EAAiBA,MAAOqB,EAAxB,EAAwBA,aAAxB,OACC0D,EAAAA,EAAAA,IAAWlK,GAAMuE,OAAOA,GAAQY,MAAMA,GAAOqB,aAAaA,KAC3D,CAAC,OAAQ,SAAU,QAAS,iBHdJylD,EAKxB,aACA,gBAAGjsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAO8X,EAAxB,EAAwBA,KAAMpV,EAA9B,EAA8BA,MAAOyB,EAArC,EAAqCA,KAAM7D,EAA3C,EAA2CA,QAAS6Z,EAApD,EAAoDA,QAApD,OACCja,EAAAA,EAAAA,IAAK3C,GACHuE,OAAOA,GACP9B,MAAMA,GACN8X,KAAKA,GACLpV,MAAMA,GACNyB,KAAKA,GACL7D,QAAQA,GACR6Z,QAAQA,KACX,CAAC,OAAQ,SAAU,QAAS,OAAQ,QAAS,OAAQ,UAAW,aIsBpDwvC,GC9BYH,EAKxB,aACA,gBAAGjsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAO8X,EAAxB,EAAwBA,KAAMpV,EAA9B,EAA8BA,MAAOyB,EAArC,EAAqCA,KAAM7D,EAA3C,EAA2CA,QAAS6Z,EAApD,EAAoDA,QAApD,OACCtQ,EAAAA,EAAAA,IAAKtM,GACHuE,OAAOA,GACP9B,MAAMA,GACN8X,KAAKA,GACLpV,MAAMA,GACNyB,KAAKA,GACL7D,QAAQA,GACR6Z,QAAQA,KACX,CAAC,OAAQ,SAAU,QAAS,OAAQ,QAAS,OAAQ,UAAW,YCtBzCqvC,EAKvB,YACA,gBAAGjsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAO8X,EAAxB,EAAwBA,KAAMpV,EAA9B,EAA8BA,MAAOyB,EAArC,EAAqCA,KAAM7D,EAA3C,EAA2CA,QAAS6Z,EAApD,EAAoDA,QAApD,OACCyvC,EAAAA,EAAAA,IAAIrsD,GACFA,KAAKA,GACLuE,OAAOA,GACP9B,MAAMA,GACN8X,KAAKA,GACLpV,MAAMA,GACNyB,KAAKA,GACL7D,QAAQA,GACR6Z,QAAQA,KACX,CAAC,OAAQ,SAAU,QAAS,OAAQ,QAAS,OAAQ,UAAW,YFqBdovC,EAMlD,aACA,YAWO,IAVNM,EAUK,EAVLA,UACAtsD,EASK,EATLA,KACAuE,EAQK,EARLA,OACA9B,EAOK,EAPLA,MACA4X,EAMK,EANLA,MACAuC,EAKK,EALLA,QACA2vC,EAIK,EAJLA,aACAC,EAGK,EAHLA,aACAppD,EAEK,EAFLA,MACAL,EACK,EADLA,QAEM0pD,EAAgBH,GAAatsD,EAAO,QAC1C,OAAO0sD,EAAAA,EAAAA,IAAK1sD,EAAMysD,GAChBloD,OAAOA,GACP9B,MAAMA,GACN4X,MAAMA,GACNuC,QAAQA,GACR2vC,aAAaA,GACbC,aAAaA,GACbppD,MAAMA,GACNL,QAAQA,KAEX,CACC,YACA,OACA,SACA,QACA,QACA,UACA,eACA,eACA,QACA,aGxDW4pD,EAA0Cd,EACtD,gBACA,gBAAG7rD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAOmqD,EAAxB,EAAwBA,YAAxB,OACC/jD,EAAAA,EAAAA,IAAQ7I,GAAMuE,OAAOA,GAAQ9B,MAAMA,GAAOmqD,YAAYA,KACvD,CAAC,OAAQ,SAAU,QAAS,gBCHhBC,EAAwCb,EACpD,cACA,YAQO,IAPIc,EAOL,EAPLC,SACA/sD,EAMK,EANLA,KACAuE,EAKK,EALLA,OACA9B,EAIK,EAJLA,MACA4X,EAGK,EAHLA,MACAuC,EAEK,EAFLA,QACA7Z,EACK,EADLA,QAEMgqD,EAAWD,GAAgB9sD,EAAO,OACxC,OAAOm0C,EAAAA,EAAAA,IAAMn0C,GACXuE,OAAOA,GACP9B,MAAMA,GACNsqD,SAASA,GACT1yC,MAAMA,GACNuC,QAAQA,GACR7Z,QAAQA,KAEX,CAAC,WAAY,OAAQ,SAAU,QAAS,QAAS,UAAW,YClBhDiqD,EAA4ChB,EACxD,iBACA,gBAAGhsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAOM,EAAxB,EAAwBA,QAAS6D,EAAjC,EAAiCA,KAAM2T,EAAvC,EAAuCA,KAAvC,OACC9Q,EAAAA,EAAAA,IAASzJ,GACPuE,OAAOA,GACP9B,MAAMA,GACNM,QAAQA,GACR6D,KAAKA,GACL2T,KAAKA,KACR,CAAC,OAAQ,SAAU,QAAS,UAAW,OAAQ,SCXnC0yC,EAA4CjB,EACxD,iBACA,gBAAGhsD,EAAH,EAAGA,KAAMuE,EAAT,EAASA,OAAQ9B,EAAjB,EAAiBA,MAAOM,EAAxB,EAAwBA,QAAxB,OACC0G,EAAAA,EAAAA,IAASzJ,GAAMuE,OAAOA,GAAQ9B,MAAMA,GAAOM,QAAQA,KACpD,CAAC,OAAQ,SAAU,QAAS,sBCvBtB,SAASmqD,EACf5qB,EACA6qB,QACc,IADdA,IAAAA,EAAoD,kBAAM,OAE1D,IAAMC,EAAsB,SAAU3iB,GACrC,IAAQgW,EAAgChW,EAAhCgW,SAAU3jB,EAAsB2N,EAAtB3N,MAAO98B,EAAeyqC,EAAfzqC,KAAM+8B,EAAS0N,EAAT1N,KACzBiF,GAAQ2oB,EAAAA,EAAAA,YAAW9D,GACnBxvB,GAAOmzB,EAAAA,EAAAA,UAAQ,kBAAM6C,EAAAA,EAAAA,IAAQ/qB,KAAW,KAyChD,SACCjL,EACAyF,EACAC,EACA/8B,IAEAqrD,EAAAA,EAAAA,YAAU,WACLh0B,GACHA,EAAKyF,MAAMA,KAEV,CAACzF,EAAMyF,KAEVuuB,EAAAA,EAAAA,YAAU,WACLh0B,GACHA,EAAKr3B,KAAKA,KAET,CAACq3B,EAAMr3B,KAEVqrD,EAAAA,EAAAA,YAAU,WACLh0B,GACHA,EAAK0F,KAAKA,KAET,CAAC1F,EAAM0F,IA9DTuwB,CAAwBj2B,EAAMyF,EAAOC,EAAM/8B,GAiE7C,SAA0Bq3B,EAAmBoT,IAC5C4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,EAAmBqI,EAAMpsC,KACnC,CAACg5B,EAAMoT,EAAMpsC,KAChBgtD,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,GAAoBqI,EAAMW,MACpC,CAAC/T,EAAMoT,EAAMW,MAChBigB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,GAAoBqI,EAAMsD,MACpC,CAAC1W,EAAMoT,EAAMsD,MAChBsd,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBqI,EAAMjwB,SACvC,CAAC6c,EAAMoT,EAAMjwB,SAChB6wC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,EAAmBqI,EAAMzkC,KACnC,CAACqxB,EAAMoT,EAAMzkC,KAChBqlD,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,GAAoBqI,EAAMY,MACpC,CAAChU,EAAMoT,EAAMY,MAChBggB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,GAAoBqI,EAAMuD,MACpC,CAAC3W,EAAMoT,EAAMuD,MAChBqd,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,OAAwBqI,EAAMjM,UACxC,CAACnH,EAAMoT,EAAMjM,UAChB6sB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,QAAyBqI,EAAM1yB,WACzC,CAACsf,EAAMoT,EAAM1yB,WAChBszC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAMrwB,QACtC,CAACid,EAAMoT,EAAMrwB,QAChBixC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAMoW,eAC7C,CAACxpB,EAAMoT,EAAMoW,eAChBwK,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,OAAwBqI,EAAMtF,UACxC,CAAC9N,EAAMoT,EAAMtF,UAChBkmB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,cAA+BqI,EAAMqW,iBAC/C,CAACzpB,EAAMoT,EAAMqW,iBAChBuK,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAMrF,eAC7C,CAAC/N,EAAMoT,EAAMrF,eAChBimB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,UAA2BqI,EAAMwW,aAC3C,CAAC5pB,EAAMoT,EAAMwW,aAChBoK,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,WAA4BqI,EAAM0W,cAC5C,CAAC9pB,EAAMoT,EAAM0W,cAChBkK,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,iBAAkCqI,EAAM4W,oBAClD,CAAChqB,EAAMoT,EAAM4W,oBAChBgK,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,WAA4BqI,EAAMsW,cAC5C,CAAC1pB,EAAMoT,EAAMsW,cAChBsK,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,iBAAkCqI,EAAM8iB,oBAClD,CAACl2B,EAAMoT,EAAM8iB,oBAChBlC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,OAAwBqI,EAAM+iB,UACxC,CAACn2B,EAAMoT,EAAM+iB,UAChBnC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAMgjB,QACtC,CAACp2B,EAAMoT,EAAMgjB,QAChBpC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,QAAyBqI,EAAMijB,WACzC,CAACr2B,EAAMoT,EAAMijB,WAChBrC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,OAAwBqI,EAAMkjB,UACxC,CAACt2B,EAAMoT,EAAMkjB,UAChBtC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,SAA0BqI,EAAMF,YAC1C,CAAClT,EAAMoT,EAAMF,YAChB8gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,UAA2BqI,EAAMtM,aAC3C,CAAC9G,EAAMoT,EAAMtM,aAChBktB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,gBAAiCqI,EAAMrM,mBACjD,CAAC/G,EAAMoT,EAAMrM,mBAChBitB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,SAA0BqI,EAAM8W,YAC1C,CAAClqB,EAAMoT,EAAM8W,WAjJfqM,CAAiBv2B,EAAMoT,GAoJzB,SAAyBpT,EAAmBoT,IAC3C4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,SAAUue,EAAMojB,UAC1B,CAACx2B,EAAMoT,EAAMojB,UAChBxC,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,QAASue,EAAMqjB,SACzB,CAACz2B,EAAMoT,EAAMqjB,SAChBzC,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,UAAWue,EAAMsjB,WAC3B,CAAC12B,EAAMoT,EAAMsjB,WAChB1C,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,YAAaue,EAAMujB,aAC7B,CAAC32B,EAAMoT,EAAMujB,aAChB3C,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,aAAcue,EAAMwjB,cAC9B,CAAC52B,EAAMoT,EAAMwjB,cAChB5C,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,UAAWue,EAAMyjB,WAC3B,CAAC72B,EAAMoT,EAAMyjB,WAChB7C,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,UAAWue,EAAM0jB,WAC3B,CAAC92B,EAAMoT,EAAM0jB,WAChB9C,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,SAAUue,EAAM2jB,UAC1B,CAAC/2B,EAAMoT,EAAM2jB,UAChB/C,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,UAAWue,EAAM4jB,WAC3B,CAACh3B,EAAMoT,EAAM4jB,WAChBhD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,gBAAiBue,EAAM6jB,iBACjC,CAACj3B,EAAMoT,EAAM6jB,iBAChBjD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,gBAAiBue,EAAM8jB,iBACjC,CAACl3B,EAAMoT,EAAM8jB,iBAChBlD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,SAAUue,EAAM+jB,UAC1B,CAACn3B,EAAMoT,EAAM+jB,UAChBnD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,YAAaue,EAAMgkB,aAC7B,CAACp3B,EAAMoT,EAAMgkB,aAChBpD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAMikB,eAC/B,CAACr3B,EAAMoT,EAAMikB,eAChBrD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,aAAcue,EAAMkkB,cAC9B,CAACt3B,EAAMoT,EAAMkkB,cAChBtD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAMmkB,eAC/B,CAACv3B,EAAMoT,EAAMmkB,eAChBvD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,aAAcue,EAAMokB,cAC9B,CAACx3B,EAAMoT,EAAMokB,cAChBxD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAMqkB,eAC/B,CAACz3B,EAAMoT,EAAMqkB,eAChBzD,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,SAAUue,EAAMskB,UAC1B,CAAC13B,EAAMoT,EAAMskB,UAChB1D,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAMukB,eAC/B,CAAC33B,EAAMoT,EAAMukB,eAChB3D,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,eAAgBue,EAAMwkB,gBAChC,CAAC53B,EAAMoT,EAAMwkB,gBAChB5D,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,eAAgBue,EAAMykB,gBAChC,CAAC73B,EAAMoT,EAAMykB,gBAChB7D,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAM0kB,eAC/B,CAAC93B,EAAMoT,EAAM0kB,eAChB9D,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,aAAcue,EAAM2kB,cAC9B,CAAC/3B,EAAMoT,EAAM2kB,cAChB/D,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAM4kB,eAC/B,CAACh4B,EAAMoT,EAAM4kB,eAChBhE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,YAAaue,EAAM6kB,aAC7B,CAACj4B,EAAMoT,EAAM6kB,aAChBjE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,gBAAiBue,EAAM8kB,iBACjC,CAACl4B,EAAMoT,EAAM8kB,iBAChBlE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,gBAAiBue,EAAM+kB,iBACjC,CAACn4B,EAAMoT,EAAM+kB,iBAChBnE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAMglB,eAC/B,CAACp4B,EAAMoT,EAAMglB,eAChBpE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,kBAAmBue,EAAMilB,mBACnC,CAACr4B,EAAMoT,EAAMilB,mBAChBrE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,sBAAuBue,EAAMklB,uBACvC,CAACt4B,EAAMoT,EAAMklB,uBAChBtE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,uBAAwBue,EAAMmlB,wBACxC,CAACv4B,EAAMoT,EAAMmlB,wBAChBvE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,iBAAkBue,EAAMolB,kBAClC,CAACx4B,EAAMoT,EAAMolB,kBAChBxE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,iBAAkBue,EAAMqlB,kBAClC,CAACz4B,EAAMoT,EAAMqlB,kBAChBzE,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,gBAAiBue,EAAMslB,iBACjC,CAAC14B,EAAMoT,EAAMslB,iBAChB1E,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,eAAgBue,EAAMulB,gBAChC,CAAC34B,EAAMoT,EAAMulB,gBAChB3E,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,WAAYue,EAAMwlB,YAC5B,CAAC54B,EAAMoT,EAAMwlB,YAChB5E,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,gBAAiBue,EAAMylB,iBACjC,CAAC74B,EAAMoT,EAAMylB,iBAChB7E,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,aAAcue,EAAM0lB,cAC9B,CAAC94B,EAAMoT,EAAM0lB,cAChB9E,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,cAAeue,EAAM2lB,eAC/B,CAAC/4B,EAAMoT,EAAM2lB,eAChB/E,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,eAAgBue,EAAM4lB,gBAChC,CAACh5B,EAAMoT,EAAM4lB,gBAChBhF,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,WAAYue,EAAM6lB,YAC5B,CAACj5B,EAAMoT,EAAM6lB,YAChBjF,EAAAA,EAAAA,YAAU,WACTh0B,EAAKnL,OAAO,UAAWue,EAAM8lB,WAC3B,CAACl5B,EAAMoT,EAAM8lB,UApRfC,CAAgBn5B,EAAMoT,GACtB0iB,EAAW91B,EAAMoT,GACjB,IAAM/H,EAWR,SACCV,EACA3K,EACAo5B,GAEA,OAAwC7F,EAAAA,EAAAA,YAAjC8F,EAAP,KAAqBC,EAArB,KAiBA,OAdAtF,EAAAA,EAAAA,YAAU,WACT,GAAIrpB,GAAS3K,EAQZ,OAPIo5B,EAEHzuB,EAAM3K,KAAKA,EAAKoG,OAAM,SAAAh+B,GAAC,OAAIkxD,EAAgBlxD,OAG3CkxD,EAAgB3uB,EAAM3K,KAAKA,IAErB,WACN2K,EAAMlG,WAAWzE,MAGjB,CAACo5B,EAAUzuB,EAAO3K,IACdq5B,EAjCOE,CAAe5uB,EAAO3K,EAAMiL,IAAa9E,EAAAA,GAAAA,OACtD,OACC,gBAAC,WAAD,CAA8Bj9B,MAAOmiC,GACnC+d,IAKJ,OADA2M,EAAOn2B,YAAcqL,EACd8qB,ECRWF,EAClB1vB,EAAAA,GAAAA,KACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,WAA4BqI,EAAMkH,cAC5C,CAACta,EAAMoT,EAAMkH,cAChB0Z,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,SAA0BqI,EAAMoH,YAC1C,CAACxa,EAAMoT,EAAMoH,YAChBwZ,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,SAA0BqI,EAAMsH,YAC1C,CAAC1a,EAAMoT,EAAMsH,YAChBsZ,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAM8G,eAC7C,CAACla,EAAMoT,EAAM8G,eAChB8Z,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAMgH,eAC7C,CAACpa,EAAMoT,EAAMgH,eAChB4Z,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,aAA8BqI,EAAM4K,gBAC9C,CAAChe,EAAMoT,EAAM4K,kBApBX,ICAMwb,EAAO3D,EACnB1vB,EAAAA,GAAAA,MACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,OAAwBqI,EAAMrL,UACxC,CAAC/H,EAAMoT,EAAMrL,UAChBisB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAMjmC,eAC7C,CAAC6yB,EAAMoT,EAAMjmC,eAChB6mD,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,QAAyBqI,EAAMsS,WACzC,CAAC1lB,EAAMoT,EAAMsS,WAChBsO,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,QAAyBqI,EAAMmJ,WACzC,CAACvc,EAAMoT,EAAMmJ,aChBLkd,EAAQ5D,EACpB1vB,EAAAA,GAAAA,OACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAKkG,MAAMkN,EAAMlN,SACf,CAAClG,EAAMoT,EAAMlN,SAChB8tB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAM2Y,QACtC,CAAC/rB,EAAMoT,EAAM2Y,QAChBiI,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,aAA8BqI,EAAM4K,gBAC9C,CAAChe,EAAMoT,EAAM4K,kBCXL0b,EAAO7D,EACnB1vB,EAAAA,GAAAA,MACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAMjmC,eAC7C,CAAC6yB,EAAMoT,EAAMjmC,eAChB6mD,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,QAAyBqI,EAAMsS,WACzC,CAAC1lB,EAAMoT,EAAMsS,WAChBsO,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,QAAyBqI,EAAMmJ,WACzC,CAACvc,EAAMoT,EAAMmJ,aCdLod,GCAO9D,EACnB1vB,EAAAA,GAAAA,MACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAMwE,QACtC,CAAC5X,EAAMoT,EAAMwE,UDLEie,EACnB1vB,EAAAA,GAAAA,MACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,aAA8BqI,EAAM4K,gBAC9C,CAAChe,EAAMoT,EAAM4K,mBEbL4b,EAAO/D,EAA+B1vB,EAAAA,GAAAA,MC2BtC0zB,GCjBShE,EACrB1vB,EAAAA,GAAAA,QACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAMwK,QACtC,CAAC5d,EAAMoT,EAAMwK,QAChBoW,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBqI,EAAM3L,SACvC,CAACzH,EAAMoT,EAAM3L,WDSEouB,EACnB1vB,EAAAA,GAAAA,MACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBqI,EAAMpwB,SACvC,CAACgd,EAAMoT,EAAMpwB,SAChBgxC,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBqI,EAAM2Z,SACvC,CAAC/sB,EAAMoT,EAAM2Z,SAChBiH,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,SAA0BqI,EAAM1E,YAC1C,CAAC1O,EAAMoT,EAAM1E,YAChBslB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,IAAqBqI,EAAM0mB,OACrC,CAAC95B,EAAMoT,EAAM0mB,OAChB9F,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,GAAoBqI,EAAMmG,MACpC,CAACvZ,EAAMoT,EAAMmG,MAChBya,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,GAAoBqI,EAAMqG,MACpC,CAACzZ,EAAMoT,EAAMqG,MAChBua,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,SAA0BqI,EAAM2mB,YAC1C,CAAC/5B,EAAMoT,EAAM2mB,YAChB/F,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAMjF,QACtC,CAACnO,EAAMoT,EAAMjF,QAChB6lB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,WAA4BqI,EAAMhF,cAC5C,CAACpO,EAAMoT,EAAMhF,cAChB4lB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,YAA6BqI,EAAMma,eAC7C,CAACvtB,EAAMoT,EAAMma,eAChByG,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,UAA2BqI,EAAMka,aAC3C,CAACttB,EAAMoT,EAAMka,aAChB0G,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBqI,EAAM4mB,SACvC,CAACh6B,EAAMoT,EAAM4mB,SAChBhG,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,OAAwBqI,EAAMgN,UACxC,CAACpgB,EAAMoT,EAAMgN,UAChB4T,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAM/E,QACtC,CAACrO,EAAMoT,EAAM/E,QAChB2lB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBqI,EAAMnE,SACvC,CAACjP,EAAMoT,EAAMnE,YElElB,SAASgrB,EAAiBxyB,GACzB,OAAOouB,EACN1vB,EAAAA,GAAAA,QACA,SAACnG,EAAmBoT,IACnB4gB,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,KAAsBqI,EAAMwK,QACtC,CAAC5d,EAAMoT,EAAMwK,QAChBoW,EAAAA,EAAAA,YAAU,WACTh0B,EAAK+F,OAAOgF,EAAAA,GAAAA,MAAuBtD,KACjC,CAACzH,OASA,IAAMk6B,EAASD,EAAiB9jB,EAAAA,GAAAA,QC7B1BgkB,GDmCQF,EAAiB9jB,EAAAA,GAAAA,OAMf8jB,EAAiB9jB,EAAAA,GAAAA,SAMlB8jB,EAAiB9jB,EAAAA,GAAAA,QAMX8jB,EAAiB9jB,EAAAA,GAAAA,cAMnB8jB,EAAiB9jB,EAAAA,GAAAA,YAMf8jB,EAAiB9jB,EAAAA,GAAAA,cAMhB8jB,EAAiB9jB,EAAAA,GAAAA,eCvEdsZ,EAAqB2K,iaCJ/BC,EAAtB,wCAgCQj1B,MAAQ,SAAC5I,GACf,IAAK,EAAK89B,UACT,MAAM,IAAIz3C,MAAM,8BAEjB,OAAO,EAAK4xC,YAAYj4B,IApC1B,2BASQ7zB,KAAP,SAAYO,GAEX,OADA+F,KAAKqrD,UAAYpxD,EACV+F,MAXT,EAkBQ/B,OAAP,SAAcsvB,GAWb,MAVmB,mBAARA,EACVvtB,KAAKsrD,YAAc/9B,EACTx0B,MAAMC,QAAQu0B,GACxBvtB,KAAKsrD,YAAc,kBAAM/9B,QACP9xB,IAAR8xB,GAAoC,iBAARA,EACtCvtB,KAAKurD,gBAAkBh+B,GAEvBvtB,KAAKsrD,iBAAc7vD,EACnBuE,KAAKurD,qBAAkB9vD,GAEjBuE,MA7BT,EAiDWwrD,oBAAV,SAA8BzwD,GAC7B,OAAOA,GAlDT,EAqDW0wD,UAAV,SAAoBlmC,GACnB,OAAIvlB,KAAKsrD,YACDtrD,KAAKsrD,YAAY/lC,GACbvlB,KAAK0rD,WAAc1rD,KAAK2rD,UAI5B3rD,KAAK4rD,0BAA0BrmC,GAF/BvlB,KAAK6rD,eA1Df,EAgESD,0BAAR,SAAkCrmC,GACjC,IAAMiR,EAAQx2B,KAAK0rD,UACbrpC,EAAQriB,KAAK2rD,UACnB,IAAKn1B,IAAUnU,EACd,MAAM,IAAIzO,MACT,8GAGF,IAAMyoB,EAAO9W,EAAK8W,KAAK7F,GACvB,IAAK6F,EACJ,MAAM,IAAIzoB,MAAJ,2CAAqD4iB,GAE5D,IAAMs1B,EAAezvB,EAAK78B,KAAI,SAACpH,GAAD,OAAYsK,GAAAA,CAAItK,EAAGiqB,MAEjD,OADeriB,KAAKwrD,oBAAoBM,KA7E1C,mCA4CC,WAEC,MAAO,CAAC,EAAG,KA9Cb,2BAiFC,WACC,IAAMC,EAAa/rD,KAAKurD,gBACxB,IAAKQ,EACJ,MAAM,IAAIn4C,MAAM,2CAEjB,MAA6B,iBAAfm4C,EACX,CAACA,GACAA,IAxFN,qBA2FC,WACC,IAAMvkC,EAAOxnB,KAAKurD,gBAClB,GAAK/jC,EAAL,CAGA,IAAMwkC,EAAaxkC,EAAKjkB,QAAQ,KAChC,IAAoB,IAAhByoD,EAIJ,OADkBxkC,EAAKhuB,MAAM,EAAGwyD,MApGlC,qBAwGC,WACC,IAAMxkC,EAAOxnB,KAAKurD,gBAClB,GAAK/jC,EAAL,CAGA,IAAMwkC,EAAaxkC,EAAKjkB,QAAQ,KAChC,IAAoB,IAAhByoD,EAIJ,OADkBxkC,EAAKhuB,MAAMwyD,EAAa,QAjH5C,KCPO,SAASC,EACfhyD,EACAiyD,EACAC,EACAC,GAEA,OAAqB,IAAdF,EACJC,OACU1wD,IAAVxB,EACAmyD,EACAnyD,ECNG,IAAeoyD,EAAtB,sGASQlwD,MAAP,SACCoxB,GAYA,MAVmB,mBAARA,EACVvtB,KAAKssD,WAAa/+B,EACRx0B,MAAMC,QAAQu0B,GACxBvtB,KAAKssD,WAAa,kBAAM/+B,QACC9xB,WAAR8xB,EACjBvtB,KAAKusD,eAAiBh/B,GAEtBvtB,KAAKssD,gBAAa7wD,EAClBuE,KAAKusD,oBAAiB9wD,GAEhBuE,MAtBT,EAyBQvD,QAAP,SAAe+vD,GAOd,OANAxsD,KAAKysD,aAAeR,EACnBO,EACAzwD,UAAU7D,QACV,GACA,GAEM8H,MAhCT,EAuCW0sD,SAAV,SAAmBnnC,GAClB,IAAMppB,EAAQ6D,KAAK2sD,eAAepnC,GAElC,OADevlB,KAAKysD,aAAezsD,KAAK4sD,aAAazwD,GAASA,GAzChE,EA6CWywD,aAAV,SAAuBzwD,GACtB,IAAMkzB,GAAW,OAAQlzB,GACzB,OAAOM,GAAAA,CAAQ4yB,IA/CjB,EAsDSs9B,eAAR,SAAuBpnC,GACtB,GAAIvlB,KAAKssD,WACR,OAAOtsD,KAAKssD,WAAW/mC,GAEvB,IAAMsnC,EAAY7sD,KAAKusD,eACvB,OAAKM,EAGG7sD,KAAK8sD,gBAAgBvnC,EAAMsnC,GAF3B7sD,KAAK+sD,eA5DhB,kCAkDC,WACC,MAAO,CAAC,EAAG,OAnDb,GAIU3B,GCbV,SAAS3yD,EAA2BC,EAAGC,GAAkB,IAAIC,EAAuB,oBAAXC,QAA0BH,EAAEG,OAAOC,WAAaJ,EAAE,cAAe,IAAKE,EAAI,CAAE,GAAIG,MAAMC,QAAQN,KAAOE,EAE9K,SAAqCF,EAAGO,GAAU,IAAKP,EAAG,OAAQ,GAAiB,iBAANA,EAAgB,OAAOQ,EAAkBR,EAAGO,GAAS,IAAIE,EAAIC,OAAOC,UAAUC,SAASC,KAAKb,GAAGc,MAAM,GAAI,GAAc,WAANL,GAAkBT,EAAEe,cAAaN,EAAIT,EAAEe,YAAYC,MAAM,GAAU,QAANP,GAAqB,QAANA,EAAa,OAAOJ,MAAMY,KAAKjB,GAAI,GAAU,cAANS,GAAqB,2CAA2CS,KAAKT,GAAI,OAAOD,EAAkBR,EAAGO,GAFnOY,CAA4BnB,KAAOC,GAAkBD,GAAyB,iBAAbA,EAAER,OAAqB,CAAMU,IAAIF,EAAIE,GAAI,IAAIN,EAAI,EAAOwB,EAAI,aAAiB,MAAO,CAAEC,EAAGD,EAAGX,EAAG,WAAe,OAAIb,GAAKI,EAAER,OAAe,CAAE8B,MAAM,GAAe,CAAEA,MAAM,EAAOC,MAAOvB,EAAEJ,OAAW4B,EAAG,SAAWC,GAAM,MAAMA,GAAOvC,EAAGkC,GAAO,MAAM,IAAIM,UAAU,yIAA4I,IAA6CC,EAAzCC,GAAmB,EAAMC,GAAS,EAAY,MAAO,CAAER,EAAG,WAAenB,EAAKA,EAAGW,KAAKb,IAAOS,EAAG,WAAe,IAAIqB,EAAO5B,EAAG6B,OAAsC,OAA9BH,EAAmBE,EAAKR,KAAaQ,GAASN,EAAG,SAAWQ,GAAOH,GAAS,EAAMF,EAAMK,GAAQ9C,EAAG,WAAe,IAAW0C,GAAiC,MAAb1B,EAAG+B,QAAgB/B,EAAG+B,SAAY,QAAU,GAAIJ,EAAQ,MAAMF,KAIz9B,SAASnB,EAAkB0B,EAAKC,IAAkB,MAAPA,GAAeA,EAAMD,EAAI1C,UAAQ2C,EAAMD,EAAI1C,QAAQ,IAAK,IAAII,EAAI,EAAGwC,EAAO,IAAI/B,MAAM8B,GAAMvC,EAAIuC,EAAKvC,IAAOwC,EAAKxC,GAAKsC,EAAItC,GAAM,OAAOwC,EAEjK,SAAS,EAACC,EAAQC,GAC/B,IAAIuD,EACAtC,EAEJ,QAAgBR,IAAZT,EAAuB,CACzB,IACIE,EADAD,EAAYxC,EAA2BsC,GAG3C,IACE,IAAKE,EAAUlB,MAAOmB,EAAQD,EAAU9B,KAAKa,MAAO,CAClD,IAAIC,EAAQiB,EAAMjB,MAEL,MAATA,SACUwB,IAAR8C,EACEtE,GAASA,IAAOsE,EAAMtC,EAAMhC,IAE5BsE,EAAMtE,IAAOsE,EAAMtE,GACnBgC,EAAMhC,IAAOgC,EAAMhC,MAI7B,MAAOI,GACPY,EAAUf,EAAEG,GACZ,QACAY,EAAUrD,SAEP,CACL,IAGIyD,EAHAF,GAAS,EAETC,EAAa3C,EAA2BsC,GAG5C,IACE,IAAKK,EAAWrB,MAAOsB,EAASD,EAAWjC,KAAKa,MAAO,CACrD,IAAIsB,EAASD,EAAOpB,MAE+B,OAA9CqB,EAASN,EAAQM,IAAUH,EAAOJ,WACzBU,IAAR8C,EACEjD,GAAUA,IAAQiD,EAAMtC,EAAMX,IAE9BiD,EAAMjD,IAAQiD,EAAMjD,GACpBW,EAAMX,IAAQW,EAAMX,MAI9B,MAAOjB,GACPe,EAAWlB,EAAEG,GACb,QACAe,EAAWxD,KAIf,MAAO,CAAC2G,EAAKtC,iBC9CFyqD,EAAb,sGAOQoG,gBAAP,WACC,MAAM,IAAIl5C,MAAM,+CARlB,EAcQtT,KAAP,SAAYrG,GAEX,OADA+F,KAAKgtD,UAAYf,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC1D8H,MAhBT,EAwBQiU,KAAP,SAAYha,GAEX,OADA+F,KAAKitD,UAAYhB,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC1D8H,MA1BT,EA6BQwlD,YAAP,SAAmBjgC,GAA6B,IAAD,EACxCtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GAEtBhmB,GAAmC2tD,EAAAA,EAAAA,KACvCjvD,OAAOA,GACP9B,MAAMA,GAGR,GADA6D,KAAKmtD,UAAU5tD,IACVS,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,8BAEjB,OAAO,EAAP,IACE5T,KAAKqrD,WAAY9rD,EADnB,GAzCF,EA8CWisD,oBAAV,SACCzwD,GAEA,IAAMs0B,EAAS+9B,EAAOryD,GAEtB,GAAIiF,KAAKitD,YAAcjtD,KAAKqtD,mBAAmBh+B,GAAS,CACvD,IAAO9wB,EAAY8wB,EAAnB,GAAYpzB,EAAOozB,EAAnB,GAEA,OAAO,EAAI9wB,EAAM,CADJ,EACWtC,GAAO,CAACsC,EADnB,GAGd,OAAO8wB,GAxDT,EA2DWg+B,mBAAV,SAA6BpvD,GAC5B,OAAO,GAAKA,EAAO,IAAM,GAAKA,EAAO,IA5DvC,EA+DSkvD,UAAR,SAAkB5tD,GACjB,IAAMqC,EAAI5B,KAAKgtD,UACN,MAALprD,KACO,IAANA,EACHrC,EAAMe,OACiB,iBAANsB,GACjBrC,EAAMe,KAAKsB,KArEf,GAGUyqD,2CCXK,SAASjG,IACtB,IAKI5rD,EACAimC,EANAlhC,GAAQ,EAAAgD,EAAA,KAAUzD,aAAQrD,GAC1BwC,EAASsB,EAAMtB,OACfqvD,EAAe/tD,EAAMpD,MACrBU,EAAK,EACLE,EAAK,EAGLD,GAAQ,EACRopD,EAAe,EACfD,EAAe,EACflyC,EAAQ,GAGZ,SAAS1U,IACP,IAAIlG,EAAI8E,IAAS/F,OACbuE,EAAUM,EAAKF,EACff,EAAQW,EAAUM,EAAKF,EACvBhB,EAAOY,EAAUI,EAAKE,EAC1BvC,GAAQqB,EAAOC,GAASE,KAAKC,IAAI,EAAG9C,EAAI+sD,EAA8B,EAAfD,GACnDnpD,IAAOtC,EAAOwB,KAAKmB,MAAM3C,IAC7BsB,IAAUD,EAAOC,EAAQtB,GAAQrB,EAAI+sD,IAAiBnyC,EACtD0sB,EAAYjmC,GAAQ,EAAI0rD,GACpBppD,IAAOhB,EAAQE,KAAKc,MAAMhB,GAAQ2kC,EAAYzkC,KAAKc,MAAM2jC,IAC7D,IAAI1lC,GAAS,OAAS5B,GAAGqG,KAAI,SAAUlH,GACrC,OAAOwD,EAAQtB,EAAOlC,KAExB,OAAOg1D,EAAa7wD,EAAU1B,EAAO0B,UAAY1B,GAmDnD,cAlEOwE,EAAMT,QAkBbS,EAAMtB,OAAS,SAAU0B,GACvB,OAAO5D,UAAU7D,QAAU+F,EAAO0B,GAAIN,KAAapB,KAGrDsB,EAAMpD,MAAQ,SAAUwD,GACtB,IAAIyD,EAAMC,EAEV,OAAOtH,UAAU7D,QAAWkL,EAAOzD,EAAG0D,GAAQ,OAAeD,EAAM,GAAIvG,EAAKwG,EAAM,GAAItG,EAAKsG,EAAM,GAAWxG,GAAMA,EAAIE,GAAMA,EAAIsC,KAAa,CAACxC,EAAIE,IAGpJwC,EAAMK,WAAa,SAAUD,GAC3B,IAAI+D,EAAOC,EAEX,OAAQD,EAAQ/D,EAAGgE,GAAQ,OAAeD,EAAO,GAAI7G,EAAK8G,EAAM,GAAI5G,EAAK4G,EAAM,GAAY9G,GAAMA,EAAIE,GAAMA,EAAID,GAAQ,EAAMuC,KAG/HE,EAAMkhC,UAAY,WAChB,OAAOA,GAGTlhC,EAAM/E,KAAO,WACX,OAAOA,GAGT+E,EAAMzC,MAAQ,SAAU6C,GACtB,OAAO5D,UAAU7D,QAAU4E,IAAU6C,EAAGN,KAAavC,GAGvDyC,EAAM+W,QAAU,SAAU3W,GACxB,OAAO5D,UAAU7D,QAAUguD,EAAelqD,KAAKuC,IAAI,EAAG0nD,GAAgBtmD,GAAIN,KAAa6mD,GAGzF3mD,EAAM2mD,aAAe,SAAUvmD,GAC7B,OAAO5D,UAAU7D,QAAUguD,EAAelqD,KAAKuC,IAAI,EAAGoB,GAAIN,KAAa6mD,GAGzE3mD,EAAM0mD,aAAe,SAAUtmD,GAC7B,OAAO5D,UAAU7D,QAAU+tD,GAAgBtmD,EAAGN,KAAa4mD,GAG7D1mD,EAAMwU,MAAQ,SAAUpU,GACtB,OAAO5D,UAAU7D,QAAU6b,EAAQ/X,KAAKC,IAAI,EAAGD,KAAKuC,IAAI,EAAGoB,IAAKN,KAAa0U,GAG/ExU,EAAMb,KAAO,WACX,OAAO0nD,EAAKnoD,IAAU,CAACpB,EAAIE,IAAKD,MAAMA,GAAOopD,aAAaA,GAAcD,aAAaA,GAAclyC,MAAMA,IAGpGsvC,EAAA,QAAgBhkD,IAAWtD,WAGpC,SAASwxD,EAAShuD,GAChB,IAAIb,EAAOa,EAAMb,KASjB,OARAa,EAAM+W,QAAU/W,EAAM0mD,oBACf1mD,EAAM2mD,oBACN3mD,EAAM0mD,aAEb1mD,EAAMb,KAAO,WACX,OAAO6uD,EAAS7uD,MAGXa,gBCxFF,SAASiuD,EACfjoC,EACAkoC,GAEA,MAEIloC,EADHmY,WAAc3lC,EADf,EACeA,EAAG2H,EADlB,EACkBA,EAIlB,OAAO+tD,IAAclmB,EAAAA,GAAAA,OAAmB7nC,EAAI3H,EC0BtC,IC6CK21D,ED7CC5H,EAAb,sGAeQ6H,cAAP,SAAqB1zD,GAEpB,OADA+F,KAAK4tD,eAAiB3zD,EACf+F,MAjBT,EAuBQsW,QAAP,SAAerc,GAEd,OADA+F,KAAK6tD,aAAe5zD,EACb+F,MAzBT,EA+BQkmD,aAAP,SAAoBjsD,GAEnB,OADA+F,KAAK8tD,kBAAoB7zD,EAClB+F,MAjCT,EAuCQimD,aAAP,SAAoBhsD,GAEnB,OADA+F,KAAK+tD,kBAAoB9zD,EAClB+F,MAzCT,EA+CQ+T,MAAP,SAAa9Z,GAEZ,OADA+F,KAAKguD,WAAa/zD,EACX+F,MAjDT,EAoDQlD,MAAP,SAAa7C,GAEZ,OADA+F,KAAKiuD,WAAah0D,EACX+F,MAtDT,EAyDWwlD,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GACtB2oC,EAAYC,IAChBlwD,OAAOA,EAAOuB,KAAI,SAAApH,GAAC,MAAI,GAAKA,MAC5B+D,MAAMA,GAkBR,GAhBI6D,KAAKguD,YACRE,EAAUn6C,MAAM/T,KAAKguD,YAElBhuD,KAAK6tD,cACRK,EAAU53C,QAAQtW,KAAK6tD,cAEpB7tD,KAAK+tD,mBACRG,EAAUjI,aAAajmD,KAAK+tD,mBAEzB/tD,KAAK8tD,mBACRI,EAAUhI,aAAalmD,KAAK8tD,mBAEzB9tD,KAAKiuD,YACRC,EAAUpxD,MAAMkD,KAAKiuD,aAGjBjuD,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,8BAEjB,IAAMyb,IAAc,MAAMrvB,KAAKqrD,WAAY6C,EAAvB,GAOpB,OANIluD,KAAK4tD,iBACRv+B,EAAOrvB,KAAK4tD,gBAA4BM,EAAUztB,WAK5CpR,GA1FT,EA6FWy9B,gBAAV,SACCvnC,EACAkoC,GAEA,OAAOD,EAAcjoC,EAAMkoC,IAjG7B,GAA+BpB,IC6C/B,SAAYqB,GAAAA,EAAAA,WAAAA,aAAAA,EAAAA,WAAAA,aAAAA,EAAAA,YAAAA,cAAAA,EAAAA,YAAAA,cAAZ,CAAYA,IAAAA,EAAAA,KAOL,IAAMU,EAAiB,IAAI5rD,IAClC4rD,EAAezrD,IAAI+qD,EAAuBW,WA1FvB,CAClB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAiFDD,EAAezrD,IAAI+qD,EAAuBY,WA9EvB,CAClB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YA2DDF,EAAezrD,IAAI+qD,EAAuBa,YAxDtB,CACnB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAqCDH,EAAezrD,IAAI+qD,EAAuBc,YAlCtB,CACnB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YC1EM,IAAMnI,EAAb,sGAOQlqD,MAAP,SAAalC,GAEZ,OADA+F,KAAKssD,WAAaryD,EACX+F,MATT,EAeQsmD,YAAP,SAAmBrsD,GAElB,OADA+F,KAAKyuD,iBAAmBx0D,EACjB+F,MAjBT,EAoBWwlD,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,WACbntD,GACLS,KAAKssD,YAAaoC,EAAAA,EAAAA,GAAa1uD,KAAKssD,aAAcoC,EAAAA,EAAAA,MAEjDzwD,OAAOA,GACP9B,MAAMA,GACR,IAAK6D,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,8BAEjB,OAAO,EAAP,IAAU5T,KAAKqrD,WAAY9rD,EAA3B,GA/BF,EAkCWmtD,SAAV,WACC,GAAI1sD,KAAKyuD,iBACR,OAAOL,EAAe1rD,IAAI1C,KAAKyuD,kBACzB,GAAIzuD,KAAKssD,WACf,OAAOtsD,KAAKssD,WAEZ,MAAM,IAAI14C,MAAM,6CAxCnB,GAA6Cw3C,GCMhC7E,EAAb,sGAaQxyC,MAAP,SAAa9Z,GAEZ,OADA+F,KAAKguD,WAAa/zD,EACX+F,MAfT,EAqBQsW,QAAP,SAAerc,GAEd,OADA+F,KAAK6tD,aAAe5zD,EACb+F,MAvBT,EA0BQlD,MAAP,SAAa7C,GAEZ,OADA+F,KAAKiuD,WAAahC,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC3D8H,MA5BT,EA+BQymD,SAAP,SAAgBxsD,GAEf,OADA+F,KAAK2uD,cAAgB10D,EACd+F,MAjCT,EAoCWwlD,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDhmB,EL6CD,WACL,OAAOguD,EAASnH,EAAKljD,MAAM,KAAMnH,WAAWmqD,aAAa,IK9C3C0I,GACZ3wD,OAAO+B,KAAKyrD,UAAUlmC,IACtBppB,MAAM6D,KAAK0sD,SAASnnC,IActB,QAZ0B9pB,IAAtBuE,KAAK6tD,cACRtuD,EAAM+W,QAAQtW,KAAK6tD,mBAGIpyD,IAApBuE,KAAKguD,YACRzuD,EAAMwU,MAAM/T,KAAKguD,iBAGMvyD,IAApBuE,KAAKiuD,YACR1uD,EAAMzC,MAAMkD,KAAKiuD,aAGbjuD,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,8BAEjB,IAAMyb,IAAc,MAAMrvB,KAAKqrD,WAAY9rD,EAAvB,GAIpB,OAHIS,KAAK2uD,gBACRt/B,EAAOrvB,KAAK2uD,eAA2BpvD,EAAM/E,MAEvC60B,GA5DT,EA+DWy9B,gBAAV,SACCvnC,EACAkoC,GAEA,OAAOD,EAAcjoC,EAAMkoC,IAnE7B,GAAgCpB,uBCDVwC,EAAtB,oJAQWC,aAAc,EARzB,0CAqBQjwD,MAAP,SAAa5E,GAEZ,OADA+F,KAAK+uD,WAAa9C,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC3D8H,MAvBT,EA6BQM,KAAP,SAAYrG,GAEX,OADA+F,KAAKgtD,UAAYf,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC1D8H,MA/BT,EAqCQlD,MAAP,SAAa7C,GAEZ,OADA+F,KAAKiuD,WAAahC,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC3D8H,MAvCT,EA8CQsW,QAAP,SAAeu3C,GAEd,OADA7tD,KAAK6tD,aAAeA,EACb7tD,MAhDT,EAwDQiU,KAAP,SAAYha,GAEX,OADA+F,KAAKitD,UAAYhB,EAAiBhyD,EAAO8B,UAAU7D,QAAQ,GAAM,GAC1D8H,MA1DT,EA6DW0sD,SAAV,SAAmBnnC,GAClB,IAAMppB,EAAK,YAASuwD,SAAT,UAAkBnnC,GAC7B,QAA0B9pB,IAAtBuE,KAAK6tD,aAA4B,CACpC,IAAO/xD,EAAmBK,EAA1B,GAAc2b,EAAY3b,EAA1B,GACMyjB,EAAM5f,KAAK6tD,aAIjB,MAAO,CAHU/xD,EAAQgc,EAAMhc,EAAQ8jB,EAAM9jB,EAAQ8jB,EACtC9H,EAAMhc,EAAQgc,EAAM8H,EAAM9H,EAAM8H,GAI/C,OAAOzjB,GAvEV,EA2EWqvD,oBAAV,SACCzwD,GAEA,IAAMs0B,EAAS+9B,EAAOryD,GAEtB,GAAIiF,KAAKgvD,YAAchvD,KAAKqtD,mBAAmBh+B,GAAS,CACvD,IAAO9wB,EAAY8wB,EAAnB,GAAYpzB,EAAOozB,EAAnB,GAEA,OAAO,EAAI9wB,EAAM,CADJ,EACWtC,GAAO,CAACsC,EADnB,GAGd,OAAO8wB,GArFT,EAwFWg+B,mBAAV,SAA6BpvD,GAC5B,OAAO,GAAKA,EAAO,IAAM,GAAKA,EAAO,IAzFvC,EA4FW+wD,QAAV,WACC,YAA0BvzD,IAAnBuE,KAAKitD,UAA0BjtD,KAAKitD,UAAYjtD,KAAK8uD,aA7F9D,EAgGWhC,gBAAV,SACCvnC,EACAkoC,GAEA,OAAOD,EAAcjoC,EAAMkoC,IApG7B,EAuGWwB,oBAAV,SAA8B1vD,IACN,IAAnBS,KAAKgtD,UACRztD,EAAMe,YACuB7E,IAAnBuE,KAAKgtD,WACfztD,EAAMe,KAAKN,KAAKgtD,gBAEOvxD,IAApBuE,KAAK+uD,YACRxvD,EAAMV,MAAMmB,KAAK+uD,aAEM,IAApB/uD,KAAKiuD,YACR1uD,EAAMrB,YAAYgxD,EAAAA,IAjHrB,GAGU7C,GCTGzG,EAAb,oJACWkJ,aAAc,EADzB,iCAGWtJ,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GACtBhmB,GAAQ4vD,EAAAA,EAAAA,KAAclxD,OAAOA,GAAQ9B,MAAMA,GAGjD,GADA6D,KAAKivD,oBAAoB1vD,IACpBS,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IACE5T,KAAKqrD,WAAY9rD,EADnB,GAZF,GAAiCsvD,aCGpBO,EAAb,sGAGQ9tD,KAAP,SAAYrH,GAEX,OADA+F,KAAKqvD,UAAYp1D,EACV+F,MALT,EAQWwlD,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GACtB8J,GAASigC,EAAAA,EAAAA,KAAWrxD,OAAOA,GAAQ9B,MAAMA,GAM/C,GALA6D,KAAKivD,oBAAoB5/B,QAEF5zB,IAAnBuE,KAAKqvD,WACRhgC,EAAO/tB,KAAKtB,KAAKqvD,YAEbrvD,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IAAU5T,KAAKqrD,WAAYh8B,EAA3B,GApBF,EAmCWm8B,oBAAV,SACC+D,GAEA,IAAMx0D,EAAM,YAASywD,oBAAT,UAA6B+D,GACnCC,EAAaz0D,EAAO,GAAK,GAAKA,EAAO,GAAK,EAC1C00D,EAAa10D,EAAO,GAAK,GAAKA,EAAO,GAAK,EAChD,GAAIy0D,GAAcC,EACjB,MAAM,IAAI77C,MACT,mEAGF,IAAMq5C,EAAYuC,EAjDC,MACA,KAkDnB,OAAOz0D,EAAOyE,KAAI,SAAAoC,GAAC,OAAW,IAANA,EAAUqrD,EAAYrrD,OAhDhD,mCA2BC,WACC,MAAO,CAAC,EAAG,QA5Bb,GAA8BitD,aCHjBa,EAAb,oJACWZ,aAAc,EADzB,0CAKQhsD,SAAP,SAAgB7I,GAEf,OADA+F,KAAK2vD,cAAgB11D,EACd+F,MAPT,EAUWwlD,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GACtB8J,GAASugC,EAAAA,EAAAA,MAAW3xD,OAAOA,GAAQ9B,MAAMA,GAM/C,GALA6D,KAAKivD,oBAAoB5/B,QAEE5zB,IAAvBuE,KAAK2vD,eACRtgC,EAAOvsB,SAAS9C,KAAK2vD,gBAEjB3vD,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IAAU5T,KAAKqrD,WAAYh8B,EAA3B,GAtBF,GAA8Bw/B,aCCjBgB,EAAb,sGAIQ3vD,aAAP,SAAoBjG,GAEnB,OADA+F,KAAK8vD,kBAAoB71D,EAClB+F,MANT,EAeQnB,MAAP,SAAa5E,GAEZ,OADA+F,KAAK+uD,WAAa90D,EACX+F,MAjBT,EAoBWwlD,YAAV,SAAsBjgC,GAAqC,IAAD,EACzD,IAAKvlB,KAAK8vD,kBACT,MAAM,IAAIl8C,MAAM,4BAGjB,IAAM3V,EAAS+B,KAAKyrD,UAAUlmC,GACxB8J,GAAS0gC,EAAAA,EAAAA,IAAgB/vD,KAAK8vD,mBAAmB7xD,OAAOA,GAK9D,QAHwBxC,IAApBuE,KAAK+uD,YACR1/B,EAAOxwB,MAAMmB,KAAK+uD,aAEd/uD,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IACE5T,KAAKqrD,WAAYh8B,EADnB,GAlCF,GAAqC+7B,GCDxBvF,EAAb,oJACWiJ,aAAc,EADzB,iCAGWtJ,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GACtB8J,GAAS2gC,EAAAA,EAAAA,MAAY/xD,OAAOA,GAAQ9B,MAAMA,GAGhD,GADA6D,KAAKivD,oBAAoB5/B,IACpBrvB,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IAAU5T,KAAKqrD,WAAYh8B,EAA3B,GAZF,GAA+Bw/B,aCIxB,IAAMoB,EAAb,6FACWzK,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GAEtB8J,GAAS6gC,EAAAA,EAAAA,KAAYjyD,OAAOA,GAAQ9B,MAAMA,GAGhD,GAFA6D,KAAKivD,oBAAoB5/B,GAV3B,SAAiBA,GAChBA,EAAO0R,cAAgB,OAUtBovB,CAAQ9gC,IACHrvB,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IAAU5T,KAAKqrD,WAAYh8B,EAA3B,GAXF,GAA+Bw/B,aCAxB,IAAMuB,EAAb,6FACW5K,YAAV,SAAsBjgC,GAAqC,IAAD,EACnDtnB,EAAS+B,KAAKyrD,UAAUlmC,GACxBppB,EAAQ6D,KAAK0sD,SAASnnC,GACtB8J,GAASghC,EAAAA,EAAAA,KAAWpyD,OAAOA,GAAQ9B,MAAMA,GAG/C,GAFA6D,KAAKivD,oBAAoB5/B,GAT3B,SAAiBA,GAChBA,EAAO0R,cAAgB,MAStBovB,CAAQ9gC,IACHrvB,KAAKqrD,UACT,MAAM,IAAIz3C,MAAM,0BAEjB,OAAO,EAAP,IAAU5T,KAAKqrD,WAAYh8B,EAA3B,GAVF,GAA8Bw/B,GCYjBluD,EAAS,SAACjH,GAAD,OAAkB,IAAIksD,GAAclsD,KAAKA,IAClD0D,EAAM,SAAC1D,GAAD,OAAkB,IAAI01D,GAAW11D,KAAKA,IAC5C6D,EAAM,SAAC7D,GAAD,OAAkB,IAAIg2D,GAAWh2D,KAAKA,IAC5CkK,EAAa,SAAClK,GAAD,OAAkB,IAAIm2D,GAAkBn2D,KAAKA,IAC1D2C,EAAO,SAAC3C,GAAD,OAAkB,IAAImsD,GAAYnsD,KAAKA,IAC9CsM,EAAO,SAACtM,GAAD,OAAkB,IAAIu2D,GAAYv2D,KAAKA,IAC9CqsD,EAAM,SAACrsD,GAAD,OAAkB,IAAI02D,GAAW12D,KAAKA,IAG5C0sD,EAAO,SAAC1sD,EAAc+mC,GAAf,OACnB,IAAIqlB,GAAYpsD,KAAKA,GAAMi0D,cAAcltB,IAC7Bl+B,GAAU,SAAC7I,GAAD,OAAkB,IAAI2sD,GAAe3sD,KAAKA,IACpDm0C,GAAQ,SAACn0C,EAAcc,GAAf,OACpB,IAAI+rD,GAAa7sD,KAAKA,GAAM+sD,SAASjsD,IAGzB2I,GAAW,SAACzJ,GAAD,OAAkB,IAAIgtD,GAAgBhtD,KAAKA,gJC7BnE,IAAM42D,EAAmB,IAAI9tD,IACvB+tD,EAAsB,IAAIC,IASzB,SAASC,EAAiB3/B,GAChCw/B,EAAiB3tD,IAAImuB,EAAK4/B,UAAW5/B,GAO/B,SAAS6/B,EACf5W,EACA5V,GAEA,QADC,IADDA,IAAAA,EAAgC,KAE3BmsB,EAAiB1tD,IAAIm3C,GACzB,MAAM,IAAInmC,MAAJ,aAAuBmmC,EAAvB,cAEP,IAAMjpB,EAAOw/B,EAAiB5tD,IAAIq3C,GAClC,QAAat+C,IAATq1B,EACH,MAAM,IAAIld,MAAJ,aAAuBmmC,EAAvB,0BAIP,IAAMnyB,EAAgB,IAAIkJ,EAQ1B,OALA13B,OAAO+3B,KAAKgT,GAAOpV,SAAQ,SAAA6hC,GACrBL,EAAoB3tD,IAAIguD,KAC5BhpC,EAASgpC,GAAYzsB,EAAMysB,OAGtBhpC,EArCR2oC,EAAoB9pC,IAAI,oCCLFoqC,EAAtB,gBAgBQ5sB,SAAqB,ICZP6sB,EAAtB,oJAGQC,SAAuBzpB,EAAAA,GAAAA,KAH/B,EAqDQxzB,KAAQ,OArDhB,EA+DQ+qB,OAAU,OA/DlB,EA8EQ8b,UAAwBvT,EAAAA,GAAAA,KA9EhC,EA6FQqT,WAA0BpT,EAAAA,GAAAA,MA7FlC,EAiIQggB,OAAU,EAjIlB,EA0IQj1C,SAAuC,GA1I/C,wBAAmCy+C,GCLtBG,EAAb,oJAEiBC,SAAWD,EAAQN,UAFpC,EASQ3hB,aAAgB,EATxB,wBAA6B+hB,GAAhBE,EACEN,UAAYx5B,EAAAA,GAAAA,ICIpB,IAAMg6B,EAAb,oJAEiBD,SAAWC,EAASR,UAFrC,EAIQ53B,OAAuBiO,EAAAA,GAAAA,SAJ/B,EAKQ7oC,YAA6B8oC,EAAAA,GAAAA,OALrC,wBAA8B8pB,GAAjBI,EACER,UAAYx5B,EAAAA,GAAAA,KCNpB,IAAMi6B,EAAb,oJAEiBF,SAAWE,EAAUT,UAFtC,EAKQ3hB,aAAgB,EALxB,EAMQnQ,MAA4B,GANpC,wBAA+BkyB,GAAlBK,EACET,UAAYx5B,EAAAA,GAAAA,MCDpB,IAAMk6B,EAAb,oJAEiBH,SAAWG,EAASV,UAFrC,EAIQxyD,YAA8B8oC,EAAAA,GAAAA,OAJtC,wBAA8B8pB,GAAjBM,EACEV,UAAYx5B,EAAAA,GAAAA,KCDpB,IAAMm6B,EAAb,oJAEiBJ,SAAWI,EAASX,UAFrC,wBAA8BI,GAAjBO,EACEX,UAAYx5B,EAAAA,GAAAA,KCDpB,IAAMo6B,EAAb,oJAEiBL,SAAWK,EAASZ,UAFrC,EAIQ3hB,aAAgB,EAJxB,wBAA8B+hB,GAAjBQ,EACEZ,UAAYx5B,EAAAA,GAAAA,KCDpB,IAAMq6B,EAAb,oJAEiBN,SAAWM,EAASb,UAFrC,wBAA8BI,GAAjBS,EACEb,UAAYx5B,EAAAA,GAAAA,KCDpB,IAAMs6B,EAAb,oJAEiBP,SAAWO,EAAWd,UAFvC,EAKQl4B,MAA8B0O,EAAAA,GAAAA,OALtC,wBAAgC4pB,GAAnBU,EACEd,UAAYx5B,EAAAA,GAAAA,OCMpB,IAAMu6B,EAAb,oJAEiBR,SAAWQ,EAASf,UAFrC,EAIQ38C,MAA8BwrB,EAAAA,GAAAA,KAJtC,EAKQue,MAAS,EALjB,EAMQre,SAAmCE,EAAAA,GAAAA,WAN3C,EAOQkrB,IAAsB1jB,EAAAA,GAAAA,IAP9B,EAUQ2jB,SAAY,MAVpB,EAgBQC,MAAS,EAhBjB,EAiBQ5Z,OAAU,EAjBlB,wBAA8B2f,GAAjBW,EACEf,UAAYx5B,EAAAA,GAAAA,KCC3Bu5B,EAAiBO,GACjBP,EAAiBS,GACjBT,EAAiBU,GACjBV,EAAiBW,GACjBX,EAAiBY,GACjBZ,EAAiBa,GACjBb,EAAiBc,GACjBd,EAAiBe,GACjBf,EAAiBgB,GChBV,IAAMC,EAAb,oJACiBX,SAAuBzpB,EAAAA,GAAAA,KADxC,EAGQ1I,MAAa,GAHrB,wBAA0CiyB,GCqFnC,SAAS1R,EAAWwS,GAE1B,OAAOC,EADuB,iBAATD,EAAoBE,KAAKx4C,MAAMs4C,GAAQA,GAQ7D,SAASC,EAAeE,GACvB,IAAQ9X,EAAmB8X,EAAnB9X,SAAUvjB,EAASq7B,EAATr7B,KAGZpH,EAAS,IAAIqiC,EAuBnB,OAtBAriC,EAAO2qB,SAAWA,EAClB3qB,EAAOoH,KAAOA,EACdpH,EAAOuP,OAASkzB,EAAQlzB,OAAS,IAAIp/B,KAAI,SAACuyD,GACzC,IAAMC,EAAahY,EAAW1S,EAAAA,GAAAA,KAAkBA,EAAAA,GAAAA,KAG1Ctd,EACLgoC,IAAe1qB,EAAAA,GAAAA,KAuBlB,SAAwB0S,EAAkB+X,GACzC,IAAM1iC,EAASshC,EAAe3W,EAAU+X,GAGxC,GAAI1iC,EAAO4hC,WAAaE,EAAUT,UAAW,CAC5C,IAAM57C,EAAQua,EACRuP,GAASmzB,EAAQnzB,OAAS,IAAIp/B,KAAI,SAACwqB,GAAD,OAAe4nC,EAAe5nC,MACtElV,EAAM8pB,MAAQA,EAGf,OAAOvP,EAhCF4iC,CAAejY,EAAU+X,GACzBH,EAAeG,GAKnB,OAFA/nC,EAAKpX,OAASyc,EACdrF,EAAKgoC,WAAaA,EACXhoC,KAEJ5wB,OAAOC,UAAUiY,eAAe/X,KAAKu4D,EAAS,UACjDziC,EAAOytB,KAAOgV,EAAQhV,MAEnB1jD,OAAOC,UAAUiY,eAAe/X,KAAKu4D,EAAS,iBACjDziC,EAAO6iC,YAAcJ,EAAQI,aAEvB7iC,gBC1HKkH,EAAb,WAQC,WAA0ByF,GAAqB,KAPvCm2B,WAAuB,GAOe,KAApBn2B,SAAAA,EAR3B,2BAUQ4C,MAAP,WAA4C,IAAC,IAAD,4BAA5B7jC,EAA4B,yBAA5BA,EAA4B,gBAI3C,OAHA,EAAAiF,KAAKmyD,YAAWnwD,KAAhB,gBACIjH,EAAOyE,KAAI,SAAA4yD,GAAS,OAAI/tB,EAAW,EAAKrI,SAAUo2B,QAE/CpyD,MAdT,EAiBQ88C,KAAP,SAAY7iD,GAEX,OADA+F,KAAKqyD,UAAYp4D,EACV+F,MAnBT,EAsBQkyD,YAAP,SAAmBj4D,GAElB,OADA+F,KAAKsyD,iBAAmBr4D,EACjB+F,MAxBT,EA2BQy2B,KAAP,SAAYx8B,GAEX,OADA+F,KAAKuyD,UAAYt4D,EACV+F,MA7BT,EAgCQtG,KAAP,SAAYO,GAEX,OADA+F,KAAKqrD,UAAYpxD,EACV+F,MAlCT,EAqCQqnD,OAAP,SAAcptD,GAEb,OADA+F,KAAKwyD,YAAcv4D,EACZ+F,MAvCT,EA0CQm2B,MAAP,WACC,IAAM9G,EAASiX,EAAWtmC,KAAKg8B,SAAUh8B,KAAKmyD,YAM9C,OALA9iC,EAAOytB,KAAO98C,KAAKqyD,UACnBhjC,EAAO6iC,YAAclyD,KAAKsyD,iBAC1BjjC,EAAOoH,KAAOz2B,KAAKuyD,UACnBljC,EAAO31B,KAAOsG,KAAKqrD,UACnBh8B,EAAOg4B,OAASrnD,KAAKwyD,YACdnjC,GAjDT,KCOO,SAASiX,EAAWtK,EAAoB4C,GAC9CA,EAAM7P,SAAQ,SAAC/E,EAAM7uB,GACpB,GAAI6uB,EAAKinC,WAAaj1B,EACrB,MAAM,IAAIpoB,MAAJ,2DACsDooB,EADtD,WACyEhS,EAAKinC,SAD9E,IAC0F91D,MAIlG,IAAMk0B,EAAS,IAAIojC,EAGnB,OAFApjC,EAAO2qB,SAAWhe,EAClB3M,EAAOuP,MAAQA,EACRvP,EAGD,SAASgV,EACf0V,EACA5V,GAEA,YADS,IADTA,IAAAA,EAAgC,IAEzBwsB,EAAe5W,EAAU5V,GAG1B,SAASxF,EAAU3C,GACzB,OAAO,IAAIzF,EAAYyF,wJC9BxB,GAAe02B,EAAAA,EAAAA,IAAf,6wSCSMhU,EAAW,IAAI4B,EAAAA,EAkErB,IAAMqS,EAAcC,EAAAA,GAAAA,IAAAA,WAAH,+DAAGA,CAAH,gDAMXC,EAAmBD,EAAAA,GAAAA,IAAAA,WAAH,oEAAGA,CAAH,uGAOPE,EAAAA,GAGTC,EAAUH,EAAAA,GAAAA,IAAAA,WAAH,2DAAGA,CAAH,sIAWPI,EAAmBJ,EAAAA,GAAAA,IAAAA,WAAH,oEAAGA,CAAH,iEAKPK,EAAAA,EAAAA,YAAAA,SAGf,EAxFsC,SAAC,GAAD,QAAGC,QAAAA,OAAH,MAAa,KAAb,EAAmB/Y,EAAnB,EAAmBA,SAAU6J,EAA7B,EAA6BA,MAA7B,OACrC,gBAAC,KAAD,CACCmP,MAAK,aAWLhY,OAAQ,YAAoD,IAiC9D,EAAmB8I,EAAamP,EAjCXC,EAAwC,EAAhDC,KAAQD,aAClB,OACC,gBAAC,aAAD,KACC,gBAACE,EAAA,EAAD,CACCvP,MAAOA,GAASqP,EAAarP,MAC7BwP,MA4BN,EA5BoBH,EA4BDpP,EAAuC,EAAvCA,YAAamP,EAA0B,EAA1BA,SACxB,CACN,CAAE15D,KAAM,cAAe+5D,QAASxP,GAChC,CAAEvqD,KAAM,WAAY+5D,QAASL,EAAS9+C,KAAK,SA9BvCo/C,KAAM,CACL,CACCvM,KAAM,4EACNwM,IAAK,gBAIP,wBAAMC,KAAK,QAEZ,gBAACjB,EAAD,KACC,gBAAC,EAAD,MACA,gBAAC,IAAD,CAAQkB,WAAW,IACnB,gBAAChB,EAAD,KACC,gBAAC,KAAD,CAAkB54D,MAAOykD,GACvBwU,EACA,gBAACF,EAAD,KAAmBE,GAChB,KACJ,gBAACH,EAAD,KAAU5Y,8CCjElB,SAAS2Z,EAAkBl1D,EAAQulC,GACjC,IAAK,IAAI7rC,EAAI,EAAGA,EAAI6rC,EAAMjsC,OAAQI,IAAK,CACrC,IAAIy7D,EAAa5vB,EAAM7rC,GACvBy7D,EAAWxnC,WAAawnC,EAAWxnC,aAAc,EACjDwnC,EAAWvnC,cAAe,EACtB,UAAWunC,IAAYA,EAAWtnC,UAAW,GACjDrzB,OAAOkzB,eAAe1tB,EAAQm1D,EAAWtxD,IAAKsxD,IAInC,SAASC,EAAaC,EAAaC,EAAYC,GAG5D,OAFID,GAAYJ,EAAkBG,EAAY56D,UAAW66D,GACrDC,GAAaL,EAAkBG,EAAaE,GACzCF,kHCTM,SAASG,EAAex5D,EAAKtC,GAC1C,OCLa,SAAyBsC,GACtC,GAAI7B,MAAMC,QAAQ4B,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKtC,GACjD,IAAIktB,EAAY,MAAP5qB,EAAc,KAAyB,oBAAX/B,QAA0B+B,EAAI/B,OAAOC,WAAa8B,EAAI,cAE3F,GAAU,MAAN4qB,EAAJ,CACA,IAII6uC,EAAIl6D,EAJJm6D,EAAO,GACPC,GAAK,EACLC,GAAK,EAIT,IACE,IAAKhvC,EAAKA,EAAGjsB,KAAKqB,KAAQ25D,GAAMF,EAAK7uC,EAAG/qB,QAAQT,QAC9Cs6D,EAAKtyD,KAAKqyD,EAAGp6D,QAET3B,GAAKg8D,EAAKp8D,SAAWI,GAH4Bi8D,GAAK,IAK5D,MAAOl6D,GACPm6D,GAAK,EACLr6D,EAAKE,EACL,QACA,IACOk6D,GAAsB,MAAhB/uC,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIgvC,EAAI,MAAMr6D,GAIlB,OAAOm6D,GFtBuB,CAAqB15D,EAAKtC,KAAM,EAAAm8D,EAAA,GAA2B75D,EAAKtC,IGLjF,WACb,MAAM,IAAI8B,UAAU,6IHIgF","sources":["webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/ascending.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/bisect.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/bisector.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/number.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/range.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/ticks.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/continuous.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/constant.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/init.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/linear.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/log.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/nice.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/number.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/ordinal.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/pow.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/quantize.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/sequential.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/symlog.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/tickFormat.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/time.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/utcTime.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-color-npm-2.0.0-e7f04a5d87-b887354aa3.zip/node_modules/d3-color/src/color.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-color-npm-2.0.0-e7f04a5d87-b887354aa3.zip/node_modules/d3-color/src/define.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/defaultLocale.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/exponent.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatDecimal.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatSpecifier.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatPrefixAuto.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatRounded.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatTypes.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/identity.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/locale.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatGroup.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatNumerals.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/formatTrim.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/precisionFixed.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/precisionPrefix.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-format-npm-2.0.0-74628e435e-c4d3c8f994.zip/node_modules/d3-format/src/precisionRound.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/array.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/basis.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/basisClosed.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/color.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/constant.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/date.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/number.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/numberArray.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/object.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/rgb.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/round.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/string.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-interpolate-npm-2.0.1-7e198300b3-4a2018ac34.zip/node_modules/d3-interpolate/src/value.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-format-npm-3.0.0-0803464fb3-c20c1667db.zip/node_modules/d3-time-format/src/defaultLocale.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-format-npm-3.0.0-0803464fb3-c20c1667db.zip/node_modules/d3-time-format/src/locale.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/day.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/duration.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/hour.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/interval.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/millisecond.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/minute.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/month.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/second.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-de35db851e/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/bisector.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-de35db851e/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/ascending.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-de35db851e/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/ticks.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/ticks.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/utcDay.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/utcHour.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/utcMinute.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/utcMonth.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/utcWeek.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/utcYear.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/week.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-time-npm-2.1.1-73fdf673f7-d1c7b9658c.zip/node_modules/d3-time/src/year.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/config.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://@chart-parts/docsite/../../.yarn/cache/tslib-npm-2.1.0-81c9ac9b82-aa189c8179.zip/node_modules/tslib/tslib.es6.js","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/regenerator/index.js","webpack://@chart-parts/docsite/../../.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/reverse.js","webpack://@chart-parts/docsite/../../.yarn/cache/regenerator-runtime-npm-0.13.9-6d02340eec-65ed455fe5.zip/node_modules/regenerator-runtime/runtime.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/spec/MarkSpec.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/spec/SceneNodeSpec.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/api/SceneNodeBuilder.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/api/MarkBuilder.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/api/ChartOptionsManager.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/spec/defaults.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/spec/AxisSpec.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/api/AxisBuilder.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/api/factories.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/context/SceneFrame.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/domain/crossValue.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/domain/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/tickLabels/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/tickLines/getTickValues.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/tickLines/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/tickLines/getLabelFormatter.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/components/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/getContext.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/buildAxis.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/axes/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/marks/createBoundItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/marks/processMark.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/processNode.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-builder-virtual-33541b8911/1/packages/api-builder/src/xform/createScenegraph.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/common-types.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/scenegraph.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/specification/scene.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/specification/axes.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/vdom/svg.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/util/getItemSpace.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-interfaces-virtual-c2835a52ed/1/packages/api-interfaces/src/defaults.ts","webpack://@chart-parts/docsite/../../.yarn/cache/d3-path-npm-2.0.0-6d1499464f-e39e91dfb9.zip/node_modules/d3-path/src/path.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/constant.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/math.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/arc.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/array.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/linear.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/point.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/line.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/area.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/symbol/circle.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/symbol/star.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/symbol/diamond.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/symbol/triangle.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/symbol/wye.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/symbol.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/Rectangle.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/parse.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/arc.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/render.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/constants.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/drawCircle.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/drawCross.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/drawDiamond.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/drawSquare.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/drawTriangle.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/symbols/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-shapes-virtual-355746ecf2/1/packages/util-shapes/src/index.ts","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/basis.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/noop.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/basisClosed.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/basisOpen.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/bundle.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/cardinal.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/catmullRom.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/linearClosed.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/monotone.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/natural.js","webpack://@chart-parts/docsite/../../.yarn/cache/d3-shape-npm-2.1.0-9537c858fd-4a82a83fbb.zip/node_modules/d3-shape/src/curve/step.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/path/curves.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/path/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/interfaces.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/util.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/ArcRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/AreaRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/GroupRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/LineRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/PathRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/RectRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/RuleRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/SymbolRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/TextRenderer.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/registry.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/element_renderers/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-vsvg-virtual-34f3a16656/1/packages/processing-vsvg/src/VirtualSvgConverter.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-orchestrator-virtual-24def3d2fd/1/packages/processing-orchestrator/src/Orchestrator.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-svg-renderer-virtual-268fbd97ec/1/packages/renderer-react-svg/src/Renderer.tsx","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/Context.ts","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/Action.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/animationFrameProvider.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/AnimationFrameAction.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/Scheduler.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/AnimationFrameScheduler.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/Chart.tsx","webpack://@chart-parts/docsite/../../.yarn/cache/rxjs-npm-7.3.0-8a14d1c3d9-e63adb8808.zip/node_modules/rxjs/dist/esm5/internal/operators/observeOn.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/Axis.tsx","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/Scale.tsx","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/DomainScale.tsx","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/DomainRangeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/QuantitativeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/LinearScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/SqrtScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/LogScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/PowScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/SequentialScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/discrete/BandScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/TimeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/quantitative/UtcScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/discrete/OrdinalScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/discrete/PointScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/QuantizeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/scales/QuantileScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/BaseMark.tsx","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Arc.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Area.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Group.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Line.tsx","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Rect.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Path.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Rule.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Text.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/Symbol.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/marks/SymbolTypes.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-react-virtual-ec52929220/1/packages/api-react/src/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/DomainScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/util.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/DomainRangeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-array-virtual-31052b2247/0/cache/d3-array-npm-2.12.1-104e51ecda-97853b7b52.zip/node_modules/d3-array/src/extent.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/QuantizeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/d3-scale-virtual-dd505f8957/0/cache/d3-scale-npm-3.3.0-6a8f0391dc-f77e73f0fb.zip/node_modules/d3-scale/src/band.js","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/getBoundRange.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/discrete/BandScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/colorSchemeMap.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/discrete/OrdinalScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/discrete/PointScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/QuantitativeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/LinearScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/LogScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/PowScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/SequentialScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/SqrtScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/TimeScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/quantitative/UtcScale.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scales-virtual-b4827dd604/1/packages/util-scales/src/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/registry.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/SceneNode.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/Item.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/ArcItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/AreaItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/GroupItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/LineItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/PathItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/RectItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/RuleItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/SymbolItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/TextItem.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/items/index.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/elements/Mark.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/parse.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/MarkBuilder.ts","webpack://@chart-parts/docsite/../../.yarn/__virtual__/@chart-parts-scenegraph-virtual-1e2abd6fbf/1/packages/processing-scenegraph/src/factory.ts","webpack://@chart-parts/docsite/./src/components/styles.ts","webpack://@chart-parts/docsite/./src/components/layout.tsx","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://@chart-parts/docsite/../../.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport var bisectCenter = bisector(number).center;\nexport default bisectRight;","import ascending from \"./ascending.js\";\nexport default function (f) {\n  var delta = f;\n  var compare = f;\n\n  if (f.length === 1) {\n    delta = function delta(d, x) {\n      return f(d) - x;\n    };\n\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n    }\n\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n    }\n\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    var i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {\n    left: left,\n    center: center,\n    right: right\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","import _regeneratorRuntime from \"/home/runner/work/chart-parts/chart-parts/.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(numbers);\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function (x) {\n  return x === null ? NaN : +x;\n}\nexport function numbers(values, valueof) {\n  var _iterator, _step, value, index, _iterator2, _step2, _value;\n\n  return _regeneratorRuntime.wrap(function numbers$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(valueof === undefined)) {\n            _context.next = 21;\n            break;\n          }\n\n          _iterator = _createForOfIteratorHelper(values);\n          _context.prev = 2;\n\n          _iterator.s();\n\n        case 4:\n          if ((_step = _iterator.n()).done) {\n            _context.next = 11;\n            break;\n          }\n\n          value = _step.value;\n\n          if (!(value != null && (value = +value) >= value)) {\n            _context.next = 9;\n            break;\n          }\n\n          _context.next = 9;\n          return value;\n\n        case 9:\n          _context.next = 4;\n          break;\n\n        case 11:\n          _context.next = 16;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](2);\n\n          _iterator.e(_context.t0);\n\n        case 16:\n          _context.prev = 16;\n\n          _iterator.f();\n\n          return _context.finish(16);\n\n        case 19:\n          _context.next = 40;\n          break;\n\n        case 21:\n          index = -1;\n          _iterator2 = _createForOfIteratorHelper(values);\n          _context.prev = 23;\n\n          _iterator2.s();\n\n        case 25:\n          if ((_step2 = _iterator2.n()).done) {\n            _context.next = 32;\n            break;\n          }\n\n          _value = _step2.value;\n\n          if (!((_value = valueof(_value, ++index, values)) != null && (_value = +_value) >= _value)) {\n            _context.next = 30;\n            break;\n          }\n\n          _context.next = 30;\n          return _value;\n\n        case 30:\n          _context.next = 25;\n          break;\n\n        case 32:\n          _context.next = 37;\n          break;\n\n        case 34:\n          _context.prev = 34;\n          _context.t1 = _context[\"catch\"](23);\n\n          _iterator2.e(_context.t1);\n\n        case 37:\n          _context.prev = 37;\n\n          _iterator2.f();\n\n          return _context.finish(37);\n\n        case 40:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[2, 13, 16, 19], [23, 34, 37, 40]]);\n}","export default function (start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    var r0 = Math.round(start / step),\n        r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n\n    while (++i < n) {\n      ticks[i] = (r0 + i) * step;\n    }\n  } else {\n    step = -step;\n\n    var _r = Math.round(start * step),\n        _r2 = Math.round(stop * step);\n\n    if (_r / step < start) ++_r;\n    if (_r2 / step > stop) --_r2;\n    ticks = new Array(n = _r2 - _r + 1);\n\n    while (++i < n) {\n      ticks[i] = (_r + i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","import { bisect } from \"d3-array\";\nimport { interpolate as interpolateValue, interpolateNumber, interpolateRound } from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\nvar unit = [0, 1];\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n} // normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\n\n\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n      d1 = domain[1],\n      r0 = range[0],\n      r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1; // Reverse descending domains.\n\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function (x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\nexport default function continuous() {\n  return transformer()(identity, identity);\n}","export default function constants(x) {\n  return function () {\n    return x;\n  };\n}","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      {\n        if (typeof domain === \"function\") this.interpolator(domain);else this.range(domain);\n        break;\n      }\n\n    default:\n      {\n        this.domain(domain);\n        if (typeof interpolator === \"function\") this.interpolator(interpolator);else this.range(interpolator);\n        break;\n      }\n  }\n\n  return this;\n}","import { ticks, tickIncrement } from \"d3-array\";\nimport continuous, { copy } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function () {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}","import { ticks } from \"d3-array\";\nimport { format } from \"d3-format\";\nimport nice from \"./nice.js\";\nimport { copy, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function floor(x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function ceil(x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}","export default function nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}","export default function number(x) {\n  return +x;\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { initRange } from \"./init.js\";\nexport var implicit = Symbol(\"implicit\");\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n\n    var _iterator = _createForOfIteratorHelper(_),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n        var key = value + \"\";\n        if (index.has(key)) continue;\n        index.set(key, domain.push(value));\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}","import { linearish } from \"./linear.js\";\nimport { copy, identity, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function (x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity) : exponent === 0.5 ? transform(transformSqrt, transformSquare) : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function (_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function () {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}","import _slicedToArray from \"/home/runner/work/chart-parts/chart-parts/.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { bisect } from \"d3-array\";\nimport { linearish } from \"./linear.js\";\nimport { initRange } from \"./init.js\";\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n\n    while (++i < n) {\n      domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    }\n\n    return scale;\n  }\n\n  scale.domain = function (_) {\n    var _ref, _ref2;\n\n    return arguments.length ? ((_ref = _, _ref2 = _slicedToArray(_ref, 2), x0 = _ref2[0], x1 = _ref2[1], _ref), x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function (y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : i < 1 ? [x0, domain[0]] : i >= n ? [domain[n - 1], x1] : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function () {\n    return domain.slice();\n  };\n\n  scale.copy = function () {\n    return quantize().domain([x0, x1]).range(range).unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}","import _slicedToArray from \"/home/runner/work/chart-parts/chart-parts/.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { interpolate, interpolateRound } from \"d3-interpolate\";\nimport { identity } from \"./continuous.js\";\nimport { initInterpolator } from \"./init.js\";\nimport { linearish } from \"./linear.js\";\nimport { loggish } from \"./log.js\";\nimport { symlogish } from \"./symlog.js\";\nimport { powish } from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function (_) {\n    var _ref, _ref2;\n\n    return arguments.length ? ((_ref = _, _ref2 = _slicedToArray(_ref, 2), x0 = _ref2[0], x1 = _ref2[1], _ref), t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function (_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function (_) {\n      var _ref3, _ref4;\n\n      var r0, r1;\n      return arguments.length ? ((_ref3 = _, _ref4 = _slicedToArray(_ref3, 2), r0 = _ref4[0], r1 = _ref4[1], _ref3), interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown());\n}\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function () {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function () {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function () {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}","import { linearish } from \"./linear.js\";\nimport { copy, transformer } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function (x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function (x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1,\n      scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function (_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function () {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}","import { tickStep } from \"d3-array\";\nimport { format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound } from \"d3-format\";\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n\n  return format(specifier);\n}","import { timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval } from \"d3-time\";\nimport { timeFormat } from \"d3-time-format\";\nimport continuous, { copy } from \"./continuous.js\";\nimport { initRange } from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function (interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function (interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function () {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}","import { utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval } from \"d3-time\";\nimport { utcFormat } from \"d3-time-format\";\nimport { calendar } from \"./time.js\";\nimport { initRange } from \"./init.js\";\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}","import define, { extend } from \"./define.js\";\nexport function Color() {}\nvar _darker = 0.7;\nexport { _darker as darker };\n\nvar _brighter = 1 / _darker;\n\nexport { _brighter as brighter };\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  copy: function copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable: function displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n  : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n  : l === 4 ? rgba(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n  : null // invalid hex\n  ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n  : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function rgb() {\n    return this;\n  },\n  displayable: function displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity;\n  a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function brighter(k) {\n    k = k == null ? _brighter : Math.pow(_brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function darker(k) {\n    k = k == null ? _darker : Math.pow(_darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl: function formatHsl() {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + (this.s || 0) * 100 + \"%, \" + (this.l || 0) * 100 + \"%\" + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}","export default function (constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) {\n    prototype[key] = definition[key];\n  }\n\n  return prototype;\n}","import formatLocale from \"./locale.js\";\nvar locale;\nexport var format;\nexport var formatPrefix;\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}","import { formatDecimalParts } from \"./formatDecimal.js\";\nexport default function (x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}","export default function (x) {\n  return Math.abs(x = Math.round(x)) >= 1e21 ? x.toLocaleString(\"en\").replace(/,/g, \"\") : x.toString(10);\n} // Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\n\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n\n  var i,\n      coefficient = x.slice(0, i); // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width === undefined ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n};","import { formatDecimalParts } from \"./formatDecimal.js\";\nexport var prefixExponent;\nexport default function (x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}","import { formatDecimalParts } from \"./formatDecimal.js\";\nexport default function (x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\nexport default {\n  \"%\": function _(x, p) {\n    return (x * 100).toFixed(p);\n  },\n  \"b\": function b(x) {\n    return Math.round(x).toString(2);\n  },\n  \"c\": function c(x) {\n    return x + \"\";\n  },\n  \"d\": formatDecimal,\n  \"e\": function e(x, p) {\n    return x.toExponential(p);\n  },\n  \"f\": function f(x, p) {\n    return x.toFixed(p);\n  },\n  \"g\": function g(x, p) {\n    return x.toPrecision(p);\n  },\n  \"o\": function o(x) {\n    return Math.round(x).toString(8);\n  },\n  \"p\": function p(x, _p) {\n    return formatRounded(x * 100, _p);\n  },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function X(x) {\n    return Math.round(x).toString(16).toUpperCase();\n  },\n  \"x\": function x(_x) {\n    return Math.round(_x).toString(16);\n  }\n};","export default function (x) {\n  return x;\n}","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport { prefixExponent } from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\nvar map = Array.prototype.map,\n    prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\nexport default function (locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type; // The \"n\" type is an alias for \",g\".\n\n    if (type === \"n\") comma = true, type = \"g\"; // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\"; // If zero fill is specified, padding goes after sign and before digits.\n\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\"; // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\"; // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type); // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n\n    precision = precision === undefined ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i,\n          n,\n          c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value; // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n\n        var valueNegative = value < 0 || 1 / value < 0; // Perform the initial formatting.\n\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision); // Trim insignificant zeros.\n\n        if (trim) value = formatTrim(value); // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false; // Compute the prefix and suffix.\n\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : minus : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\"); // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      } // If the fill character is not \"0\", grouping is applied before padding.\n\n\n      if (comma && !zero) value = group(value, Infinity); // Compute the padding.\n\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\"; // If the fill character is \"0\", grouping is applied after padding.\n\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\"; // Reconstruct the final output based on the desired alignment.\n\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function () {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}","export default function (grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}","export default function (numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n}","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function (s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n\n      default:\n        if (!+s[i]) break out;\n        if (i0 > 0) i0 = 0;\n        break;\n    }\n  }\n\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}","import exponent from \"./exponent.js\";\nexport default function (step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}","import exponent from \"./exponent.js\";\nexport default function (step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}","import exponent from \"./exponent.js\";\nexport default function (step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}","import value from \"./value.js\";\nimport numberArray, { isNumberArray } from \"./numberArray.js\";\nexport default function (a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) {\n    x[i] = value(a[i], b[i]);\n  }\n\n  for (; i < nb; ++i) {\n    c[i] = b[i];\n  }\n\n  return function (t) {\n    for (i = 0; i < na; ++i) {\n      c[i] = x[i](t);\n    }\n\n    return c;\n  };\n}","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1,\n      t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0 + (4 - 6 * t2 + 3 * t3) * v1 + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2 + t3 * v3) / 6;\n}\nexport default function (values) {\n  var n = values.length - 1;\n  return function (t) {\n    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}","import { basis } from \"./basis.js\";\nexport default function (values) {\n  var n = values.length;\n  return function (t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}","export default (function (x) {\n  return function () {\n    return x;\n  };\n});","export default function (a, b) {\n  var d = new Date();\n  return a = +a, b = +b, function (t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}","export default function (a, b) {\n  return a = +a, b = +b, function (t) {\n    return a * (1 - t) + b * t;\n  };\n}","export default function (a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function (t) {\n    for (i = 0; i < n; ++i) {\n      c[i] = a[i] * (1 - t) + b[i] * t;\n    }\n\n    return c;\n  };\n}\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}","import value from \"./value.js\";\nexport default function (a, b) {\n  var i = {},\n      c = {},\n      k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function (t) {\n    for (k in i) {\n      c[k] = i[k](t);\n    }\n\n    return c;\n  };\n}","import { rgb as colorRgb } from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, { gamma } from \"./color.js\";\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function (colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i,\n        color;\n\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function (t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);","export default function (a, b) {\n  return a = +a, b = +b, function (t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}","import number from \"./number.js\";\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function (a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: number(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) {\n      s[(o = q[i]).i] = o.x(t);\n    }\n\n    return s.join(\"\");\n  });\n}","import { color } from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport { genericArray } from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, { isNumberArray } from \"./numberArray.js\";\nexport default function (a, b) {\n  var t = typeof b,\n      c;\n  return b == null || t === \"boolean\" ? constant(b) : (t === \"number\" ? number : t === \"string\" ? (c = color(b)) ? (b = c, rgb) : string : b instanceof color ? rgb : b instanceof Date ? date : isNumberArray(b) ? numberArray : Array.isArray(b) ? genericArray : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : number)(a, b);\n}","import formatLocale from \"./locale.js\";\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}","import { timeDay, timeSunday, timeMonday, timeThursday, timeYear, utcDay, utcSunday, utcMonday, utcThursday, utcYear } from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {\n    y: y,\n    m: m,\n    d: d,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  }; // These recursive directive definitions must be deferred.\n\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function (string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week,\n          day;\n      if (i != string.length) return null; // If a UNIX timestamp is specified, return it.\n\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0)); // If this is utcParse, never use the local timezone.\n\n      if (Z && !(\"Z\" in d)) d.Z = 0; // The am-pm flag is 0 for AM, and 1 for PM.\n\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12; // If the month was not specified, inherit from the quarter.\n\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0; // Convert day-of-week and week-of-year to day-of-year.\n\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      } // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n\n\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      } // Otherwise, all fields are in local time.\n\n\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function format(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    parse: function parse(specifier) {\n      var p = newParse(specifier += \"\", false);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    },\n    utcFormat: function utcFormat(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    utcParse: function utcParse(specifier) {\n      var p = newParse(specifier += \"\", true);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    }\n  };\n}\nvar pads = {\n  \"-\": \"\",\n  \"_\": \" \",\n  \"0\": \"0\"\n},\n    numberRe = /^\\s*\\d+/,\n    // note: ignores next directive\npercentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map(function (name, i) {\n    return [name.toLowerCase(), i];\n  }));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return day >= 4 || day === 0 ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}","import interval from \"./interval.js\";\nimport { durationDay, durationMinute } from \"./duration.js\";\nvar day = interval(function (date) {\n  return date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  return date.setDate(date.getDate() + step);\n}, function (start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n  return date.getDate() - 1;\n});\nexport default day;\nexport var days = day.range;","export var durationSecond = 1000;\nexport var durationMinute = durationSecond * 60;\nexport var durationHour = durationMinute * 60;\nexport var durationDay = durationHour * 24;\nexport var durationWeek = durationDay * 7;\nexport var durationMonth = durationDay * 30;\nexport var durationYear = durationDay * 365;","import interval from \"./interval.js\";\nimport { durationHour, durationMinute, durationSecond } from \"./duration.js\";\nvar hour = interval(function (date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getHours();\n});\nexport default hour;\nexport var hours = hour.range;","var t0 = new Date(),\n    t1 = new Date();\nexport default function newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date() : new Date(+date)), date;\n  }\n\n  interval.floor = function (date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function (date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function (date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function (date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function (start, stop, step) {\n    var range = [],\n        previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n\n    do {\n      range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    } while (previous < start && start < stop);\n\n    return range;\n  };\n\n  interval.filter = function (test) {\n    return newInterval(function (date) {\n      if (date >= date) while (floori(date), !test(date)) {\n        date.setTime(date - 1);\n      }\n    }, function (date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function (start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function (step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n        return field(d) % step === 0;\n      } : function (d) {\n        return interval.count(0, d) % step === 0;\n      });\n    };\n  }\n\n  return interval;\n}","import interval from \"./interval.js\";\nvar millisecond = interval(function () {// noop\n}, function (date, step) {\n  date.setTime(+date + step);\n}, function (start, end) {\n  return end - start;\n}); // An optimized implementation for this simple case.\n\nmillisecond.every = function (k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function (date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function (date, step) {\n    date.setTime(+date + step * k);\n  }, function (start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;","import interval from \"./interval.js\";\nimport { durationMinute, durationSecond } from \"./duration.js\";\nvar minute = interval(function (date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getMinutes();\n});\nexport default minute;\nexport var minutes = minute.range;","import interval from \"./interval.js\";\nvar month = interval(function (date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n  return date.getMonth();\n});\nexport default month;\nexport var months = month.range;","import interval from \"./interval.js\";\nimport { durationSecond } from \"./duration.js\";\nvar second = interval(function (date) {\n  date.setTime(date - date.getMilliseconds());\n}, function (date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n  return (end - start) / durationSecond;\n}, function (date) {\n  return date.getUTCSeconds();\n});\nexport default second;\nexport var seconds = second.range;","import ascending from \"./ascending.js\";\nexport default function (f) {\n  var delta = f;\n  var compare = f;\n\n  if (f.length === 1) {\n    delta = function delta(d, x) {\n      return f(d) - x;\n    };\n\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n    }\n\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n    }\n\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    var i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {\n    left: left,\n    center: center,\n    right: right\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}","export default function (a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\nexport default function (start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    var r0 = Math.round(start / step),\n        r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n\n    while (++i < n) {\n      ticks[i] = (r0 + i) * step;\n    }\n  } else {\n    step = -step;\n\n    var _r = Math.round(start * step),\n        _r2 = Math.round(stop * step);\n\n    if (_r / step < start) ++_r;\n    if (_r2 / step > stop) --_r2;\n    ticks = new Array(n = _r2 - _r + 1);\n\n    while (++i < n) {\n      ticks[i] = (_r + i) / step;\n    }\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}","import _slicedToArray from \"/home/runner/work/chart-parts/chart-parts/.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { bisector, tickStep } from \"d3-array\";\nimport { durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear } from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport { sunday as week } from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport { utcSunday as utcWeek } from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n  var tickIntervals = [[second, 1, durationSecond], [second, 5, 5 * durationSecond], [second, 15, 15 * durationSecond], [second, 30, 30 * durationSecond], [minute, 1, durationMinute], [minute, 5, 5 * durationMinute], [minute, 15, 15 * durationMinute], [minute, 30, 30 * durationMinute], [hour, 1, durationHour], [hour, 3, 3 * durationHour], [hour, 6, 6 * durationHour], [hour, 12, 12 * durationHour], [day, 1, durationDay], [day, 2, 2 * durationDay], [week, 1, durationWeek], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n\n  function ticks(start, stop, count) {\n    var reverse = stop < start;\n\n    if (reverse) {\n      var _ref = [stop, start];\n      start = _ref[0];\n      stop = _ref[1];\n    }\n\n    var interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    var ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    var target = Math.abs(stop - start) / count;\n    var i = bisector(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 3),\n          step = _ref3[2];\n\n      return step;\n    }).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n\n    var _tickIntervals = _slicedToArray(tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i], 2),\n        t = _tickIntervals[0],\n        step = _tickIntervals[1];\n\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nvar _ticker = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute),\n    _ticker2 = _slicedToArray(_ticker, 2),\n    utcTicks = _ticker2[0],\n    utcTickInterval = _ticker2[1];\n\nvar _ticker3 = ticker(year, month, week, day, hour, minute),\n    _ticker4 = _slicedToArray(_ticker3, 2),\n    timeTicks = _ticker4[0],\n    timeTickInterval = _ticker4[1];\n\nexport { utcTicks, utcTickInterval, timeTicks, timeTickInterval };","import interval from \"./interval.js\";\nimport { durationDay } from \"./duration.js\";\nvar utcDay = interval(function (date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n  return (end - start) / durationDay;\n}, function (date) {\n  return date.getUTCDate() - 1;\n});\nexport default utcDay;\nexport var utcDays = utcDay.range;","import interval from \"./interval.js\";\nimport { durationHour } from \"./duration.js\";\nvar utcHour = interval(function (date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getUTCHours();\n});\nexport default utcHour;\nexport var utcHours = utcHour.range;","import interval from \"./interval.js\";\nimport { durationMinute } from \"./duration.js\";\nvar utcMinute = interval(function (date) {\n  date.setUTCSeconds(0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getUTCMinutes();\n});\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;","import interval from \"./interval.js\";\nvar utcMonth = interval(function (date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function (start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function (date) {\n  return date.getUTCMonth();\n});\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;","import interval from \"./interval.js\";\nimport { durationWeek } from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function (date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function (start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;","import interval from \"./interval.js\";\nvar utcYear = interval(function (date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n  return date.getUTCFullYear();\n}); // An optimized implementation for this simple case.\n\nutcYear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function (date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;","import interval from \"./interval.js\";\nimport { durationMinute, durationWeek } from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function (date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;","import interval from \"./interval.js\";\nvar year = interval(function (date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function (date) {\n  return date.getFullYear();\n}); // An optimized implementation for this simple case.\n\nyear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function (date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n  setTimeout: function (_setTimeout) {\n    function setTimeout() {\n      return _setTimeout.apply(this, arguments);\n    }\n\n    setTimeout.toString = function () {\n      return _setTimeout.toString();\n    };\n\n    return setTimeout;\n  }(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var delegate = timeoutProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) || setTimeout).apply(void 0, __spreadArray([], __read(args)));\n  }),\n  clearTimeout: function (_clearTimeout) {\n    function clearTimeout(_x) {\n      return _clearTimeout.apply(this, arguments);\n    }\n\n    clearTimeout.toString = function () {\n      return _clearTimeout.toString();\n    };\n\n    return clearTimeout;\n  }(function (handle) {\n    var delegate = timeoutProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n  }),\n  delegate: undefined\n};","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n  timeoutProvider.setTimeout(function () {\n    var onUnhandledError = config.onUnhandledError;\n\n    if (onUnhandledError) {\n      onUnhandledError(err);\n    } else {\n      throw err;\n    }\n  });\n}","export function noop() {}","export var COMPLETE_NOTIFICATION = function () {\n  return createNotification('C', undefined, undefined);\n}();\nexport function errorNotification(error) {\n  return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n  return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n  return {\n    kind: kind,\n    value: value,\n    error: error\n  };\n}","import { __extends, __read, __spreadArray } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\n\nvar Subscriber = function (_super) {\n  __extends(Subscriber, _super);\n\n  function Subscriber(destination) {\n    var _this = _super.call(this) || this;\n\n    _this.isStopped = false;\n\n    if (destination) {\n      _this.destination = destination;\n\n      if (isSubscription(destination)) {\n        destination.add(_this);\n      }\n    } else {\n      _this.destination = EMPTY_OBSERVER;\n    }\n\n    return _this;\n  }\n\n  Subscriber.create = function (next, error, complete) {\n    return new SafeSubscriber(next, error, complete);\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (this.isStopped) {\n      handleStoppedNotification(nextNotification(value), this);\n    } else {\n      this._next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (this.isStopped) {\n      handleStoppedNotification(errorNotification(err), this);\n    } else {\n      this.isStopped = true;\n\n      this._error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function () {\n    if (this.isStopped) {\n      handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n    } else {\n      this.isStopped = true;\n\n      this._complete();\n    }\n  };\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (!this.closed) {\n      this.isStopped = true;\n\n      _super.prototype.unsubscribe.call(this);\n\n      this.destination = null;\n    }\n  };\n\n  Subscriber.prototype._next = function (value) {\n    this.destination.next(value);\n  };\n\n  Subscriber.prototype._error = function (err) {\n    try {\n      this.destination.error(err);\n    } finally {\n      this.unsubscribe();\n    }\n  };\n\n  Subscriber.prototype._complete = function () {\n    try {\n      this.destination.complete();\n    } finally {\n      this.unsubscribe();\n    }\n  };\n\n  return Subscriber;\n}(Subscription);\n\nexport { Subscriber };\n\nvar SafeSubscriber = function (_super) {\n  __extends(SafeSubscriber, _super);\n\n  function SafeSubscriber(observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    var next;\n\n    if (isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next, error = observerOrNext.error, complete = observerOrNext.complete;\n      var context_1;\n\n      if (_this && config.useDeprecatedNextContext) {\n        context_1 = Object.create(observerOrNext);\n\n        context_1.unsubscribe = function () {\n          return _this.unsubscribe();\n        };\n      } else {\n        context_1 = observerOrNext;\n      }\n\n      next = next === null || next === void 0 ? void 0 : next.bind(context_1);\n      error = error === null || error === void 0 ? void 0 : error.bind(context_1);\n      complete = complete === null || complete === void 0 ? void 0 : complete.bind(context_1);\n    }\n\n    _this.destination = {\n      next: next ? wrapForErrorHandling(next, _this) : noop,\n      error: wrapForErrorHandling(error !== null && error !== void 0 ? error : defaultErrorHandler, _this),\n      complete: complete ? wrapForErrorHandling(complete, _this) : noop\n    };\n    return _this;\n  }\n\n  return SafeSubscriber;\n}(Subscriber);\n\nexport { SafeSubscriber };\n\nfunction wrapForErrorHandling(handler, instance) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    try {\n      handler.apply(void 0, __spreadArray([], __read(args)));\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(err);\n      } else {\n        reportUnhandledError(err);\n      }\n    }\n  };\n}\n\nfunction defaultErrorHandler(err) {\n  throw err;\n}\n\nfunction handleStoppedNotification(notification, subscriber) {\n  var onStoppedNotification = config.onStoppedNotification;\n  onStoppedNotification && timeoutProvider.setTimeout(function () {\n    return onStoppedNotification(notification, subscriber);\n  });\n}\n\nexport var EMPTY_OBSERVER = {\n  closed: true,\n  next: noop,\n  error: defaultErrorHandler,\n  complete: noop\n};","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n  return function UnsubscriptionErrorImpl(errors) {\n    _super(this);\n\n    this.message = errors ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) {\n      return i + 1 + \") \" + err.toString();\n    }).join('\\n  ') : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n  };\n});","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\n\nvar Subscription = function () {\n  function Subscription(initialTeardown) {\n    this.initialTeardown = initialTeardown;\n    this.closed = false;\n    this._parentage = null;\n    this._teardowns = null;\n  }\n\n  Subscription.prototype.unsubscribe = function () {\n    var e_1, _a, e_2, _b;\n\n    var errors;\n\n    if (!this.closed) {\n      this.closed = true;\n      var _parentage = this._parentage;\n\n      if (_parentage) {\n        this._parentage = null;\n\n        if (Array.isArray(_parentage)) {\n          try {\n            for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n              var parent_1 = _parentage_1_1.value;\n              parent_1.remove(this);\n            }\n          } catch (e_1_1) {\n            e_1 = {\n              error: e_1_1\n            };\n          } finally {\n            try {\n              if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n        } else {\n          _parentage.remove(this);\n        }\n      }\n\n      var initialTeardown = this.initialTeardown;\n\n      if (isFunction(initialTeardown)) {\n        try {\n          initialTeardown();\n        } catch (e) {\n          errors = e instanceof UnsubscriptionError ? e.errors : [e];\n        }\n      }\n\n      var _teardowns = this._teardowns;\n\n      if (_teardowns) {\n        this._teardowns = null;\n\n        try {\n          for (var _teardowns_1 = __values(_teardowns), _teardowns_1_1 = _teardowns_1.next(); !_teardowns_1_1.done; _teardowns_1_1 = _teardowns_1.next()) {\n            var teardown_1 = _teardowns_1_1.value;\n\n            try {\n              execTeardown(teardown_1);\n            } catch (err) {\n              errors = errors !== null && errors !== void 0 ? errors : [];\n\n              if (err instanceof UnsubscriptionError) {\n                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n              } else {\n                errors.push(err);\n              }\n            }\n          }\n        } catch (e_2_1) {\n          e_2 = {\n            error: e_2_1\n          };\n        } finally {\n          try {\n            if (_teardowns_1_1 && !_teardowns_1_1.done && (_b = _teardowns_1.return)) _b.call(_teardowns_1);\n          } finally {\n            if (e_2) throw e_2.error;\n          }\n        }\n      }\n\n      if (errors) {\n        throw new UnsubscriptionError(errors);\n      }\n    }\n  };\n\n  Subscription.prototype.add = function (teardown) {\n    var _a;\n\n    if (teardown && teardown !== this) {\n      if (this.closed) {\n        execTeardown(teardown);\n      } else {\n        if (teardown instanceof Subscription) {\n          if (teardown.closed || teardown._hasParent(this)) {\n            return;\n          }\n\n          teardown._addParent(this);\n        }\n\n        (this._teardowns = (_a = this._teardowns) !== null && _a !== void 0 ? _a : []).push(teardown);\n      }\n    }\n  };\n\n  Subscription.prototype._hasParent = function (parent) {\n    var _parentage = this._parentage;\n    return _parentage === parent || Array.isArray(_parentage) && _parentage.includes(parent);\n  };\n\n  Subscription.prototype._addParent = function (parent) {\n    var _parentage = this._parentage;\n    this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n  };\n\n  Subscription.prototype._removeParent = function (parent) {\n    var _parentage = this._parentage;\n\n    if (_parentage === parent) {\n      this._parentage = null;\n    } else if (Array.isArray(_parentage)) {\n      arrRemove(_parentage, parent);\n    }\n  };\n\n  Subscription.prototype.remove = function (teardown) {\n    var _teardowns = this._teardowns;\n    _teardowns && arrRemove(_teardowns, teardown);\n\n    if (teardown instanceof Subscription) {\n      teardown._removeParent(this);\n    }\n  };\n\n  Subscription.EMPTY = function () {\n    var empty = new Subscription();\n    empty.closed = true;\n    return empty;\n  }();\n\n  return Subscription;\n}();\n\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n  return value instanceof Subscription || value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe);\n}\n\nfunction execTeardown(teardown) {\n  if (isFunction(teardown)) {\n    teardown();\n  } else {\n    teardown.unsubscribe();\n  }\n}","export var config = {\n  onUnhandledError: null,\n  onStoppedNotification: null,\n  Promise: undefined,\n  useDeprecatedSynchronousErrorHandling: false,\n  useDeprecatedNextContext: false\n};","export function arrRemove(arr, item) {\n  if (arr) {\n    var index = arr.indexOf(item);\n    0 <= index && arr.splice(index, 1);\n  }\n}","export function createErrorClass(createImpl) {\n  var _super = function _super(instance) {\n    Error.call(instance);\n    instance.stack = new Error().stack;\n  };\n\n  var ctorFunc = createImpl(_super);\n  ctorFunc.prototype = Object.create(Error.prototype);\n  ctorFunc.prototype.constructor = ctorFunc;\n  return ctorFunc;\n}","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n  if (config.useDeprecatedSynchronousErrorHandling) {\n    var isRoot = !context;\n\n    if (isRoot) {\n      context = {\n        errorThrown: false,\n        error: null\n      };\n    }\n\n    cb();\n\n    if (isRoot) {\n      var _a = context,\n          errorThrown = _a.errorThrown,\n          error = _a.error;\n      context = null;\n\n      if (errorThrown) {\n        throw error;\n      }\n    }\n  } else {\n    cb();\n  }\n}\nexport function captureError(err) {\n  if (config.useDeprecatedSynchronousErrorHandling && context) {\n    context.errorThrown = true;\n    context.error = err;\n  }\n}","export function isFunction(value) {\n  return typeof value === 'function';\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\nexport function __spreadArray(to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n\n  return to;\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  privateMap.set(receiver, value);\n  return value;\n}","module.exports = require(\"regenerator-runtime\");\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeReverse = arrayProto.reverse;\n\n/**\n * Reverses `array` so that the first element becomes the last, the second\n * element becomes the second to last, and so on.\n *\n * **Note:** This method mutates `array` and is based on\n * [`Array#reverse`](https://mdn.io/Array/reverse).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [1, 2, 3];\n *\n * _.reverse(array);\n * // => [3, 2, 1]\n *\n * console.log(array);\n * // => [3, 2, 1]\n */\nfunction reverse(array) {\n  return array == null ? array : nativeReverse.call(array);\n}\n\nmodule.exports = reverse;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export var observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();","export function identity(x) {\n  return x;\n}","import { identity } from './identity';\nexport function pipe() {\n  var fns = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    fns[_i] = arguments[_i];\n  }\n\n  return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n  if (fns.length === 0) {\n    return identity;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input) {\n    return fns.reduce(function (prev, fn) {\n      return fn(prev);\n    }, input);\n  };\n}","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\n\nvar Observable = function () {\n  function Observable(subscribe) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  Observable.prototype.lift = function (operator) {\n    var observable = new Observable();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  };\n\n  Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n    var _this = this;\n\n    var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n    errorContext(function () {\n      var _a = _this,\n          operator = _a.operator,\n          source = _a.source;\n      subscriber.add(operator ? operator.call(subscriber, source) : source ? _this._subscribe(subscriber) : _this._trySubscribe(subscriber));\n    });\n    return subscriber;\n  };\n\n  Observable.prototype._trySubscribe = function (sink) {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      sink.error(err);\n    }\n  };\n\n  Observable.prototype.forEach = function (next, promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var subscription;\n      subscription = _this.subscribe(function (value) {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n        }\n      }, reject, resolve);\n    });\n  };\n\n  Observable.prototype._subscribe = function (subscriber) {\n    var _a;\n\n    return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n  };\n\n  Observable.prototype[Symbol_observable] = function () {\n    return this;\n  };\n\n  Observable.prototype.pipe = function () {\n    var operations = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      operations[_i] = arguments[_i];\n    }\n\n    return pipeFromArray(operations)(this);\n  };\n\n  Observable.prototype.toPromise = function (promiseCtor) {\n    var _this = this;\n\n    promiseCtor = getPromiseCtor(promiseCtor);\n    return new promiseCtor(function (resolve, reject) {\n      var value;\n\n      _this.subscribe(function (x) {\n        return value = x;\n      }, function (err) {\n        return reject(err);\n      }, function () {\n        return resolve(value);\n      });\n    });\n  };\n\n  Observable.create = function (subscribe) {\n    return new Observable(subscribe);\n  };\n\n  return Observable;\n}();\n\nexport { Observable };\n\nfunction getPromiseCtor(promiseCtor) {\n  var _a;\n\n  return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\n\nfunction isObserver(value) {\n  return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\n\nfunction isSubscriber(value) {\n  return value && value instanceof Subscriber || isObserver(value) && isSubscription(value);\n}","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n  return function ObjectUnsubscribedErrorImpl() {\n    _super(this);\n\n    this.name = 'ObjectUnsubscribedError';\n    this.message = 'object unsubscribed';\n  };\n});","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\n\nvar Subject = function (_super) {\n  __extends(Subject, _super);\n\n  function Subject() {\n    var _this = _super.call(this) || this;\n\n    _this.closed = false;\n    _this.observers = [];\n    _this.isStopped = false;\n    _this.hasError = false;\n    _this.thrownError = null;\n    return _this;\n  }\n\n  Subject.prototype.lift = function (operator) {\n    var subject = new AnonymousSubject(this, this);\n    subject.operator = operator;\n    return subject;\n  };\n\n  Subject.prototype._throwIfClosed = function () {\n    if (this.closed) {\n      throw new ObjectUnsubscribedError();\n    }\n  };\n\n  Subject.prototype.next = function (value) {\n    var _this = this;\n\n    errorContext(function () {\n      var e_1, _a;\n\n      _this._throwIfClosed();\n\n      if (!_this.isStopped) {\n        var copy = _this.observers.slice();\n\n        try {\n          for (var copy_1 = __values(copy), copy_1_1 = copy_1.next(); !copy_1_1.done; copy_1_1 = copy_1.next()) {\n            var observer = copy_1_1.value;\n            observer.next(value);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (copy_1_1 && !copy_1_1.done && (_a = copy_1.return)) _a.call(copy_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    });\n  };\n\n  Subject.prototype.error = function (err) {\n    var _this = this;\n\n    errorContext(function () {\n      _this._throwIfClosed();\n\n      if (!_this.isStopped) {\n        _this.hasError = _this.isStopped = true;\n        _this.thrownError = err;\n        var observers = _this.observers;\n\n        while (observers.length) {\n          observers.shift().error(err);\n        }\n      }\n    });\n  };\n\n  Subject.prototype.complete = function () {\n    var _this = this;\n\n    errorContext(function () {\n      _this._throwIfClosed();\n\n      if (!_this.isStopped) {\n        _this.isStopped = true;\n        var observers = _this.observers;\n\n        while (observers.length) {\n          observers.shift().complete();\n        }\n      }\n    });\n  };\n\n  Subject.prototype.unsubscribe = function () {\n    this.isStopped = this.closed = true;\n    this.observers = null;\n  };\n\n  Object.defineProperty(Subject.prototype, \"observed\", {\n    get: function get() {\n      var _a;\n\n      return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Subject.prototype._trySubscribe = function (subscriber) {\n    this._throwIfClosed();\n\n    return _super.prototype._trySubscribe.call(this, subscriber);\n  };\n\n  Subject.prototype._subscribe = function (subscriber) {\n    this._throwIfClosed();\n\n    this._checkFinalizedStatuses(subscriber);\n\n    return this._innerSubscribe(subscriber);\n  };\n\n  Subject.prototype._innerSubscribe = function (subscriber) {\n    var _a = this,\n        hasError = _a.hasError,\n        isStopped = _a.isStopped,\n        observers = _a.observers;\n\n    return hasError || isStopped ? EMPTY_SUBSCRIPTION : (observers.push(subscriber), new Subscription(function () {\n      return arrRemove(observers, subscriber);\n    }));\n  };\n\n  Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n    var _a = this,\n        hasError = _a.hasError,\n        thrownError = _a.thrownError,\n        isStopped = _a.isStopped;\n\n    if (hasError) {\n      subscriber.error(thrownError);\n    } else if (isStopped) {\n      subscriber.complete();\n    }\n  };\n\n  Subject.prototype.asObservable = function () {\n    var observable = new Observable();\n    observable.source = this;\n    return observable;\n  };\n\n  Subject.create = function (destination, source) {\n    return new AnonymousSubject(destination, source);\n  };\n\n  return Subject;\n}(Observable);\n\nexport { Subject };\n\nvar AnonymousSubject = function (_super) {\n  __extends(AnonymousSubject, _super);\n\n  function AnonymousSubject(destination, source) {\n    var _this = _super.call(this) || this;\n\n    _this.destination = destination;\n    _this.source = source;\n    return _this;\n  }\n\n  AnonymousSubject.prototype.next = function (value) {\n    var _a, _b;\n\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  };\n\n  AnonymousSubject.prototype.error = function (err) {\n    var _a, _b;\n\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n  };\n\n  AnonymousSubject.prototype.complete = function () {\n    var _a, _b;\n\n    (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n\n  AnonymousSubject.prototype._subscribe = function (subscriber) {\n    var _a, _b;\n\n    return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n  };\n\n  return AnonymousSubject;\n}(Subject);\n\nexport { AnonymousSubject };","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tMark,\n\tChannels,\n\tChannelHandler,\n\tMarkEncoding,\n\tMarkEncodings,\n\tFacet,\n\tMarkType,\n\tItemIdGenerator,\n} from '@chart-parts/interfaces'\nimport { SceneNodeSpec } from './SceneNodeSpec'\n\n/**\n * Mark Specification Object\n * @category Specification\n */\nexport class MarkSpec implements Mark {\n\tprivate _table: string | undefined\n\tprivate _channels: Channels = {}\n\tprivate _encodings: MarkEncodings = {}\n\tprivate _role?: string\n\tprivate _name?: string\n\tprivate _child?: SceneNodeSpec\n\tprivate _facet?: Facet\n\tprivate _idGenerator?: ItemIdGenerator\n\n\tpublic constructor(public readonly type: MarkType) {}\n\n\tpublic get child() {\n\t\treturn this._child\n\t}\n\n\tpublic set child(value: SceneNodeSpec | undefined) {\n\t\tthis._child = value\n\t}\n\n\tpublic get table(): string | undefined {\n\t\treturn this._table\n\t}\n\n\tpublic set table(value: string | undefined) {\n\t\tthis._table = value\n\t}\n\n\tpublic get name(): string | undefined {\n\t\treturn this._name\n\t}\n\n\tpublic set name(value: string | undefined) {\n\t\tthis._name = value\n\t}\n\n\tpublic get role() {\n\t\treturn this._role\n\t}\n\n\tpublic set role(value: string | undefined) {\n\t\tthis._role = value\n\t}\n\n\tpublic get idGenerator(): ItemIdGenerator | undefined {\n\t\treturn this._idGenerator\n\t}\n\n\tpublic set idGenerator(value: ItemIdGenerator | undefined) {\n\t\tthis._idGenerator = value\n\t}\n\n\tpublic get facet(): Facet | undefined {\n\t\treturn this._facet\n\t}\n\n\tpublic set facet(value: Facet | undefined) {\n\t\tthis._facet = value\n\t}\n\n\tpublic get encodings(): MarkEncodings {\n\t\treturn this._encodings\n\t}\n\n\tpublic get channels(): Channels {\n\t\treturn this._channels\n\t}\n\n\tpublic applyHandler(key: string, handler: ChannelHandler<any> | undefined) {\n\t\tif (handler != null) {\n\t\t\tthis._channels[key] = handler\n\t\t} else {\n\t\t\tdelete this._channels[key]\n\t\t}\n\t}\n\n\tpublic applyEncoding<T>(key: string, encoding: undefined | MarkEncoding<T>) {\n\t\tif (encoding != null) {\n\t\t\tthis._encodings[key] = encoding\n\t\t} else {\n\t\t\tdelete this._encodings[key]\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { SceneNode, ScaleCreator } from '@chart-parts/interfaces'\nimport { AxisSpec } from './AxisSpec'\nimport { MarkSpec } from './MarkSpec'\n\n/**\n * Scene Specification Object\n * @category Specification\n */\nexport class SceneNodeSpec implements SceneNode {\n\tprivate _scales: ScaleCreator[] = []\n\tprivate _marks: MarkSpec[] = []\n\tprivate _axes: AxisSpec[] = []\n\n\tpublic get scales() {\n\t\treturn this._scales\n\t}\n\n\tpublic get marks() {\n\t\treturn this._marks\n\t}\n\n\tpublic get axes() {\n\t\treturn this._axes\n\t}\n\n\tpublic addScale(value: ScaleCreator) {\n\t\tthis._scales.push(value)\n\t}\n\n\tpublic removeScale(value: ScaleCreator) {\n\t\tthis._scales = this._scales.filter(v => v !== value)\n\t}\n\n\tpublic addMark(value: MarkSpec) {\n\t\tthis._marks.push(value)\n\t}\n\n\tpublic removeMark(value: MarkSpec) {\n\t\tthis._marks = this._marks.filter(m => m !== value)\n\t}\n\n\tpublic addAxis(value: AxisSpec) {\n\t\tthis._axes.push(value)\n\t}\n\n\tpublic removeAxis(value: AxisSpec) {\n\t\tthis._axes = this._axes.filter(m => m !== value)\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { SceneNode, ScaleCreator, ScaleBuilder } from '@chart-parts/interfaces'\nimport { Subject, Subscription } from 'rxjs'\nimport { SceneNodeSpec } from '../spec/SceneNodeSpec'\nimport { AxisBuilder } from './AxisBuilder'\nimport { MarkBuilder } from './MarkBuilder'\n\ninterface SubscribableHandle<T> {\n\titem: T\n\tsubscription: Subscription\n}\n\n/**\n * The build component for scene nodes\n * @category Builder\n */\nexport class SceneNodeBuilder {\n\tpublic readonly onChange = new Subject<any>()\n\tpublic readonly spec = new SceneNodeSpec()\n\tprivate markBuilders: Array<SubscribableHandle<MarkBuilder>> = []\n\tprivate axisBuilders: Array<SubscribableHandle<AxisBuilder>> = []\n\n\t/**\n\t * The scales defined for children of this node\n\t */\n\tprivate scales: ScaleCreator[] = []\n\n\t/**\n\t * Adds a scale-creator to the scene configuration\n\t * @param name The name of the scale-creator to add\n\t * @param table The name of the bound datatable to use\n\t * @param creator The scale-creator\n\t */\n\tpublic scale(\n\t\t...creators: Array<ScaleCreator | ScaleBuilder>\n\t): SceneNodeBuilder {\n\t\tcreators.forEach(c => {\n\t\t\tconst scaleCreator = typeof c === 'function' ? c : c.build\n\t\t\tthis.spec.addScale(scaleCreator)\n\t\t\tthis.scales.push(scaleCreator)\n\t\t})\n\t\tthis.onChange.next('node add scales')\n\t\treturn this\n\t}\n\n\tpublic removeScale(scale: ScaleCreator | ScaleBuilder): SceneNodeBuilder {\n\t\tif (typeof scale === 'function') {\n\t\t\tthis.spec.removeScale(scale)\n\t\t\tthis.scales = this.scales.filter(s => s !== scale)\n\t\t} else {\n\t\t\tthis.spec.removeScale(scale.build)\n\t\t\tthis.scales = this.scales.filter(s => s !== scale.build)\n\t\t}\n\t\tthis.onChange.next('node remove scale')\n\t\treturn this\n\t}\n\n\tpublic mark(...builders: MarkBuilder[]): SceneNodeBuilder {\n\t\tbuilders.forEach(b => {\n\t\t\tthis.spec.addMark(b.spec)\n\t\t\tthis.markBuilders.push({\n\t\t\t\titem: b,\n\t\t\t\tsubscription: b.onChange.subscribe(c => this.onChange.next(c)),\n\t\t\t})\n\t\t})\n\t\tthis.onChange.next('node add marks')\n\t\treturn this\n\t}\n\n\tpublic removeMark(builder: MarkBuilder): SceneNodeBuilder {\n\t\tthis.markBuilders = this.markBuilders.filter(t => {\n\t\t\tif (t.item === builder) {\n\t\t\t\tthis.spec.removeMark(t.item.spec)\n\t\t\t\tt.subscription.unsubscribe()\n\t\t\t}\n\t\t\treturn t.item !== builder\n\t\t})\n\t\tthis.onChange.next('node remove mark')\n\t\treturn this\n\t}\n\n\tpublic axes(...builders: AxisBuilder[]): SceneNodeBuilder {\n\t\tbuilders.forEach(b => {\n\t\t\tthis.spec.addAxis(b.spec)\n\t\t\tthis.axisBuilders.push({\n\t\t\t\titem: b,\n\t\t\t\tsubscription: b.onChange.subscribe(c => this.onChange.next(c)),\n\t\t\t})\n\t\t})\n\t\tthis.onChange.next('node remove axes')\n\t\treturn this\n\t}\n\n\tpublic removeAxis(builder: AxisBuilder): SceneNodeBuilder {\n\t\tthis.axisBuilders = this.axisBuilders.filter(t => {\n\t\t\tif (t.item === builder) {\n\t\t\t\tthis.spec.removeAxis(t.item.spec)\n\t\t\t\tt.subscription.unsubscribe()\n\t\t\t}\n\t\t\treturn t.item !== builder\n\t\t})\n\t\tthis.onChange.next('node remove axis')\n\t\treturn this\n\t}\n\n\t/**\n\t * Builds the scene object\n\t */\n\tpublic build(): SceneNode {\n\t\treturn this.spec\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\n/* eslint-disable no-dupe-class-members */\nimport {\n\tMark,\n\tChannels,\n\tChannelHandler,\n\tMarkEncoding,\n\tMarkEncodings,\n\tMarkEncodingKey,\n\tFacet,\n\tGradient,\n\tMarkType,\n\tStrokeCap,\n\tStrokeJoin,\n\tOrientation,\n\tInterpolation,\n\tHorizontalAlignment,\n\tVerticalAlignment,\n\tVerticalTextAlignment,\n\tSymbolType,\n\tFontWeight,\n\tTextDirection,\n\tItemIdGenerator,\n\tMetadata,\n} from '@chart-parts/interfaces'\nimport { Subject, Subscription } from 'rxjs'\nimport { MarkSpec } from '../spec/MarkSpec'\nimport { SceneNodeBuilder } from './SceneNodeBuilder'\n\n/**\n * A builder component for mark specifications\n * @category Builder\n */\nexport class MarkBuilder {\n\tpublic readonly onChange = new Subject()\n\tpublic readonly spec: MarkSpec\n\tprivate _child?: SceneNodeBuilder\n\tprivate _childSubscription?: Subscription\n\n\tpublic constructor(public readonly type: MarkType) {\n\t\tthis.spec = new MarkSpec(type)\n\t}\n\n\tpublic table(table: string | undefined): MarkBuilder {\n\t\tthis.spec.table = table\n\t\tthis.onChange.next('mark table changed')\n\t\treturn this\n\t}\n\n\tpublic role(role: string | undefined): MarkBuilder {\n\t\tthis.spec.role = role\n\t\tthis.onChange.next('mark role changed')\n\t\treturn this\n\t}\n\n\tpublic name(name: string | undefined): MarkBuilder {\n\t\tthis.spec.name = name\n\t\tthis.onChange.next('mark name changed')\n\t\treturn this\n\t}\n\n\tpublic idGenerator(generator: ItemIdGenerator): MarkBuilder {\n\t\tthis.spec.idGenerator = generator\n\t\tthis.onChange.next('mark idGenerator changed')\n\t\treturn this\n\t}\n\n\tpublic handle(\n\t\tname: string,\n\t\thandler: ChannelHandler<any> | undefined,\n\t): MarkBuilder\n\tpublic handle(channels: Channels): MarkBuilder\n\tpublic handle(\n\t\tname: string | Channels,\n\t\thandler?: ChannelHandler<any>,\n\t): MarkBuilder {\n\t\tif (typeof name === 'string') {\n\t\t\tthis.spec.applyHandler(name, handler)\n\t\t} else {\n\t\t\tObject.entries(name as Channels).forEach(([nameVal, handlerVal]) =>\n\t\t\t\tthis.spec.applyHandler(nameVal, handlerVal),\n\t\t\t)\n\t\t}\n\n\t\tthis.onChange.next('mark handlers changed')\n\t\treturn this\n\t}\n\n\t// #region Mark Encoding\n\tpublic encode(\n\t\tkey: MarkEncodingKey.x,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.x2,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.xc,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.width,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.y,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.y2,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.yc,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.height,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.opacity,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.fill,\n\t\tencoding: undefined | MarkEncoding<string | Gradient>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.fillOpacity,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.stroke,\n\t\tencoding: undefined | MarkEncoding<string | Gradient>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeOpacity,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeWidth,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeCap,\n\t\tencoding: undefined | MarkEncoding<StrokeCap>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeDash,\n\t\tencoding: undefined | MarkEncoding<[number, number]>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeDashOffset,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeJoin,\n\t\tencoding: undefined | MarkEncoding<StrokeJoin>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.strokeMiterLimit,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.cursor,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.href,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.tooltip,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.zIndex,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.startAngle,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.endAngle,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.padAngle,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.innerRadius,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.outerRadius,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.cornerRadius,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.orient,\n\t\tencoding: undefined | MarkEncoding<Orientation>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.interpolate,\n\t\tencoding: undefined | MarkEncoding<Interpolation>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.tension,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.defined,\n\t\tencoding: undefined | MarkEncoding<boolean>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.clip,\n\t\tencoding: undefined | MarkEncoding<boolean>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.url,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.aspect,\n\t\tencoding: undefined | MarkEncoding<boolean>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.align,\n\t\tencoding: undefined | MarkEncoding<HorizontalAlignment>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.baseline,\n\t\tencoding:\n\t\t\t| undefined\n\t\t\t| MarkEncoding<VerticalAlignment | VerticalTextAlignment>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.path,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.size,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.shape,\n\t\tencoding: undefined | MarkEncoding<SymbolType | string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.angle,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.dir,\n\t\tencoding: undefined | MarkEncoding<TextDirection>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.dx,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.dy,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.ellipsis,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.font,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.fontSize,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.fontWeight,\n\t\tencoding: undefined | MarkEncoding<FontWeight>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.fontVariant,\n\t\tencoding: undefined | MarkEncoding<string | number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.fontStyle,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.limit,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.radius,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.text,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.theta,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.ariaTitle,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.ariaDescription,\n\t\tencoding: undefined | MarkEncoding<string>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.tabIndex,\n\t\tencoding: undefined | MarkEncoding<number>,\n\t): MarkBuilder\n\tpublic encode(\n\t\tkey: MarkEncodingKey.metadata,\n\t\tencoding: undefined | MarkEncoding<Metadata>,\n\t): MarkBuilder\n\tpublic encode(key: MarkEncodingKey, encoding: MarkEncoding<any>): MarkBuilder\n\tpublic encode(encodings: MarkEncodings): MarkBuilder\n\n\t// #endregion\n\n\t// Polymorphic function definition\n\tpublic encode(\n\t\tfirst: MarkEncodingKey | MarkEncodings,\n\t\tencoding?: MarkEncoding<any>,\n\t): MarkBuilder {\n\t\tif (typeof first === 'string') {\n\t\t\t// Handle encode(key, encoding) invocations\n\t\t\tthis.spec.applyEncoding(first as string, encoding)\n\t\t} else {\n\t\t\t// Handle encode(map) invocations\n\t\t\tObject.entries(first as MarkEncodings).forEach(\n\t\t\t\t([name, entryEncoding]) => {\n\t\t\t\t\tthis.spec.applyEncoding(name, entryEncoding)\n\t\t\t\t},\n\t\t\t)\n\t\t}\n\n\t\tthis.onChange.next('mark encoders changed')\n\t\treturn this\n\t}\n\n\tpublic facet(facet: Facet | undefined): MarkBuilder {\n\t\tif (facet !== undefined && this.type !== MarkType.Group) {\n\t\t\tthrow new Error('faceting can only be applied to \"group\" type marks')\n\t\t}\n\t\tthis.spec.facet = facet\n\t\tthis.onChange.next('mark facet changed')\n\t\treturn this\n\t}\n\n\t/**\n\t * Pushes a new scene node onto the graph\n\t */\n\tpublic child(callback: (b: SceneNodeBuilder) => void): MarkBuilder {\n\t\tif (this.spec.child) {\n\t\t\tconsole.warn(`MarkBuilder may only have one child at a time`)\n\t\t}\n\t\t// in case this was set, clear out any existing subscriptinos\n\t\tif (this._childSubscription) {\n\t\t\tthis._childSubscription.unsubscribe()\n\t\t}\n\n\t\tthis._child = new SceneNodeBuilder()\n\t\tthis.spec.child = this._child.spec\n\t\tcallback(this._child)\n\t\tthis._childSubscription = this._child.onChange.subscribe(cause =>\n\t\t\tthis.onChange.next(cause),\n\t\t)\n\t\tthis.onChange.next('mark child changed')\n\t\treturn this\n\t}\n\n\tpublic build(): Mark {\n\t\tif (!this.spec.type) {\n\t\t\tthrow new Error('mark type must be set')\n\t\t}\n\t\treturn this.spec\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tChartOptions,\n\tDEFAULT_HEIGHT,\n\tDEFAULT_WIDTH,\n\tItemSpace,\n} from '@chart-parts/interfaces'\n\n/**\n * A class for managing chart options\n * @category Builder\n */\nexport class ChartOptionsManager {\n\tpublic constructor(private options: ChartOptions = {}) {}\n\n\tpublic get ariaTitle(): string {\n\t\treturn this.options.ariaTitle || 'data visualization using chart-parts'\n\t}\n\n\tpublic get ariaDescription(): string {\n\t\treturn this.options.ariaDescription || ''\n\t}\n\n\tpublic get chartSpace(): ItemSpace {\n\t\tconst chartWidth = this.options.width || DEFAULT_WIDTH\n\t\tconst chartHeight = this.options.height || DEFAULT_HEIGHT\n\t\tconst paddingLeft = this.paddingLeft\n\t\tconst paddingRight = this.paddingRight\n\t\tconst paddingTop = this.paddingTop\n\t\tconst paddingBottom = this.paddingBottom\n\n\t\tconst x = paddingLeft\n\t\tconst y = paddingTop\n\t\tconst width = chartWidth - paddingLeft - paddingRight\n\t\tconst height = chartHeight - paddingTop - paddingBottom\n\n\t\treturn {\n\t\t\torigin: { x, y },\n\t\t\tshape: { width, height },\n\t\t}\n\t}\n\n\tpublic get paddingTop(): number {\n\t\treturn this.getPadding('top')\n\t}\n\n\tpublic get paddingBottom(): number {\n\t\treturn this.getPadding('bottom')\n\t}\n\n\tpublic get paddingLeft(): number {\n\t\treturn this.getPadding('left')\n\t}\n\n\tpublic get paddingRight(): number {\n\t\treturn this.getPadding('right')\n\t}\n\n\tprivate getPadding(name: string): number {\n\t\tconst paddingType = typeof this.options.padding\n\t\tif (paddingType === 'number') {\n\t\t\treturn this.options.padding as number\n\t\t} else if (paddingType === 'object') {\n\t\t\treturn (this.options.padding as any)[name] || 0\n\t\t}\n\t\treturn 0\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\n/**\n * Default Axis coloring\n * @category Specification\n */\nexport const DEFAULT_AXIS_COLOR = '#777'\n\n/**\n * Default text color\n * @category Specification\n */\nexport const DEFAULT_AXIS_TEXT_COLOR = '#000'\n\n/**\n * Default axis line thickness\n * @category Specification\n */\nexport const DEFAULT_AXIS_STROKE = 1\n\n/**\n * Default axis tick size\n * @category Specification\n */\nexport const DEFAULT_AXIS_TICK_SIZE = 5\n\n/**\n * Default axis font size\n * @category Specification\n */\nexport const DEFAULT_AXIS_FONT_SIZE = 10\n\n/**\n * Default axis font\n * @category Specification\n */\nexport const DEFAULT_AXIS_FONT = 'sans-serif'\n\n/**\n * Default Axis Label Padding\n * @category Specification\n */\nexport const DEFAULT_AXIS_LABEL_PADDING = 1\n\n/**\n * Default Axis Band Position\n * @category Specification\n */\nexport const DEFAULT_AXIS_BAND_POSITION = 0.5\n\n/**\n * Default Axis Thickness\n * @category Specification\n */\nexport const DEFAULT_AXIS_THICKNESS = 25\n\n/**\n * Default Axis Tick Offset\n * @category Specification\n */\nexport const DEFAULT_AXIS_TICK_OFFSET_VALUE = 0\n\n/**\n * Default Axis Domain Flag\n * @category Specification\n */\nexport const DEFAULT_AXIS_DOMAIN_VALUE = true\n\n/**\n * Default Axis Ticks Flag\n * @category Specification\n */\nexport const DEFAULT_AXIS_TICKS_VALUE = true\n\n/**\n * Default Axis Round Flag\n * @category Specification\n */\nexport const DEFAULT_AXIS_TICK_ROUND_VALUE = false\n\n/**\n * Default Axis Labels Flag\n * @category Specification\n */\nexport const DEFAULT_AXIS_LABELS_VALUE = true\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tAxis,\n\tTickValue,\n\tFontWeight,\n\tAxisOrientation,\n} from '@chart-parts/interfaces'\nimport {\n\tDEFAULT_AXIS_THICKNESS,\n\tDEFAULT_AXIS_DOMAIN_VALUE,\n\tDEFAULT_AXIS_COLOR,\n\tDEFAULT_AXIS_STROKE,\n\tDEFAULT_AXIS_TICKS_VALUE,\n\tDEFAULT_AXIS_TICK_OFFSET_VALUE,\n\tDEFAULT_AXIS_TICK_ROUND_VALUE,\n\tDEFAULT_AXIS_TICK_SIZE,\n\tDEFAULT_AXIS_LABELS_VALUE,\n\tDEFAULT_AXIS_FONT,\n\tDEFAULT_AXIS_FONT_SIZE,\n\tDEFAULT_AXIS_TEXT_COLOR,\n\tDEFAULT_AXIS_LABEL_PADDING,\n\tDEFAULT_AXIS_BAND_POSITION,\n} from './defaults'\n\n/**\n * Axis Specification Object\n * @category Specification\n */\nexport class AxisSpec implements Axis {\n\tprivate _thickness: number = DEFAULT_AXIS_THICKNESS\n\n\tprivate _scale: string\n\tprivate _orient: AxisOrientation\n\n\t// #region Domain Configuration Fields\n\tprivate _domain: boolean = DEFAULT_AXIS_DOMAIN_VALUE\n\tprivate _domainColor: string = DEFAULT_AXIS_COLOR\n\tprivate _domainWidth: number = DEFAULT_AXIS_STROKE\n\t// #endregion\n\n\t// #region Tick Configuration Fields\n\tprivate _ticks = DEFAULT_AXIS_TICKS_VALUE\n\tprivate _tickColor: string = DEFAULT_AXIS_COLOR\n\tprivate _tickCount?: number\n\tprivate _tickOffset = DEFAULT_AXIS_TICK_OFFSET_VALUE\n\tprivate _tickRound = DEFAULT_AXIS_TICK_ROUND_VALUE\n\tprivate _tickSize: number = DEFAULT_AXIS_TICK_SIZE\n\tprivate _tickWidth: number = DEFAULT_AXIS_STROKE\n\tprivate _values?: TickValue[]\n\t// #endregion\n\n\t// #region Label Configuration Fields\n\tprivate _labels = DEFAULT_AXIS_LABELS_VALUE\n\tprivate _labelFont: string = DEFAULT_AXIS_FONT\n\tprivate _labelFontSize: number = DEFAULT_AXIS_FONT_SIZE\n\tprivate _labelColor: string = DEFAULT_AXIS_TEXT_COLOR\n\tprivate _labelPadding: number = DEFAULT_AXIS_LABEL_PADDING\n\tprivate _bandPosition: number = DEFAULT_AXIS_BAND_POSITION\n\tprivate _labelFontWeight?: FontWeight\n\tprivate _labelAlign?: string\n\tprivate _labelAngle?: number\n\tprivate _labelFormat?: string\n\t// #endregion\n\n\tpublic constructor(scale: string, orient: AxisOrientation) {\n\t\tthis._scale = scale\n\t\tthis._orient = orient\n\t}\n\n\tpublic get scale(): string {\n\t\treturn this._scale\n\t}\n\n\tpublic set scale(value: string) {\n\t\tthis._scale = value\n\t}\n\n\tpublic get orient(): AxisOrientation {\n\t\treturn this._orient\n\t}\n\n\tpublic set orient(value: AxisOrientation) {\n\t\tthis._orient = value\n\t}\n\n\tpublic get domain(): boolean | undefined {\n\t\treturn this._domain\n\t}\n\n\tpublic set domain(value: boolean | undefined) {\n\t\tthis._domain = value == null ? DEFAULT_AXIS_DOMAIN_VALUE : value\n\t}\n\n\tpublic get domainColor(): string | undefined {\n\t\treturn this._domainColor\n\t}\n\n\tpublic set domainColor(value: string | undefined) {\n\t\tthis._domainColor = value == null ? DEFAULT_AXIS_COLOR : value\n\t}\n\n\tpublic get domainWidth(): number | undefined {\n\t\treturn this._domainWidth\n\t}\n\n\tpublic set domainWidth(value: number | undefined) {\n\t\tthis._domainWidth = value == null ? DEFAULT_AXIS_STROKE : value\n\t}\n\n\tpublic get ticks(): boolean | undefined {\n\t\treturn this._ticks\n\t}\n\n\tpublic set ticks(value: boolean | undefined) {\n\t\tthis._ticks = value == null ? DEFAULT_AXIS_TICKS_VALUE : value\n\t}\n\n\tpublic get tickColor(): string | undefined {\n\t\treturn this._tickColor\n\t}\n\n\tpublic set tickColor(value: string | undefined) {\n\t\tthis._tickColor = value == null ? DEFAULT_AXIS_COLOR : value\n\t}\n\n\tpublic get tickCount(): number | undefined {\n\t\treturn this._tickCount\n\t}\n\n\tpublic set tickCount(value: number | undefined) {\n\t\tthis._tickCount = value\n\t}\n\n\tpublic get tickOffset(): number | undefined {\n\t\treturn this._tickOffset\n\t}\n\n\tpublic set tickOffset(value: number | undefined) {\n\t\tthis._tickOffset = value == null ? DEFAULT_AXIS_TICK_OFFSET_VALUE : value\n\t}\n\n\tpublic get tickRound(): boolean | undefined {\n\t\treturn this._tickRound\n\t}\n\n\tpublic set tickRound(value: boolean | undefined) {\n\t\tthis._tickRound = value == null ? DEFAULT_AXIS_TICK_ROUND_VALUE : value\n\t}\n\n\tpublic get tickSize(): number | undefined {\n\t\treturn this._tickSize\n\t}\n\n\tpublic set tickSize(value: number | undefined) {\n\t\tthis._tickSize = value == null ? DEFAULT_AXIS_TICK_SIZE : value\n\t}\n\n\tpublic get tickWidth(): number | undefined {\n\t\treturn this._tickWidth\n\t}\n\n\tpublic set tickWidth(value: number | undefined) {\n\t\tthis._tickWidth = value == null ? DEFAULT_AXIS_STROKE : value\n\t}\n\n\tpublic get values(): TickValue[] | undefined {\n\t\treturn this._values\n\t}\n\n\tpublic set values(values: TickValue[] | undefined) {\n\t\tthis._values = values\n\t}\n\n\tpublic get bandPosition(): number | undefined {\n\t\treturn this._bandPosition\n\t}\n\n\tpublic set bandPosition(value: number | undefined) {\n\t\tthis._bandPosition = value == null ? DEFAULT_AXIS_BAND_POSITION : value\n\t}\n\n\tpublic get labels(): boolean | undefined {\n\t\treturn this._labels\n\t}\n\n\tpublic set labels(value: boolean | undefined) {\n\t\tthis._labels = value == null ? DEFAULT_AXIS_LABELS_VALUE : value\n\t}\n\n\tpublic get labelAlign(): string | undefined {\n\t\treturn this._labelAlign\n\t}\n\n\tpublic set labelAlign(value: string | undefined) {\n\t\tthis._labelAlign = value\n\t}\n\n\tpublic get labelFont(): string | undefined {\n\t\treturn this._labelFont\n\t}\n\n\tpublic set labelFont(value: string | undefined) {\n\t\tthis._labelFont = value == null ? DEFAULT_AXIS_FONT : value\n\t}\n\n\tpublic get labelFontSize(): number | undefined {\n\t\treturn this._labelFontSize\n\t}\n\n\tpublic set labelFontSize(value: number | undefined) {\n\t\tthis._labelFontSize = value == null ? DEFAULT_AXIS_FONT_SIZE : value\n\t}\n\n\tpublic get labelColor(): string | undefined {\n\t\treturn this._labelColor\n\t}\n\n\tpublic set labelColor(value: string | undefined) {\n\t\tthis._labelColor = value == null ? DEFAULT_AXIS_TEXT_COLOR : value\n\t}\n\n\tpublic get labelPadding(): number | undefined {\n\t\treturn this._labelPadding\n\t}\n\n\tpublic set labelPadding(value: number | undefined) {\n\t\tthis._labelPadding = value == null ? DEFAULT_AXIS_LABEL_PADDING : value\n\t}\n\n\tpublic get labelFontWeight(): FontWeight | undefined {\n\t\treturn this._labelFontWeight\n\t}\n\n\tpublic set labelFontWeight(value: FontWeight | undefined) {\n\t\tthis._labelFontWeight = value\n\t}\n\n\tpublic get labelAngle(): number | undefined {\n\t\treturn this._labelAngle\n\t}\n\n\tpublic set labelAngle(value: number | undefined) {\n\t\tthis._labelAngle = value\n\t}\n\n\tpublic get labelFormat(): string | undefined {\n\t\treturn this._labelFormat\n\t}\n\n\tpublic set labelFormat(value: string | undefined) {\n\t\tthis._labelFormat = value\n\t}\n\n\tpublic get thickness() {\n\t\treturn this._thickness\n\t}\n\n\tpublic set thickness(value: number | undefined) {\n\t\tthis._thickness = value == null ? DEFAULT_AXIS_THICKNESS : value\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tAxis,\n\tAxisOrientation,\n\tTickValue,\n\tFontWeight,\n} from '@chart-parts/interfaces'\nimport { Subject } from 'rxjs'\nimport { AxisSpec } from '../spec/AxisSpec'\n\n/**\n * A builder class for defining Axes\n * @category Builder\n */\nexport class AxisBuilder {\n\tpublic readonly onChange = new Subject<any>()\n\tpublic readonly spec: AxisSpec\n\t// #endregion\n\n\tpublic constructor(scale: string, orient: AxisOrientation) {\n\t\tif (!scale) {\n\t\t\tthrow new Error('scale must be defined')\n\t\t}\n\n\t\tif (!orient) {\n\t\t\tthrow new Error('orient must be defined')\n\t\t}\n\t\tthis.spec = new AxisSpec(scale, orient)\n\t}\n\n\tpublic domain(value: boolean | undefined): this {\n\t\tthis.spec.domain = value\n\t\tthis.onChange.next('axis domain changed')\n\t\treturn this\n\t}\n\n\tpublic domainWidth(value: number | undefined): this {\n\t\tthis.spec.domainWidth = value\n\t\tthis.onChange.next('axis domain width changed')\n\t\treturn this\n\t}\n\n\tpublic domainColor(value: string | undefined): this {\n\t\tthis.spec.domainColor = value\n\t\tthis.onChange.next('axis domain color changed')\n\t\treturn this\n\t}\n\n\tpublic ticks(value: boolean | undefined): this {\n\t\tthis.spec.ticks = value\n\t\tthis.onChange.next('axis ticks changed')\n\t\treturn this\n\t}\n\n\tpublic tickColor(value: string | undefined): this {\n\t\tthis.spec.tickColor = value\n\t\tthis.onChange.next('axis tick color changed')\n\t\treturn this\n\t}\n\n\tpublic tickCount(value: number | undefined): this {\n\t\tthis.spec.tickCount = value\n\t\tthis.onChange.next('axis tick count changed')\n\t\treturn this\n\t}\n\n\tpublic tickOffset(value: number | undefined): this {\n\t\tthis.spec.tickOffset = value\n\t\tthis.onChange.next('axis tick offset changed')\n\t\treturn this\n\t}\n\n\tpublic tickRound(value: boolean | undefined): this {\n\t\tthis.spec.tickRound = value\n\t\tthis.onChange.next('axis tickRound changed')\n\t\treturn this\n\t}\n\n\tpublic tickSize(value: number | undefined): this {\n\t\tthis.spec.tickSize = value\n\t\tthis.onChange.next('axis tickSize changed')\n\t\treturn this\n\t}\n\n\tpublic tickWidth(value: number | undefined): this {\n\t\tthis.spec.tickWidth = value\n\t\tthis.onChange.next('axis tickWidth changed')\n\t\treturn this\n\t}\n\n\tpublic bandPosition(value: number | undefined): this {\n\t\tthis.spec.bandPosition = value\n\t\tthis.onChange.next('axis bandPosition changed')\n\t\treturn this\n\t}\n\n\tpublic values(values: TickValue[] | undefined): this {\n\t\tthis.spec.values = values\n\t\tthis.onChange.next('axis values changed')\n\t\treturn this\n\t}\n\n\t// #region Labels Configuration\n\tpublic labels(value: boolean | undefined): this {\n\t\tthis.spec.labels = value\n\t\tthis.onChange.next('axis labels changed')\n\t\treturn this\n\t}\n\n\tpublic labelFont(value: string | undefined): this {\n\t\tthis.spec.labelFont = value\n\t\tthis.onChange.next('axis labelFont changed')\n\t\treturn this\n\t}\n\n\tpublic labelFontSize(value: number | undefined): this {\n\t\tthis.spec.labelFontSize = value\n\t\tthis.onChange.next('axis labelFontSize changed')\n\t\treturn this\n\t}\n\n\tpublic labelColor(value: string | undefined): this {\n\t\tthis.spec.labelColor = value\n\t\tthis.onChange.next('axis labelColor changed')\n\t\treturn this\n\t}\n\n\tpublic labelPadding(value: number | undefined): this {\n\t\tthis.spec.labelPadding = value\n\t\tthis.onChange.next('axis labelPadding changed')\n\t\treturn this\n\t}\n\n\tpublic labelFontWeight(value: FontWeight | undefined): this {\n\t\tthis.spec.labelFontWeight = value\n\t\tthis.onChange.next('axis labelFontWeight changed')\n\t\treturn this\n\t}\n\n\tpublic labelAngle(value: number | undefined): this {\n\t\tthis.spec.labelAngle = value\n\t\tthis.onChange.next('axis labelAngel changed')\n\t\treturn this\n\t}\n\n\tpublic labelFormat(value: string | undefined): this {\n\t\tthis.spec.labelFormat = value\n\t\tthis.onChange.next('axis labelFormat changed')\n\t\treturn this\n\t}\n\n\tpublic thickness(value: number | undefined): this {\n\t\tthis.spec.thickness = value\n\t\tthis.onChange.next('axis thickness changed')\n\t\treturn this\n\t}\n\n\t// #endregion\n\n\tpublic build(): Axis {\n\t\treturn this.spec\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tMarkType,\n\tAxisOrientation,\n\tChartOptions,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { AxisBuilder } from './AxisBuilder'\nimport { ChartOptionsManager } from './ChartOptionsManager'\nimport { MarkBuilder } from './MarkBuilder'\nimport { SceneNodeBuilder } from './SceneNodeBuilder'\n\n/**\n * A factory function for creating a new scene\n * @category Builder\n */\nexport function scene(\n\tcb: (child: SceneNodeBuilder) => SceneNodeBuilder,\n\topts: ChartOptions,\n): SceneNodeBuilder {\n\tconst optsManager = new ChartOptionsManager(opts)\n\treturn new SceneNodeBuilder().mark(\n\t\tgroup('root')\n\t\t\t.role('frame')\n\t\t\t.encode({\n\t\t\t\t[MarkEncodingKey.zIndex]: 0,\n\t\t\t\t[MarkEncodingKey.x]: optsManager.paddingLeft,\n\t\t\t\t[MarkEncodingKey.y]: optsManager.paddingTop,\n\t\t\t\t[MarkEncodingKey.width]: optsManager.chartSpace.shape.width,\n\t\t\t\t[MarkEncodingKey.height]: optsManager.chartSpace.shape.height,\n\t\t\t})\n\t\t\t.child(cb),\n\t)\n}\n\n/**\n * A factory function for creating a new mark\n * @param type The mark type to create\n * @category Builder\n */\nexport function mark(type: MarkType) {\n\treturn new MarkBuilder(type)\n}\n\n/**\n * Creates a new _arc_ type mark\n * @param name\n * @category Builder\n */\nexport function arc(name?: string) {\n\treturn markWithName(MarkType.Arc, name)\n}\n\n/**\n * Creates a new _area_ type mark\n * @category Builder\n * @param name\n */\nexport function area(name?: string) {\n\treturn markWithName(MarkType.Area, name)\n}\n\n/**\n * Creates a new _group_ type mark\n * @category Builder\n * @param name\n */\nexport function group(name?: string) {\n\treturn markWithName(MarkType.Group, name)\n}\n\n/**\n * Creates a new _image_ type mark\n * @category Builder\n * @param name\n */\nexport function image(name?: string) {\n\treturn markWithName(MarkType.Image, name)\n}\n\n/**\n * Creates a new _line_ type mark\n * @category Builder\n * @param name\n */\nexport function line(name?: string) {\n\treturn markWithName(MarkType.Line, name)\n}\n\n/**\n * Creates a new _path_ type mark\n * @category Builder\n * @param name\n */\nexport function path(name?: string) {\n\treturn markWithName(MarkType.Path, name)\n}\n\n/**\n * Creates a new _rect_ type mark\n * @category Builder\n * @param name\n */\nexport function rect(name?: string) {\n\treturn markWithName(MarkType.Rect, name)\n}\n\n/**\n * Creates a new _rule_ type mark\n * @category Builder\n * @param name\n */\nexport function rule(name?: string) {\n\treturn markWithName(MarkType.Rule, name)\n}\n\n/**\n * Creates a new _shape_ type mark\n * @category Builder\n * @param name\n */\nexport function shape(name?: string) {\n\treturn markWithName(MarkType.Shape, name)\n}\n\n/**\n * Creates a new _symbol_ type mark\n * @category Builder\n * @param name\n */\nexport function symbol(name?: string) {\n\treturn markWithName(MarkType.Symbol, name)\n}\n\n/**\n * Creates a new _text_ type mark\n * @category Builder\n * @param name\n */\nexport function text(name?: string) {\n\treturn markWithName(MarkType.Text, name)\n}\n\n/**\n * Creates a new _trail_ type mark\n * @category Builder\n * @param name\n */\nexport function trail(name?: string) {\n\treturn markWithName(MarkType.Trail, name)\n}\n\nfunction markWithName(markType: MarkType, name?: string) {\n\tconst result = mark(markType)\n\treturn name ? result.name(name) : result\n}\n\n/**\n * Creates a new Axis builder\n * @param scale The name of the scale to align the axis with\n * @param orientation The positioning of the axis in the view-space\n * @category Builder\n */\nexport function axis(scale: string, orientation: AxisOrientation): AxisBuilder {\n\treturn new AxisBuilder(scale, orientation)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tScales,\n\tDataFrame,\n\tChannelNames,\n\tSceneNode,\n\tScaleCreationContext,\n\tChannelHandler,\n\tChannels,\n\tViewSize,\n\tMark,\n} from '@chart-parts/interfaces'\n\n/**\n * The scene frame is analagous to a stack-frame - it contains contextual\n * information for a section of a scene, including dimensions, scales, data, and event handlers\n * @ignore\n */\nexport class SceneFrame {\n\tpublic constructor(\n\t\tpublic node: SceneNode,\n\t\tpublic mark: Mark | undefined,\n\t\tpublic data: DataFrame,\n\t\tpublic view: ViewSize,\n\t\tpublic viewTL: [number, number] = [0, 0],\n\t\tpublic viewBR: [number, number] = [view.height, view.width],\n\t\tpublic scales: Scales = {},\n\t\tpublic channels: ChannelNames = {},\n\t\tpublic channelId: number = 0,\n\t\tpublic channelHandlers: Channels = {},\n\t\tpublic boundDataItem: any = {},\n\t\tpublic parentId: string = '',\n\t) {}\n\n\t/**\n\t * Pushes a new scene frame with a given scene node; recomputes scales.\n\t */\n\tpublic pushNode(node: SceneNode) {\n\t\tconst scales = this.getRecomputedScales(node, this.viewTL, this.viewBR)\n\t\treturn new SceneFrame(\n\t\t\tnode,\n\t\t\tundefined,\n\t\t\tthis.data,\n\t\t\tthis.view,\n\t\t\tthis.viewTL,\n\t\t\tthis.viewBR,\n\t\t\tscales,\n\t\t\t{},\n\t\t\tthis.channelId,\n\t\t\tthis.channelHandlers,\n\t\t\tthis.boundDataItem,\n\t\t\tthis.parentId,\n\t\t)\n\t}\n\n\t/**\n\t * Pushes a new mark context.\n\t */\n\tpublic pushMark(mark: Mark) {\n\t\tconst channels = this.registerChannels(mark.channels)\n\t\treturn new SceneFrame(\n\t\t\tthis.node,\n\t\t\tmark,\n\t\t\tthis.data,\n\t\t\tthis.view,\n\t\t\tthis.viewTL,\n\t\t\tthis.viewBR,\n\t\t\tthis.scales,\n\t\t\tchannels,\n\t\t\tthis.channelId,\n\t\t\tthis.channelHandlers,\n\t\t\tthis.boundDataItem,\n\t\t\t`${this.parentId}.${mark.name || mark.type}`,\n\t\t)\n\t}\n\n\t/**\n\t * Push data into a new frame\n\t * @param data The new data tables eto register\n\t * @param facetKey If present, registers the current facet key for id generation\n\t */\n\tpublic pushData(data: DataFrame, facetKey?: string) {\n\t\tconst dataFrame = { ...this.data, ...data }\n\t\tconst id = facetKey ? `${this.parentId}.facet(${facetKey})` : this.parentId\n\t\treturn new SceneFrame(\n\t\t\tthis.node,\n\t\t\tthis.mark,\n\t\t\tdataFrame,\n\t\t\tthis.view,\n\t\t\tthis.viewTL,\n\t\t\tthis.viewBR,\n\t\t\tthis.scales,\n\t\t\tthis.channels,\n\t\t\tthis.channelId,\n\t\t\tthis.channelHandlers,\n\t\t\tthis.boundDataItem,\n\t\t\tid,\n\t\t)\n\t}\n\n\t/**\n\t * Pushes a new sceneframe with an updated viewspace. Recomputes scales.\n\t *\n\t * @param view The new view to push. This is the size of the group that will be inserted\n\t * @param viewTL The top-left of the draw-area within the view. This does not affect the emitted\n\t * group, but does affect draw-scales\n\t * @param viewBR The bottom-right of the draw-area within the view. This does not affect the emitted\n\t * group, but does affect draw-scales\n\t */\n\tpublic pushView(\n\t\tview: ViewSize,\n\t\tviewTL: [number, number] = [0, 0],\n\t\tviewBR: [number, number] = [view.height, view.width],\n\t) {\n\t\t// if the view has not changed, then don't return a new frame - recomputing the\n\t\t// scales can be expensive\n\t\tif (\n\t\t\tareViewSizesEqual(view, this.view) &&\n\t\t\tareCoordsEqual(viewTL, this.viewTL)\n\t\t) {\n\t\t\treturn this\n\t\t}\n\n\t\tconst scales = this.getRecomputedScales(this.node, viewTL, viewBR)\n\t\treturn new SceneFrame(\n\t\t\tthis.node,\n\t\t\tthis.mark,\n\t\t\tthis.data,\n\t\t\tview,\n\t\t\tviewTL,\n\t\t\tviewBR,\n\t\t\tscales,\n\t\t\tthis.channels,\n\t\t\tthis.channelId,\n\t\t\tthis.channelHandlers,\n\t\t\tthis.boundDataItem,\n\t\t\tthis.parentId,\n\t\t)\n\t}\n\n\t/**\n\t * Pushes a new data item to bind to\n\t * @param dataItem The data item to bind to\n\t */\n\tpublic pushBoundDataItem(dataItem: any) {\n\t\treturn new SceneFrame(\n\t\t\tthis.node,\n\t\t\tthis.mark,\n\t\t\tthis.data,\n\t\t\tthis.view,\n\t\t\tthis.viewTL,\n\t\t\tthis.viewBR,\n\t\t\tthis.scales,\n\t\t\tthis.channels,\n\t\t\tthis.channelId,\n\t\t\tthis.channelHandlers,\n\t\t\tdataItem,\n\t\t\tthis.parentId,\n\t\t)\n\t}\n\n\tprivate getRecomputedScales(\n\t\tnode: SceneNode,\n\t\tviewTL: [number, number],\n\t\tviewBR: [number, number],\n\t) {\n\t\tconst scales = { ...this.scales }\n\t\tconst ctx: ScaleCreationContext = {\n\t\t\tview: this.view,\n\t\t\tdata: this.data,\n\t\t\tviewBounds: { x: [viewTL[1], viewBR[1]], y: [viewBR[0], viewTL[0]] },\n\t\t\tscales,\n\t\t}\n\n\t\t// assign new scales into the scales obj\n\t\tnode.scales.forEach(s => Object.assign(scales, s(ctx)))\n\t\treturn scales\n\t}\n\n\tprivate registerChannels(channels: Channels): ChannelNames {\n\t\t// For each channel the client specifies, encode the name-mapping in the Scenegraph and\n\t\t// map the handler function in our scene result\n\t\tconst result = {} as ChannelNames\n\t\tObject.keys(channels).forEach(eventName => {\n\t\t\tresult[eventName] = this.registerHandler(eventName, channels[eventName])\n\t\t})\n\t\treturn result\n\t}\n\n\tprivate registerHandler(eventName: string, handler: ChannelHandler<any>) {\n\t\tconst id = `evt_${this.channelId++}`\n\t\tthis.channelHandlers[id] = handler\n\t\treturn id\n\t}\n}\n\nfunction areViewSizesEqual(a: ViewSize, b: ViewSize) {\n\treturn a.height === b.height && a.width === b.width\n}\n\nfunction areCoordsEqual(a: [number, number], b: [number, number]) {\n\treturn a[0] === b[0] && a[1] === b[1]\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Axis, AxisOrientation } from '@chart-parts/interfaces'\n\n/**\n * @ignore\n */\nexport function crossValue(axis: Axis, thickness: number): number {\n\tconst domainWidth = axis.domainWidth as number\n\tconst { orient } = axis\n\n\tlet result = domainWidth\n\tswitch (orient) {\n\t\tcase AxisOrientation.Bottom: {\n\t\t\tresult = domainWidth / 2\n\t\t\tbreak\n\t\t}\n\t\tcase AxisOrientation.Left: {\n\t\t\tresult = thickness - domainWidth / 2\n\t\t\tbreak\n\t\t}\n\t\tcase AxisOrientation.Right: {\n\t\t\tresult = domainWidth / 2\n\t\t\tbreak\n\t\t}\n\t\tcase AxisOrientation.Top: {\n\t\t\tresult = thickness + domainWidth / 2\n\t\t\tbreak\n\t\t}\n\t}\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Axis, MarkType } from '@chart-parts/interfaces'\nimport { buildMark } from '@chart-parts/scenegraph'\nimport { AxisContext, AxisComponent } from '../../interfaces'\nimport { crossValue } from './crossValue'\n\n/**\n * @ignore\n */\nexport class Domain implements AxisComponent {\n\tpublic createContext(context: Partial<AxisContext>) {\n\t\tconst range = context.range as [number, number]\n\t\tconst maxRange = Math.max(...range)\n\t\tconst minRange = Math.min(...range)\n\n\t\treturn {\n\t\t\t...context,\n\t\t\tdomainMinRange: minRange,\n\t\t\tdomainMaxRange: maxRange,\n\t\t\tdomainCross: crossValue(\n\t\t\t\tcontext.axis as Axis,\n\t\t\t\tcontext.thickness as number,\n\t\t\t),\n\t\t}\n\t}\n\n\tpublic isScenegraphElementGenerated(context: AxisContext) {\n\t\treturn !!context.axis.domain\n\t}\n\n\tpublic createScenegraphElement(context: AxisContext) {\n\t\tconst {\n\t\t\taxis,\n\t\t\trangeProperty,\n\t\t\trangeEndProperty,\n\t\t\tcrossProperty,\n\t\t\tdomainCross,\n\t\t\tdomainMinRange,\n\t\t\tdomainMaxRange,\n\t\t} = context\n\t\treturn buildMark(MarkType.Rule)\n\t\t\t.role('axis-domain')\n\t\t\t.items({\n\t\t\t\tstroke: axis.domainColor,\n\t\t\t\tstrokeWidth: axis.domainWidth,\n\t\t\t\t[rangeProperty]: domainMinRange,\n\t\t\t\t[rangeEndProperty]: domainMaxRange + (axis.domainWidth as number),\n\t\t\t\t[crossProperty]: domainCross,\n\t\t\t})\n\t\t\t.build()\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tAxis,\n\tMarkType,\n\tVerticalTextAlignment,\n\tHorizontalAlignment,\n\tAxisOrientation,\n} from '@chart-parts/interfaces'\nimport { buildMark } from '@chart-parts/scenegraph'\nimport {\n\tAxisContext,\n\tPositionedTickValue,\n\tAxisComponent,\n} from '../../interfaces'\n\n/**\n * @ignore\n */\nexport class TickLabels implements AxisComponent {\n\tpublic createContext(context: Partial<AxisContext>) {\n\t\treturn context\n\t}\n\n\tpublic isScenegraphElementGenerated(context: AxisContext) {\n\t\treturn !!context.axis.labels\n\t}\n\n\tpublic createScenegraphElement(context: AxisContext) {\n\t\treturn buildMark(MarkType.Text)\n\t\t\t.role('axis-tick-labels')\n\t\t\t.items(\n\t\t\t\t...(context.ticks || []).map(tick => createTickLabel(tick, context)),\n\t\t\t)\n\t\t\t.build()\n\t}\n}\n\nfunction createTickLabel(tick: PositionedTickValue, context: AxisContext) {\n\tconst { axis, rangeProperty, crossProperty } = context\n\tconst fontSize = axis.labelFontSize as number\n\tconst tickSize = axis.tickSize as number\n\tconst pad = axis.labelPadding as number\n\tconst font = axis.labelFont as string\n\tconst fill = axis.labelColor as string\n\tconst fontWeight = axis.labelFontWeight\n\tconst text = tick.label\n\tconst align = getHorizontalAlignment(axis)\n\tconst baseline = getBaseline(axis)\n\tconst labelAngle = axis.labelAngle\n\n\tconst crossPropertyValue = context.topOrLeft\n\t\t? context.thickness - tickSize - pad\n\t\t: tickSize + pad + (axis.orient === AxisOrientation.Bottom ? 1 : 0)\n\n\tconst result = {\n\t\tstrokeWidth: 0,\n\t\tstroke: 'none',\n\t\t[rangeProperty]: tick.position + 1,\n\t\t[crossProperty]: crossPropertyValue,\n\t\tfontWeight,\n\t\ttext,\n\t\tfill,\n\t\tfont,\n\t\tfontSize,\n\t\tbaseline,\n\t\talign,\n\t}\n\tif (labelAngle !== undefined) {\n\t\tresult.theta = (labelAngle * Math.PI) / 180\n\t}\n\treturn result\n}\n\nfunction getBaseline(axis: Axis): VerticalTextAlignment {\n\tif (axis.labelBaseline) {\n\t\treturn axis.labelBaseline as VerticalTextAlignment\n\t}\n\tswitch (axis.orient) {\n\t\tcase AxisOrientation.Top:\n\t\t\treturn VerticalTextAlignment.Bottom\n\t\tcase AxisOrientation.Bottom:\n\t\t\treturn VerticalTextAlignment.Top\n\t\tcase AxisOrientation.Left:\n\t\tcase AxisOrientation.Right:\n\t\t\treturn VerticalTextAlignment.Middle\n\t}\n}\n\nfunction getHorizontalAlignment(axis: Axis): HorizontalAlignment {\n\tif (axis.labelAlign !== undefined) {\n\t\treturn axis.labelAlign as HorizontalAlignment\n\t}\n\tswitch (axis.orient) {\n\t\tcase AxisOrientation.Top:\n\t\tcase AxisOrientation.Bottom:\n\t\t\treturn HorizontalAlignment.Center\n\t\tcase AxisOrientation.Left:\n\t\t\treturn HorizontalAlignment.Right\n\t\tcase AxisOrientation.Right:\n\t\t\treturn HorizontalAlignment.Left\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Axis, Scale } from '@chart-parts/interfaces'\nimport { AxisContext, PositionedTickValue } from '../../interfaces'\n\n/**\n * Gets logical tick values and their associated labels\n * @ignore\n * @param context The axis context\n */\nexport function getTickValues(context: AxisContext): PositionedTickValue[] {\n\tconst { axis, scale } = context\n\n\tif (axis.values != null) {\n\t\treturn axis.values.map(av => ({ ...av, position: scale(av.value) }))\n\t}\n\n\t// Try to get the ticks from the `tick` utility built into d3 scales\n\treturn scale.ticks\n\t\t? getTicksFromScaleTicks(context)\n\t\t: scale.domain\n\t\t? getTicksFromScaleDomain(context, scale)\n\t\t: []\n}\n\nfunction getDomainScaleValue(t: any, scale: Scale<any, any>, axis: Axis) {\n\tconst tickRound = axis.tickRound\n\tconst bandPosition = axis.bandPosition as number\n\tconst result = scale.bandwidth\n\t\t? scale(t) + scale.bandwidth() * bandPosition\n\t\t: t\n\treturn tickRound ? Math.round(result) : result\n}\n\nfunction getTicksFromScaleTicks(context: AxisContext) {\n\tconst { axis, scale } = context\n\tconst tickWidth = axis.tickWidth as number\n\n\tif (!scale.ticks) {\n\t\tthrow new Error('cannot extract scale domain')\n\t}\n\tconst ticks =\n\t\taxis.tickCount != null ? scale.ticks(axis.tickCount) : scale.ticks()\n\n\treturn ticks.map((t: number) => {\n\t\tconst position = scale(t)\n\t\tconst label = context.labelFormatter(t)\n\t\treturn {\n\t\t\tvalue: t,\n\t\t\tposition: axis.tickRound\n\t\t\t\t? Math.round(position)\n\t\t\t\t: position - tickWidth / 2,\n\t\t\tlabel,\n\t\t}\n\t})\n}\n\nfunction getTicksFromScaleDomain(context: AxisContext, scale: Scale<any, any>) {\n\tconst { axis } = context\n\tif (!scale.domain) {\n\t\tthrow new Error('cannot extract scale domain')\n\t}\n\tconst domain = scale.domain()\n\treturn domain.map((t: any) => {\n\t\tconst label = context.labelFormatter(t)\n\t\treturn {\n\t\t\tvalue: t,\n\t\t\tposition: getDomainScaleValue(t, scale, axis),\n\t\t\tlabel,\n\t\t}\n\t})\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType } from '@chart-parts/interfaces'\nimport { buildMark } from '@chart-parts/scenegraph'\nimport {\n\tAxisComponent,\n\tAxisContext,\n\tPositionedTickValue,\n} from '../../interfaces'\nimport { getLabelFormatter } from './getLabelFormatter'\nimport { getTickValues } from './getTickValues'\n\n/**\n * @ignore\n */\nexport class TickLines implements AxisComponent {\n\tpublic createContext(context: AxisContext) {\n\t\tconst tickCrossStart = getTickCrossStart(context as AxisContext)\n\t\tconst tickCrossEnd = getTickCrossEnd(context as AxisContext)\n\t\tconst labelFormatter = getLabelFormatter(context)\n\t\tcontext = { ...context, labelFormatter, tickCrossEnd, tickCrossStart }\n\t\tconst ticks = getTickValues(context as AxisContext)\n\t\tcontext = { ...context, ticks }\n\t\treturn context\n\t}\n\n\tpublic isScenegraphElementGenerated(context: AxisContext): boolean {\n\t\treturn !!context.axis.ticks\n\t}\n\n\tpublic createScenegraphElement(context: AxisContext) {\n\t\treturn buildMark(MarkType.Rule)\n\t\t\t.role('axis-ticks')\n\t\t\t.items(...context.ticks.map(tick => createTickItem(tick, context)))\n\t\t\t.build()\n\t}\n}\n\nfunction getTickCrossStart(context: AxisContext) {\n\tconst tickSize = context.axis.tickSize as number\n\treturn context.topOrLeft ? context.thickness - tickSize : tickSize\n}\n\nfunction getTickCrossEnd(context: AxisContext) {\n\treturn context.topOrLeft\n\t\t? context.thickness\n\t\t: (context.axis.tickWidth as number)\n}\n\nfunction createTickItem(tick: PositionedTickValue, context: AxisContext) {\n\tconst {\n\t\taxis: { tickColor: stroke, tickWidth: strokeWidth },\n\t} = context\n\n\tconst crossStart = getCrossStart(context)\n\tconst crossEnd = getCrossEnd(context)\n\tconst rangeStart = getRangeStart(tick, context)\n\n\treturn {\n\t\t[context.rangeProperty]: rangeStart,\n\t\t[context.crossProperty]: crossStart,\n\t\t[context.crossEndProperty]: crossEnd,\n\t\tstroke,\n\t\tstrokeWidth,\n\t}\n}\n\nfunction getRangeStart(tick: PositionedTickValue, context: AxisContext) {\n\tconst strokeWidth = context.axis.tickWidth as number\n\treturn tick.position + strokeWidth\n}\n\nfunction getCrossStart(context: AxisContext) {\n\tconst tickSize = context.axis.tickSize as number\n\tconst tickWidth = context.axis.tickWidth as number\n\tconst result = context.topOrLeft ? context.thickness - tickSize : tickSize\n\treturn result + tickWidth / 2\n}\n\nfunction getCrossEnd(context: AxisContext) {\n\tconst tickWidth = context.axis.tickWidth as number\n\treturn context.topOrLeft ? context.thickness : tickWidth\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Scale } from '@chart-parts/interfaces'\nimport { format } from 'd3-format'\nimport { timeFormat } from 'd3-time-format'\nimport { AxisContext } from '../../interfaces'\n\nfunction isTimeScale(scale: Scale<any, any>) {\n\treturn scale.__scaletype__ === 'utc' || scale.__scaletype__ === 'time'\n}\n\n/**\n * @ignore\n */\nexport function getLabelFormatter(\n\tcontext: AxisContext,\n): (input: any) => string {\n\tconst scale = context.scale\n\tconst { labelFormat } = context.axis\n\n\tif (!labelFormat) {\n\t\treturn (t: any) => `${t}`\n\t}\n\n\treturn isTimeScale(scale) ? timeFormat(labelFormat) : format(labelFormat)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { AxisComponent } from '../interfaces'\nimport { Domain } from './domain'\nimport { TickLabels } from './tickLabels'\nimport { TickLines } from './tickLines'\n\n/**\n * The axis component class instances\n * @ignore\n */\nexport const components: AxisComponent[] = [\n\tnew Domain(),\n\tnew TickLines(),\n\tnew TickLabels(),\n]\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Axis, AxisOrientation, ViewSize } from '@chart-parts/interfaces'\nimport { SceneFrame } from '../context/SceneFrame'\nimport { AxisSpace, AxisContext } from './interfaces'\n\n/**\n * @ignore\n */\nexport function getContext(\n\taxis: Axis,\n\tframe: SceneFrame,\n\taxisSpace: AxisSpace,\n): Partial<AxisContext> {\n\t// Create the new axis space\n\tconst thickness = getThickness(axis, axisSpace)\n\tconst axisFrame = frame.pushView(\n\t\tgetScaleSize(axis, axisSpace, thickness, frame.view),\n\t\tgetScaleTL(axis, axisSpace, frame.view),\n\t\tgetScaleBR(axis, axisSpace, frame.view),\n\t)\n\n\tconst scaleName = axis.scale\n\tconst scale = axisFrame.scales[scaleName]\n\tconst range: [number, number] = ((scale.range && scale.range()) as [\n\t\tnumber,\n\t\tnumber,\n\t]) || [0, 0]\n\n\tconst horizontal =\n\t\taxis.orient === AxisOrientation.Top ||\n\t\taxis.orient === AxisOrientation.Bottom\n\n\tconst topOrLeft =\n\t\taxis.orient === AxisOrientation.Top || axis.orient === AxisOrientation.Left\n\n\treturn {\n\t\taxis,\n\t\trange,\n\t\tscale,\n\t\tthickness,\n\t\thorizontal,\n\t\ttopOrLeft,\n\t\tframe: axisFrame,\n\t\trangeProperty: horizontal ? 'x' : 'y',\n\t\trangeEndProperty: horizontal ? 'x2' : 'y2',\n\t\tcrossProperty: horizontal ? 'y' : 'x',\n\t\tcrossEndProperty: horizontal ? 'y2' : 'x2',\n\t}\n}\n\nfunction getThickness(axis: Axis, space: AxisSpace) {\n\tswitch (axis.orient) {\n\t\tcase AxisOrientation.Top:\n\t\t\treturn space.top\n\t\tcase AxisOrientation.Right:\n\t\t\treturn space.right\n\t\tcase AxisOrientation.Bottom:\n\t\t\treturn space.bottom\n\t\tcase AxisOrientation.Left:\n\t\t\treturn space.left\n\t\tdefault:\n\t\t\treturn 0\n\t}\n}\n\nfunction getScaleTL(\n\taxis: Axis,\n\tspace: AxisSpace,\n\tavailableSpace: ViewSize,\n): [number, number] {\n\tconst { width, height } = availableSpace\n\tconst { left, top, bottom, right } = space\n\n\tswitch (axis.orient) {\n\t\tcase AxisOrientation.Top:\n\t\t\treturn [0, left]\n\t\tcase AxisOrientation.Bottom:\n\t\t\treturn [height - bottom, left]\n\t\tcase AxisOrientation.Left:\n\t\t\treturn [top, 0]\n\t\tcase AxisOrientation.Right:\n\t\t\treturn [top, width - right]\n\t}\n}\n\nfunction getScaleBR(\n\taxis: Axis,\n\tspace: AxisSpace,\n\tavailableSpace: ViewSize,\n): [number, number] {\n\tconst { width, height } = availableSpace\n\tconst { left, top, bottom, right } = space\n\n\tswitch (axis.orient) {\n\t\tcase AxisOrientation.Top:\n\t\t\treturn [top, width - right]\n\t\tcase AxisOrientation.Bottom:\n\t\t\treturn [height, width - right]\n\t\tcase AxisOrientation.Left:\n\t\t\treturn [height - bottom, left]\n\t\tcase AxisOrientation.Right:\n\t\t\treturn [height - bottom, width]\n\t}\n}\n\nfunction getScaleSize(\n\taxis: Axis,\n\tspace: AxisSpace,\n\taxisThickness: number,\n\tavailableSpace: ViewSize,\n) {\n\tconst { left, right, top, bottom } = space\n\tconst { height: viewHeight = 0, width: viewWidth = 0 } = availableSpace\n\tconst isHorizontal =\n\t\taxis.orient === AxisOrientation.Top ||\n\t\taxis.orient === AxisOrientation.Bottom\n\tif (isHorizontal) {\n\t\treturn {\n\t\t\twidth: viewWidth - left - right,\n\t\t\theight: axisThickness,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\twidth: axisThickness,\n\t\t\theight: viewHeight - top - bottom,\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tAxis,\n\tMarkType,\n\tAxisOrientation,\n\tViewSize,\n} from '@chart-parts/interfaces'\nimport { buildMark } from '@chart-parts/scenegraph'\nimport { SceneFrame } from '../context/SceneFrame'\nimport { SGMarkAny } from '../processNode'\nimport { components } from './components'\nimport { getContext } from './getContext'\nimport { AxisSpace, AxisContext } from './interfaces'\n\n/**\n * @ignore\n */\nexport function buildAxis(\n\taxis: Axis,\n\tframe: SceneFrame,\n\taxisSpace: AxisSpace,\n): SGMarkAny {\n\tconst context = createPopulatedContext(axis, frame, axisSpace)\n\tconst groupSize = getGroupSize(context, frame.view)\n\tconst origin = getGroupOrigin(context, frame.view)\n\n\t// Build the components of the axis\n\tconst items: SGMarkAny[] = []\n\tcomponents.forEach(e => {\n\t\tif (e.isScenegraphElementGenerated(context)) {\n\t\t\titems.push(e.createScenegraphElement(context))\n\t\t}\n\t})\n\n\treturn buildMark(MarkType.Group)\n\t\t.role('axis')\n\t\t.items({\n\t\t\titems,\n\t\t\tx: origin.x,\n\t\t\ty: origin.y,\n\t\t\t...groupSize,\n\t\t})\n\t\t.build()\n}\n\nfunction createPopulatedContext(\n\taxis: Axis,\n\tframe: SceneFrame,\n\taxisSpace: AxisSpace,\n): AxisContext {\n\tconst initialContext = getContext(axis, frame, axisSpace)\n\n\tlet result = initialContext\n\tcomponents.forEach(component => (result = component.createContext(result)))\n\treturn result as AxisContext\n}\n\nfunction getGroupOrigin(context: AxisContext, availableSpace: ViewSize) {\n\tconst { height = 0, width = 0 } = availableSpace\n\tswitch (context.axis.orient) {\n\t\tcase AxisOrientation.Top:\n\t\t\treturn { x: 0, y: 0 }\n\t\tcase AxisOrientation.Bottom:\n\t\t\treturn {\n\t\t\t\tx: 0,\n\t\t\t\ty: height - context.thickness,\n\t\t\t}\n\t\tcase AxisOrientation.Left:\n\t\t\treturn { x: 0, y: 0 }\n\t\tcase AxisOrientation.Right:\n\t\t\treturn { x: width - context.thickness, y: 0 }\n\t}\n}\n\nfunction getGroupSize(context: AxisContext, availableSpace: ViewSize) {\n\tconst { height = 0, width = 0 } = availableSpace\n\tif (context.horizontal) {\n\t\treturn {\n\t\t\twidth,\n\t\t\theight: context.thickness,\n\t\t}\n\t} else {\n\t\treturn {\n\t\t\twidth: context.thickness,\n\t\t\theight,\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tSceneNode,\n\tItemSpace,\n\tAxisOrientation,\n\tAxis,\n} from '@chart-parts/interfaces'\nimport { DEFAULT_AXIS_THICKNESS } from '../../spec/defaults'\nimport { SceneFrame } from '../context/SceneFrame'\nimport { SGMarkAny } from '../processNode'\nimport { buildAxis } from './buildAxis'\nimport { AxisSpace } from './interfaces'\n\n/**\n * Builds axes into a screen frame\n * @param node The current scene node\n * @param frame Thec curren scene frame\n * @ignore\n */\nexport function buildAxes(\n\tnode: SceneNode,\n\tframe: SceneFrame,\n): {\n\taxes: SGMarkAny[]\n\tremainingSpace: ItemSpace\n} {\n\t// If no axes are present, return an empty axis array and an unchanged view\n\tif (node.axes.length === 0) {\n\t\treturn {\n\t\t\taxes: [],\n\t\t\tremainingSpace: { origin: { x: 0, y: 0 }, shape: frame.view },\n\t\t}\n\t}\n\n\tconst axisSpace = getAxisSpace(frame)\n\tconst axes = node.axes.map(axis => buildAxis(axis, frame, axisSpace))\n\n\t// Build the frame here so that the marks have updated scales\n\tconst remainingSpace = getRemainingSpace(frame, axisSpace)\n\treturn {\n\t\taxes,\n\t\tremainingSpace,\n\t}\n}\n\nfunction getRemainingSpace(frame: SceneFrame, axisSpace: AxisSpace): ItemSpace {\n\tconst { width: availableWidth = 0, height: availableHeight = 0 } = frame.view\n\t// Build the frame here so that the marks have updated scales\n\tconst remainingSpace: ItemSpace = {\n\t\torigin: {\n\t\t\tx: axisSpace.left,\n\t\t\ty: axisSpace.top,\n\t\t},\n\t\tshape: {\n\t\t\twidth: availableWidth - axisSpace.left - axisSpace.right,\n\t\t\theight: availableHeight - axisSpace.top - axisSpace.bottom,\n\t\t},\n\t}\n\treturn remainingSpace\n}\n\n/**\n * Gets the space consumed by the axes. Each key is an axis orientation, and the values are their respective thickness\n * @param frame\n */\nfunction getAxisSpace(frame: SceneFrame) {\n\t/**\n\t * Hard space is space required by an axis. Soft space is space\n\t * required for labels to not bleed over the edge. Soft space is only used\n\t * if hard space is zero.\n\t */\n\tconst space = {\n\t\ttop: {\n\t\t\thard: 0,\n\t\t\tsoft: 0,\n\t\t},\n\t\tleft: {\n\t\t\thard: 0,\n\t\t\tsoft: 0,\n\t\t},\n\t\tbottom: {\n\t\t\thard: 0,\n\t\t\tsoft: 0,\n\t\t},\n\t\tright: {\n\t\t\thard: 0,\n\t\t\tsoft: 0,\n\t\t},\n\t}\n\n\tframe.node.axes.forEach(a => {\n\t\tconst thickness = axisWidth(a)\n\t\tconst fontSize = a.labelFontSize as number\n\t\tconst fontPad = fontSize / 2\n\t\tswitch (a.orient) {\n\t\t\tcase AxisOrientation.Top:\n\t\t\t\tspace.top.hard = Math.max(space.top.hard, thickness)\n\t\t\t\tbreak\n\t\t\tcase AxisOrientation.Right:\n\t\t\t\tspace.right.hard = Math.max(space.right.hard, thickness)\n\t\t\t\tspace.top.soft = Math.max(space.top.soft, fontPad)\n\t\t\t\tspace.bottom.soft = Math.max(space.bottom.soft, fontPad)\n\t\t\t\tbreak\n\t\t\tcase AxisOrientation.Bottom:\n\t\t\t\tspace.bottom.hard = Math.max(space.bottom.hard, thickness)\n\t\t\t\tbreak\n\t\t\tcase AxisOrientation.Left:\n\t\t\t\tspace.left.hard = Math.max(space.left.hard, thickness)\n\t\t\t\tspace.top.soft = Math.max(space.top.soft, fontPad)\n\t\t\t\tspace.bottom.soft = Math.max(space.bottom.soft, fontPad)\n\t\t\t\tbreak\n\t\t}\n\t})\n\treturn {\n\t\ttop: Math.max(space.top.hard, space.top.soft),\n\t\tleft: Math.max(space.left.hard, space.left.soft),\n\t\tbottom: Math.max(space.bottom.hard, space.bottom.soft),\n\t\tright: Math.max(space.right.hard, space.right.soft),\n\t}\n}\n\nfunction axisWidth(axis: Axis) {\n\tconst thickness = axis.thickness || DEFAULT_AXIS_THICKNESS\n\treturn thickness\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tgetItemSpace,\n\tMark,\n\tItemSpace,\n\tMarkEncodings,\n\tViewSize,\n\tSGGroupItem,\n\tEncodingContext,\n\tItemIdGenerator,\n\tMetadata,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { createItem } from '@chart-parts/scenegraph'\nimport { SceneFrame } from '../context/SceneFrame'\nimport { processNode } from '../processNode'\n\n/**\n * Creates a scenegraph item bound to a data row\n *\n * @ignore\n * @param frame The current scene frame\n * @param row The data row\n * @param index The data row index\n * @param table The data table\n */\nexport function createBoundItem(\n\tframe: SceneFrame,\n\trow: any,\n\tindex: number,\n\ttable: any[],\n) {\n\tconst mark = frame.mark as Mark\n\n\tconst item = createItemFromMark(mark, row, index, table, frame)\n\tif (mark.type !== MarkType.Group) {\n\t\treturn item\n\t}\n\n\t// Update the view and recompute scales\n\tconst itemSpace = getItemSpace(item)\n\tconst drawRect = getNextDrawRect(itemSpace, frame.view)\n\tconst nextView = {\n\t\twidth: drawRect.right - drawRect.left,\n\t\theight: drawRect.bottom - drawRect.top,\n\t}\n\tconst itemFrame = frame.pushView(nextView).pushBoundDataItem(row)\n\n\t// Mash in the children and the bounds\n\tconst items = mark.child ? processNode(mark.child, itemFrame) : []\n\tconst groupItem: SGGroupItem = {\n\t\t...item,\n\t\titems,\n\t\tx: drawRect.left,\n\t\ty: drawRect.top,\n\t\tx2: drawRect.right,\n\t\ty2: drawRect.bottom,\n\t}\n\treturn groupItem\n}\n\n/**\n * Creates a scenegraph item for a giver mark\n * @param mark The mark being used to specify the new item\n * @param row The data row bound to the mark\n * @param index The index of the data-row relative to its table\n * @param data The data table containing the row bound to the mark\n * @param channelNames The event-handling channel names to attach to this item\n * @param scales The current scale frame, required to encode item properties\n * @param dataFrame The current data frame, required to encode item properties\n */\nfunction createItemFromMark(\n\tmark: Mark,\n\trow: any,\n\tindex: number,\n\tdata: any[],\n\tframe: SceneFrame,\n) {\n\tconst { type, encodings, name, role, idGenerator } = mark\n\tconst id = `${frame.parentId}.${getItemId(row, index, data, idGenerator)}`\n\tconst context = getEncodingContext(id, row, index, frame)\n\n\tlet metadata: Metadata = {} as any\n\tconst metadataEncoding = mark.encodings[MarkEncodingKey.metadata]\n\tif (metadataEncoding) {\n\t\tmetadata =\n\t\t\ttypeof metadataEncoding === 'function'\n\t\t\t\t? metadataEncoding(context)\n\t\t\t\t: metadataEncoding\n\t}\n\n\tconst props = {\n\t\t...transferEncodings(encodings, context),\n\t\tname,\n\t\trole,\n\t\tmetadata: { ...metadata, index, id },\n\t\tchannels: frame.channels,\n\t}\n\treturn createItem(type, props)\n}\n\nfunction getItemId(\n\trow: any,\n\tindex: number,\n\tdata: any[],\n\tidGenerator: ItemIdGenerator | undefined,\n) {\n\tif (!idGenerator) {\n\t\treturn `${index}`\n\t} else {\n\t\treturn idGenerator(row, index, data)\n\t}\n}\n\n/**\n * Computes the draw-rectangle for a group given its item-space and it's parent's draw space.\n *\n * It's important to note that these are a group's dimensions, because they will greedily\n * use parent space if their space has not been specified\n *\n * @param space The space measured for the group item\n * @param drawRect\n */\nfunction getNextDrawRect(space: ItemSpace, viewSize: ViewSize) {\n\tconst { width: availableWidth, height: availableHeight } = viewSize\n\tconst {\n\t\torigin: { x = 0, y = 0 },\n\t\tshape: { width = availableWidth, height = availableHeight },\n\t} = space\n\n\tconst top = y\n\tconst left = x\n\tconst right = left + width\n\tconst bottom = top + height\n\n\treturn {\n\t\ttop,\n\t\tleft,\n\t\tbottom,\n\t\tright,\n\t}\n}\n\nfunction transferEncodings(encodings: MarkEncodings, context: EncodingContext) {\n\tconst props: { [key: string]: any } = {}\n\tObject.keys(encodings)\n\t\t.filter(t => t !== 'items')\n\t\t.forEach(key => {\n\t\t\tconst encoding = encodings[key]\n\t\t\tif (encoding) {\n\t\t\t\tconst value =\n\t\t\t\t\ttypeof encoding === 'function' ? encoding(context) : encoding\n\t\t\t\tprops[key] = value\n\t\t\t}\n\t\t})\n\treturn props\n}\n\nfunction getEncodingContext(\n\tid: string,\n\td: any,\n\tindex: number,\n\tframe: SceneFrame,\n): EncodingContext {\n\tconst encodingContext: EncodingContext = {\n\t\tid,\n\t\td,\n\t\tindex,\n\t\tview: frame.view,\n\t\t...frame.data,\n\t\t...frame.scales,\n\t}\n\treturn encodingContext\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Mark, Facet, SGItem, SGMark, DataFrame } from '@chart-parts/interfaces'\nimport { createMark } from '@chart-parts/scenegraph'\nimport { SceneFrame } from '../context/SceneFrame'\nimport { createBoundItem } from './createBoundItem'\n\n/**\n * @ignore\n */\nexport interface FacetedData {\n\tname: string\n\tkeyRowName?: string\n\tfacets: DataFacet[]\n}\n\n/**\n * @ignore\n */\nexport interface DataFacet {\n\tparent?: any\n\tkey: string\n\tdata: any[]\n}\n\ntype BoundData = any[] | FacetedData\n\n/**\n * @ignore\n */\nexport function processMark(mark: Mark, frame: SceneFrame): SGMark<SGItem> {\n\tconst markFrame = frame.pushMark(mark)\n\tconst boundData = getBoundData(mark, markFrame)\n\tconst items = createItems(markFrame, boundData)\n\treturn createMark(mark.type, items)\n}\n\nfunction createItems(frame: SceneFrame, boundData: BoundData): SGItem[] {\n\tif (Array.isArray(boundData)) {\n\t\treturn createItemPerDataRow(frame, boundData)\n\t}\n\n\treturn createItemPerFacet(frame, boundData)\n}\n\n/**\n * Creates one scenegraph item per facet partition\n *\n * @param frame The current scene frame\n * @param partitions the item faceting configuration\n */\nfunction createItemPerFacet(\n\tframe: SceneFrame,\n\t{ name, keyRowName, facets }: FacetedData,\n) {\n\treturn facets.map((facet, index) => {\n\t\tconst newData: DataFrame = {\n\t\t\t[name]: facet.data,\n\t\t}\n\t\tif (keyRowName) {\n\t\t\tnewData[keyRowName] = facet.parent\n\t\t}\n\t\tconst facetFrame = frame.pushData(newData, facet.key)\n\t\treturn createBoundItem(\n\t\t\tfacetFrame,\n\t\t\tfacet.parent || facet.data,\n\t\t\tindex,\n\t\t\tfacets,\n\t\t)\n\t})\n}\n\n/**\n * Creates one sceengraph item per row in a data-table\n * @param frame The current scene frame\n * @param data The data table\n */\nfunction createItemPerDataRow(frame: SceneFrame, data: any[]) {\n\treturn data.map((row, index) => createBoundItem(frame, row, index, data))\n}\n\n/**\n * Gets the bound data for a mark.\n * * If the mark is a singleton, this will return an array with a single sentinel object.\n * * If the mark is not faceted, this will return the source table specified by the mark\n * * If the mark is faceted, this will return a partition set, with data for each facet partition.\n *\n * @param mark The mark to bind data to\n * @param dataFrame The current data-frame, which provides data-sets at this scope\n */\nfunction getBoundData(mark: Mark, frame: SceneFrame): BoundData {\n\tconst { table, facet } = mark\n\n\t// If the table is unset, render as a singleton of the existing bound data-item\n\tconst isSingleton = !table && !facet\n\tif (isSingleton) {\n\t\treturn [frame.boundDataItem]\n\t}\n\n\tif (!table) {\n\t\tthrow new Error('table must be set when facet is set')\n\t}\n\n\tconst sourceTable = frame.data[table]\n\tif (facet) {\n\t\tconst facetSourceTable = facet.table || table\n\t\tif (!facetSourceTable) {\n\t\t\tthrow new Error('mark does not have table or faceting table defined')\n\t\t}\n\t\tif (!facet.groupBy) {\n\t\t\tthrow new Error('faceting must groupBy defined')\n\t\t}\n\t\tconst facetSource = frame.data[facetSourceTable]\n\t\tconst result = createFacetedData(facet, facetSource, sourceTable)\n\t\treturn result\n\t} else {\n\t\tif (!sourceTable) {\n\t\t\tthrow new Error(`could not find table ${table}`)\n\t\t}\n\t\treturn sourceTable\n\t}\n}\n\nfunction createFacetedData(\n\tfacet: Facet,\n\tfacetSourceTable: any[],\n\tmarkSourceTable: any[],\n): FacetedData {\n\tif (!facet.groupBy) {\n\t\tthrow new Error('facet.groupBy must be defined')\n\t}\n\tconst getKey = keyGetter(facet.groupBy)\n\n\tconst facetMap = new Map<string, DataFacet>()\n\tconst markMap = new Map<string, any>()\n\tconst facets: DataFacet[] = []\n\n\t// If the mark source table is defineod, then the rows _should_ represent\n\t// aggregations over the facet source table, so try to link them up\n\t// start by mapping them by key\n\tif (markSourceTable) {\n\t\tmarkSourceTable.forEach(markRow => {\n\t\t\tconst key = getKey(markRow)\n\t\t\tmarkMap.set(key, markRow)\n\t\t})\n\t}\n\n\t// Map the data from the facet source table into the faceting structure\n\tfacetSourceTable.forEach((row: any) => {\n\t\tconst key = getKey(row)\n\t\tif (!facetMap.has(key)) {\n\t\t\tconst parent = markMap.get(key)\n\t\t\tconst newFacet: DataFacet = {\n\t\t\t\tdata: [],\n\t\t\t\tkey,\n\t\t\t\tparent,\n\t\t\t}\n\t\t\tfacets.push(newFacet)\n\t\t\tfacetMap.set(key, newFacet)\n\t\t}\n\t\tconst f = facetMap.get(key)\n\t\tf?.data.push(row)\n\t})\n\n\t// Return the faceting results\n\tconst result = {\n\t\tname: facet.name,\n\t\tkeyRowName: facet.keyRowName,\n\t\tfacets,\n\t}\n\treturn result\n}\n\nfunction keyGetter(groupBy: string | string[] | ((row: any) => any)) {\n\tif (typeof groupBy === 'function') {\n\t\treturn groupBy\n\t} else {\n\t\tconst groupByKeys: string[] =\n\t\t\ttypeof groupBy === 'string' ? [groupBy] : groupBy\n\t\treturn (row: any) => groupByKeys.map(g => row[g]).join('|')\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tSGMark,\n\tSGItem,\n\tSceneNode,\n\tMarkType,\n\tItemSpace,\n} from '@chart-parts/interfaces'\nimport { buildMark } from '@chart-parts/scenegraph'\nimport { buildAxes } from './axes'\nimport { SceneFrame } from './context/SceneFrame'\nimport { processMark } from './marks/processMark'\n\nexport type SGMarkAny = SGMark<SGItem>\n\n/**\n * Processes a scene specification node into the SceneGraph model\n * @ignore\n * @param node The scene node to process\n * @param scaleFrame The scales available for the given scene node\n */\nexport function processNode(\n\tnode: SceneNode,\n\tparentFrame: SceneFrame,\n): SGMarkAny[] {\n\t// Push the new node, which registers channels and recomputes scales\n\tconst frame = parentFrame.pushNode(node)\n\n\t// Build out the axes, which may or may not update the frame\n\tconst { remainingSpace, axes } = buildAxes(node, frame)\n\n\t// Construct the items for the marks\n\tconst viewFrame = frame.pushView(remainingSpace.shape as any)\n\tconst markItems = node.marks.map(mark => processMark(mark, viewFrame))\n\n\t// Emit the result - if axes are present, wrap the marks in a group to put them in the correct space\n\tif (axes.length > 0) {\n\t\treturn [...axes, createMarkGrouping(markItems, remainingSpace)]\n\t} else {\n\t\treturn markItems\n\t}\n}\n\nfunction createMarkGrouping(items: Array<SGMark<SGItem>>, space: ItemSpace) {\n\treturn buildMark(MarkType.Group)\n\t\t.role('marks')\n\t\t.items({\n\t\t\t...space.origin,\n\t\t\t...space.shape,\n\t\t\titems,\n\t\t})\n\t\t.build()\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ChartOptions, SceneNode, DataFrame } from '@chart-parts/interfaces'\nimport { ChartOptionsManager } from '../api/ChartOptionsManager'\nimport { SceneFrame } from './context/SceneFrame'\nimport { GeneratedScenegraph } from './interfaces'\nimport { processNode } from './processNode'\n\n/**\n * Builds a new scenegraph instance by binding data to a scene specification.\n *\n * @category Transformation\n * @param root The scene specifiaction\n * @param data The data tables\n * @param options The charting options\n * @returns A generated scenegraph\n */\nexport function createScenegraph(\n\troot: SceneNode,\n\tdata: DataFrame,\n\toptions: ChartOptions,\n): GeneratedScenegraph {\n\tconst optionsManager = new ChartOptionsManager(options)\n\tconst width = optionsManager.chartSpace.shape.width as number\n\tconst height = optionsManager.chartSpace.shape.height as number\n\tconst emptyNode = undefined as any as SceneNode\n\tconst rootFrame = new SceneFrame(emptyNode, undefined, data, {\n\t\twidth,\n\t\theight,\n\t})\n\n\treturn {\n\t\troot: processNode(root, rootFrame)[0],\n\t\tchannelHandlers: rootFrame.channelHandlers,\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\n/**\n * An enumeration for the possible mark types.\n * Possible values are\n * \t'arc',\n *  'area',\n *  'group',\n *  'image',\n *  'line',\n *  'path',\n *  'rect',\n *  'rule',\n *  'symbol',\n *  'text', and\n *  'trail'.\n */\nexport enum MarkType {\n\tArc = 'arc',\n\tArea = 'area',\n\tGroup = 'group',\n\tImage = 'image',\n\tLine = 'line',\n\tPath = 'path',\n\tRect = 'rect',\n\tRule = 'rule',\n\tSymbol = 'symbol',\n\tText = 'text',\n\tTrail = 'trail',\n\tShape = 'shape',\n}\n\nexport type FontWeight =\n\t| 'normal'\n\t| 'bold'\n\t| 'bolder'\n\t| 'lighter'\n\t| '100'\n\t| '200'\n\t| '300'\n\t| '400'\n\t| '500'\n\t| '600'\n\t| '700'\n\t| '800'\n\t| '900'\n\n/**\n * An enumeration for area marks. May be 'horizontal' or 'vertical'\n */\nexport enum Orientation {\n\tHorizontal = 'horizontal',\n\tVertical = 'vertical',\n}\n\n/**\n * Line interpolation types. These define if and how curves are\n * smoothed in line, area, and stream marks.\n */\nexport enum Interpolation {\n\tBasis = 'basis',\n\tBundle = 'bundle',\n\tCardinal = 'cardinal',\n\tCatmullRom = 'catmull-rom',\n\tLinear = 'linear',\n\tMonotone = 'monotone',\n\tNatural = 'natural',\n\tstep = 'step',\n\tstepAfter = 'step-after',\n\tstepBefore = 'step-before',\n}\n\n/**\n * Horizontal Alignment parameter for marks. Mostly useful for Text marks.\n */\nexport enum HorizontalAlignment {\n\tLeft = 'left',\n\tCenter = 'center',\n\tRight = 'right',\n}\n\n/**\n * Vertical Alignment enumeration for marks (Image and Text)\n */\nexport enum VerticalAlignment {\n\tTop = 'top',\n\tMiddle = 'middle',\n\tBottom = 'bottom',\n}\n\n/**\n * Vertical Text Alignment parameter for Text marks.\n */\nexport enum VerticalTextAlignment {\n\tAlphabetic = 'alphabetic',\n\tTop = 'top',\n\tMiddle = 'middle',\n\tBottom = 'bottom',\n}\n\n/**\n * An enumeration of the kinds of symbols the Symbol mark may represent.\n */\nexport enum SymbolType {\n\tCircle = 'circle',\n\tSquare = 'square',\n\tCross = 'cross',\n\tDiamond = 'diamond',\n\tTriangleUp = 'triangle-up',\n\tTriangleDown = 'triangle-down',\n\tTriangleRight = 'triangle-right',\n\tTriangleLeft = 'triangle-left',\n}\n\n/**\n * An enumeration of the TextDirection values for Text marks.\n */\nexport enum TextDirection {\n\tLTR = 'ltr',\n\tRTL = 'rtl',\n}\n\n/**\n * Stroke-cap style for Marks with lines.\n */\nexport enum StrokeCap {\n\tButt = 'butt',\n\tRound = 'round',\n\tSquare = 'square',\n}\n\n/**\n * Stroke-join style for Marks with lines.\n */\nexport enum StrokeJoin {\n\tMiter = 'miter',\n\tRound = 'round',\n\tBevel = 'bevel',\n}\n\nexport interface Gradient {\n\tid: string\n\tx1: number\n\ty1: number\n\tx2: number\n\ty2: number\n\tstops: GradientStop[]\n}\n\nexport interface GradientStop {\n\tcolor: string\n\toffset: number\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tStrokeJoin,\n\tStrokeCap,\n\tOrientation,\n\tInterpolation,\n\tHorizontalAlignment,\n\tSymbolType,\n\tVerticalTextAlignment,\n\tTextDirection,\n\tFontWeight,\n\tMarkType,\n\tGradient,\n} from './common-types'\n\nexport enum SGNodeType {\n\tMark = 'mark',\n\tItem = 'item',\n}\n\nexport interface Metadata {\n\tid: string\n\tindex?: number\n\t[key: string]: any\n}\n\nexport interface SGNode {\n\treadonly nodetype: SGNodeType\n\treadonly parent?: SGNode\n\treadonly parentType?: SGNodeType\n\treadonly metadata: Metadata\n}\n\nexport interface SGMark<Item extends SGItem> extends SGNode {\n\t/**\n\t * The type of mark this is\n\t */\n\treadonly marktype?: MarkType\n\n\t/**\n\t * The mark items\n\t */\n\treadonly items: Item[]\n\n\t/**\n\t * Whether to clip children of this mark\n\t */\n\treadonly clip?: boolean\n\n\t/**\n\t * Whether this mark responds to interactive events\n\t */\n\treadonly interactive?: boolean\n\n\t/**\n\t * The custom role of this mark, used to emit class information\n\t */\n\treadonly role?: string\n\n\t/**\n\t * A helpful name for this mark\n\t */\n\treadonly name?: string\n\n\t/**\n\t * The z-index of this mark\n\t */\n\treadonly zIndex?: number\n}\n\nexport interface SGItem extends SGNode {\n\treadonly itemtype: string\n\n\t/**\n\t * The primary x-coordinate in pixels.\n\t */\n\treadonly x?: number\n\n\t/**\n\t * The secondary x-coordinate in pixels.\n\t */\n\treadonly x2?: number\n\n\t/**\n\t * The center x-coordinate. Incompatible with x and x2.\n\t */\n\treadonly xc?: number\n\n\t/**\n\t * The width of the mark in pixels, if supported.\n\t */\n\treadonly width?: number\n\n\t/**\n\t * The primary y-coordinate in pixels.\n\t */\n\treadonly y?: number\n\n\t/**\n\t * The secondary y-coordinate in pixels.\n\t */\n\treadonly y2?: number\n\n\t/**\n\t * The center y-coordinate. Incompatible with y and y2.\n\t */\n\treadonly yc?: number\n\n\t/**\n\t * The height of the mark in pixels, if supported.\n\t */\n\treadonly height?: number\n\n\t/**\n\t * The mark opacity from 0 (transparent) to 1 (opaque).\n\t */\n\treadonly opacity?: number\n\n\t/**\n\t * The fill color.\n\t */\n\treadonly fill?: string | Gradient\n\n\t/**\n\t * The fill opacity from 0 (transparent) to 1 (opaque).\n\t */\n\treadonly fillOpacity?: number\n\n\t/**\n\t * The stroke color.\n\t */\n\treadonly stroke?: string | Gradient\n\n\t/**\n\t * The stroke opacity from 0 (transparent) to 1 (opaque).\n\t */\n\treadonly strokeOpacity?: number\n\n\t/**\n\t * The stroke width in pixels.\n\t */\n\treadonly strokeWidth?: number\n\n\t/**\n\t * The stroke cap for line ending style. One of butt (default), round or square.\n\t */\n\treadonly strokeCap?: StrokeCap\n\n\t/**\n\t * An array of [stroke, space] lengths for creating dashed or dotted lines.\n\t */\n\treadonly strokeDash?: [number, number]\n\n\t/**\n\t * The pixel offset at which to start the stroke dash array.\n\t */\n\treadonly strokeDashOffset?: number\n\n\t/**\n\t * The stroke line join method. One of miter (default), round or bevel.\n\t */\n\treadonly strokeJoin?: StrokeJoin\n\n\t/**\n\t * The miter limit at which to bevel a line join.\n\t */\n\treadonly strokeMiterLimit?: number\n\n\t/**\n\t * The mouse cursor used over the mark. Any valid CSS cursor type can be used.\n\t */\n\treadonly cursor?: string\n\n\t/**\n\t * A URL to load upon mouse click. If defined, the mark acts as a hyperlink.\n\t */\n\treadonly href?: string\n\n\t/**\n\t * The tooltip text to show upon mouse hover. If the value is an object (other than a Date or an array),\n\t * then all key-value pairs in the object will be shown in the tooltip, one per line\n\t * (e.g., \"key1: value1\\nkey2: value2\"). Array values will be shown in brackets [value1, value2, ...].\n\t *\n\t * Other values will be coerced to strings. Nested object values will not be recursively printed.\n\t */\n\treadonly tooltip?: any\n\n\t/**\n\t * An integer z-index indicating the layering order of sibling mark items. The default value is 0.\n\t * Higher values (1) will cause marks to be drawn on top of those with lower z-index values. Setting\n\t * the z-index as an encoding property only affects ordering among sibling mark items; it will not change\n\t * the layering relative to other mark definitions. Unlike the mark-level sort property, zindex changes the\n\t * rendering order only; it does not otherwise change mark item order (such as line or area point order).\n\t *\n\t * The most common use of zindex is to ensure that a mark is drawn over its siblings when selected, such as\n\t * by mouse hover.\n\t */\n\treadonly zIndex?: number\n\n\t/**\n\t * The accessible title to apply to the scenegraph item\n\t */\n\treadonly ariaTitle?: string\n\n\t/**\n\t * The accessible description to apply to the scenegraph item\n\t */\n\treadonly ariaDescription?: string\n\n\t/**\n\t * The tab-index to use for the given item. If defined, it is a tab stop. This is important to use\n\t * when making charts accessible, as it allows screen-reader users to navigate the chart via keyboard.\n\t */\n\treadonly tabIndex?: number\n\n\t/**\n\t * A mapping of client event-names to channel-identifiers\n\t */\n\treadonly channels?: { [key: string]: string }\n}\n\n/**\n * Arc marks are circular arcs defined by a center point plus angular and radial extents.\n * Arc marks are typically used for radial plots such as pie and donut charts, but are\n * also useful for radial space-filling visualizations of hierarchical data.\n */\nexport interface SGArcItem extends SGItem {\n\t/**\n\t * The start angle in radians. A value of 0 indicates up or “north”, increasing values proceed clockwise.\n\t */\n\tstartAngle?: number\n\n\t/**\n\t * The end angle in radians. A value of 0 indicates up or “north”, increasing values proceed clockwise.\n\t */\n\tendAngle?: number\n\n\t/**\n\t * The angular padding applied to sides of the arc, in radians.\n\t */\n\tpadAngle?: number\n\n\t/**\n\t * The inner radius in pixels.\n\t */\n\tinnerRadius?: number\n\n\t/**\n\t * The outer radius in pixels.\n\t */\n\touterRadius?: number\n\n\t/**\n\t * The radius in pixels of rounded arc corners (default 0).\n\t */\n\tcornerRadius?: number\n}\n\n/**\n * Area marks are filled areas with either horizontal or vertical alignment.\n * Area marks are often used to show change over time, using either a single area or stacked areas.\n * Area marks can also be used to encode value ranges (min, max) or uncertainty over time.\n */\nexport interface SGAreaItem extends SGItem {\n\t/**\n\t * The orientation of the area mark. One of horizontal or vertical (the default).\n\t * With a vertical orientation, an area mark is defined by the x, y, and (y2 or height)\n\t * properties; with a horizontal orientation, the y, x and (x2 or width) properties must\n\t * be specified instead.\n\t */\n\torient?: Orientation\n\n\t/**\n\t * The interpolation method to use. One of basis, cardinal, catmull-rom, linear, monotone,\n\t * natural, step, step-after, step-before. The default is linear.\n\t */\n\tinterpolate: Interpolation\n\n\t/**\n\t * The tension value in the range [0, 1] to parameterize cardinal (default 0) or\n\t * catmull-rom (default 0.5) interpolation.\n\t */\n\ttension?: number\n\n\t/**\n\t * A boolean flag indicating if the current data point is defined.\n\t * If false, the corresponding area segment will be omitted, creating a “break”.\n\t */\n\tdefined?: boolean\n}\n\n/**\n *  Group marks are containers for other marks, and used to create visualizations with multiple views or layers.\n * Each group instance recursively defines its own nested visualization specification.\n * Group marks provide their own coordinate space and can include nested data, signal, scale, axis, legend,\n * title and mark definitions. In addition a group mark may have a colored background, similar to a rect mark.\n */\nexport interface SGGroupItem extends SGItem {\n\t/**\n\t * A boolean flag indicating if the visible group content should be clipped to the group’s\n\t * specified width and height.\n\t */\n\tclip?: boolean\n\n\t/**\n\t * The radius in pixels of rounded rectangle corners for the group background (default 0).\n\t */\n\tcornerRadius?: number\n\n\t/**\n\t * The nested marks for this item\n\t */\n\titems: Array<SGMark<any>>\n}\n\n/**\n * Line marks are stroked paths with constant width, defined by an ordered set of (x, y) coordinates.\n * While line marks default to using straight line segments, different interpolation methods can be\n * used to create smoothed or stepped paths. Line marks are commonly used to depict trajectories or\n * change over time.\n *\n * Note: If a data point on a line is surrounded by points with defined: false, it may not be visible.\n * Use a strokeCap of round or square to ensure a visible point is drawn.\n */\nexport interface SGLineItem extends SGItem {\n\t/**\n\t * The interpolation method to use. One of basis, bundle, cardinal, catmull-rom, linear,\n\t * monotone, natural, step, step-after, step-before. The default is linear. You can find\n\t * explanations for these line interpolators in the d3-shape documentation.\n\t */\n\tinterpolate?: Interpolation\n\n\t/**\n\t * The tension value in the range [0, 1] to parameterize bundle (default 0.8),\n\t * cardinal (default 0) or catmull-rom (default 0.5) interpolation.\n\t */\n\ttension?: number\n\n\t/**\n\t * A boolean flag indicating if the current data point is defined.\n\t * If false, the corresponding line segment will be omitted, creating a “break”.\n\t */\n\tdefined?: boolean\n}\n\n/**\n * Path marks are arbitrary shapes, defined as an SVG path. Path marks can be used to represent custom shapes,\n * including geographic regions on maps.\n */\nexport interface SGPathItem extends SGItem {\n\t/**\n\t * An SVG path string describing the geometry of the path.\n\t */\n\tpath?: string\n}\n\n/**\n * Rect marks are rectangles with a given position, width and height.\n * Rect marks are useful in a wide variety of visualizations, including bar charts and timelines.\n */\nexport interface SGRectItem extends SGItem {\n\t/**\n\t * The radius in pixels of rounded rectangle corners (default 0).\n\t */\n\tcornerRadius?: number\n}\n\n/**\n * Rule marks provide a convenient way to draw individual line segments.\n * A rule is simply a line from (x, y) to (x2, y2).\n * One of the primary uses of rule marks is to draw axis ticks and grid lines.\n */\nexport type SGRuleItem = SGItem\n\n/**\n * Symbol marks are shapes useful for plotting data, and include circles, squares and oriented triangles.\n * Symbol size can be scaled to indicate magnitudes. In addition to a set of built-in shapes, custom shapes\n * can be defined using SVG path strings.\n */\nexport interface SGSymbolItem extends SGItem {\n\t/**\n\t * The area in pixels of the symbols bounding box. Note that this value sets the area of the symbol;\n\t * the side lengths will increase with the square root of this value.\n\t */\n\tsize?: number\n\n\t/**\n\t * The symbol shape. One of circle (default), square, cross, diamond, triangle-up, triangle-down,\n\t * triangle-right, triangle-left. Alternatively, a custom SVG path string can be provided.\n\t *\n\t * For correct sizing, custom shape paths should be defined within a square with coordinates\n\t * ranging from -1 to 1 along both the x and y dimensions.\n\t */\n\tshape?: SymbolType | string\n}\n\n/**\n * Text marks can be used to annotate data, and provide labels and titles for axes and legends.\n */\nexport interface SGTextItem extends SGItem {\n\t/**\n\t * The horizontal text alignment. One of left (default), center, or right.\n\t */\n\talign?: HorizontalAlignment\n\n\t/**\n\t * The rotation angle of the text in degrees (default 0).\n\t */\n\tangle?: number\n\n\t/**\n\t * The vertical text baseline. One of alphabetic (default), top, middle, bottom.\n\t */\n\tbaseline?: VerticalTextAlignment\n\n\t/**\n\t * The direction of the text. One of ltr (left-to-right, default) or rtl (right-to-left).\n\t * This property determines on which side is truncated in response to the limit parameter.\n\t */\n\tdir?: TextDirection\n\n\t/**\n\t * The horizontal offset in pixels (before rotation), between the text and anchor point.\n\t */\n\tdx?: number\n\n\t/**\n\t * The vertical offset in pixels (before rotation), between the text and anchor point.\n\t */\n\tdy?: number\n\n\t/**\n\t * The ellipsis string for text truncated in response to the limit parameter (default “…”).\n\t */\n\tellipsis?: string\n\n\t/**\n\t * The typeface to set the text in (e.g., Helvetica Neue).\n\t */\n\tfont?: string\n\n\t/**\n\t * The font size in pixels.\n\t */\n\tfontSize?: number\n\n\t/**\n\t * The font weight (e.g., normal or bold).\n\t */\n\tfontWeight?: FontWeight\n\n\t/**\n\t * The variant of the font to use\n\t */\n\tfontVariant?: string | number\n\n\t/**\n\t * The font style (e.g., normal or italic).\n\t */\n\tfontStyle?: string\n\n\t/**\n\t * The maximum length of the text mark in pixels (default 0, indicating no limit).\n\t * The text value will be automatically truncated if the rendered size exceeds the limit.\n\t */\n\tlimit?: number\n\n\t/**\n\t * Polar coordinate radial offset in pixels, relative to the origin determined by the\n\t * x and y properties (default 0).\n\t */\n\tradius?: number\n\n\t/**\n\t * The text to display. This text may be truncated if the rendered length of the text exceeds the limit parameter.\n\t */\n\ttext?: string\n\n\t/**\n\t * Polar coordinate angle in radians, relative to the origin determined by the x and y properties (default 0).\n\t * Values for theta follow the same convention of arc marks: angles are measured in radians, with 0 indicating\n\t * up or “north”.\n\t */\n\ttheta?: number\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tGradient,\n\tStrokeCap,\n\tStrokeJoin,\n\tOrientation,\n\tInterpolation,\n\tHorizontalAlignment,\n\tVerticalAlignment,\n\tVerticalTextAlignment,\n\tSymbolType,\n\tTextDirection,\n\tFontWeight,\n} from '../common-types'\nimport { Metadata } from '../scenegraph'\nimport { Axis } from './axes'\n\nexport enum MarkEncodingKey {\n\t// Common encoding keys\n\tx = 'x',\n\tx2 = 'x2',\n\txc = 'xc',\n\ty = 'y',\n\ty2 = 'y2',\n\tyc = 'yc',\n\twidth = 'width',\n\theight = 'height',\n\topacity = 'opacity',\n\tfill = 'fill',\n\tfillOpacity = 'fillOpacity',\n\tstroke = 'stroke',\n\tstrokeOpacity = 'strokeOpacity',\n\tstrokeWidth = 'strokeWidth',\n\tstrokeCap = 'strokeCap',\n\tstrokeDash = 'strokeDash',\n\tstrokeDashOffset = 'strokeDashOffset',\n\tstrokeJoin = 'strokeJoin',\n\tstrokeMiterLimit = 'strokeMiterLimit',\n\tcursor = 'cursor',\n\thref = 'href',\n\ttooltip = 'tooltip',\n\tzIndex = 'zIndex',\n\n\t// Arc encoding keys\n\tstartAngle = 'startAngle',\n\tendAngle = 'endAngle',\n\tpadAngle = 'padAngle',\n\tinnerRadius = 'innerRadius',\n\touterRadius = 'outerRadius',\n\tcornerRadius = 'cornerRadius',\n\n\t// Area encoding keys\n\torient = 'orient',\n\tinterpolate = 'interpolate',\n\ttension = 'tension',\n\tdefined = 'defined',\n\n\t// Group encoding keys\n\tclip = 'clip',\n\n\t// Image encoding keys\n\turl = 'url',\n\taspect = 'aspect',\n\talign = 'align',\n\tbaseline = 'baseline',\n\n\t// Path encoding keys\n\tpath = 'path',\n\n\t// Symbol encoding keys\n\tsize = 'size',\n\tshape = 'shape',\n\n\t// Text encoding keys\n\tangle = 'angle',\n\tdir = 'dir',\n\tdx = 'dx',\n\tdy = 'dy',\n\tellipsis = 'ellipsis',\n\tfont = 'font',\n\tfontSize = 'fontSize',\n\tfontWeight = 'fontWeight',\n\tfontVariant = 'fontVariant',\n\tfontStyle = 'fontStyle',\n\tlimit = 'limit',\n\tradius = 'radius',\n\ttext = 'text',\n\ttheta = 'theta',\n\n\t// Accessibility keys\n\tariaTitle = 'aria-title',\n\tariaDescription = 'aria-description',\n\ttabIndex = 'tab-index',\n\n\t// Metadata\n\tmetadata = 'metadata',\n}\n\n/**\n * Each scene node binds data with a set of marks and scales\n */\nexport interface SceneNode {\n\t/**\n\t * The scales defined at this scene node\n\t */\n\tscales: ScaleCreator[]\n\n\t/**\n\t * The marks defined at this scene-node. Scales defined in this node apply to these marks\n\t */\n\tmarks: Mark[]\n\n\t/**\n\t * The axes defined at this level\n\t */\n\taxes: Axis[]\n}\n\nexport type ItemIdGenerator = (d: any, index: number, table: any[]) => string\n\n/**\n * Specification for rendering a mark in a scene\n */\nexport interface Mark {\n\t/**\n\t * The type of mark to render\n\t */\n\ttype: MarkType\n\n\t/**\n\t * The name of the data-table to bind this mark to. If mark or facet is not defined, the mark\n\t * will render as a single instance.\n\t */\n\ttable?: string\n\n\t/**\n\t * Optional generator for item ids. If this is unset, then the index of the item will be used\n\t */\n\tidGenerator?: ItemIdGenerator\n\n\t/**\n\t * The encodings, which map data values into attribute values\n\t */\n\tencodings: MarkEncodings\n\n\t/**\n\t * The event channels of the mark to listen to\n\t */\n\tchannels: Channels\n\n\t/**\n\t * The role of this mark\n\t */\n\trole?: string\n\n\t/**\n\t * A helpful name for this mark\n\t */\n\tname?: string\n\n\t/**\n\t * For group marks, an optional parameter on data faceting\n\t */\n\tfacet?: Facet\n\n\t/**\n\t * The child scene of this mark\n\t */\n\tchild?: SceneNode\n}\n\n/**\n * A single data tuple.\n */\nexport type Datum = any\n\n/**\n * A table of data\n */\nexport type Table = Datum[]\n\n/**\n * Faceting configuration to apply on incoming data\n */\nexport interface Facet {\n\t/**\n\t * The name of the facet-tables that dowstream marks will see\n\t */\n\tname: string\n\n\t/**\n\t * The name to use for the group mark's bound-data row in the context of\n\t * facet encoding. If the group mark has a bound data row, it will be mapped to\n\t * a facet partition using the facet's group-by mechanism. If the group is not\n\t * bound to a data row, it will be bound to the data facet partitions.\n\t */\n\tkeyRowName?: string\n\n\t/**\n\t * The name of the source table to generate facets from. If not defined,\n\t * then the parent table will be used\n\t */\n\ttable?: string\n\n\t/**\n\t * For data-driven facets, an array of field names by which to partition the data.\n\t * This property is required if using data-driven facets.\n\t */\n\tgroupBy?: string | string[] | ((row: any) => any)\n\n\t/**\n\t * Data transformation to apply on data partitions after partitioning\n\t */\n\ttransform?: (data: any[]) => any[]\n}\n\nexport interface EncodingContext {\n\t/**\n\t * The current datum to encode, e.g. a row in the bound data array.\n\t */\n\td: Datum\n\n\t/**\n\t * The index of the datum within the data collection\n\t */\n\tindex: number\n\n\t/**\n\t * The dimensions of the current working view (e.g. Chart-Dimensions or\n\t * current Group Dimensions)\n\t */\n\tview: ViewSize\n\n\t/**\n\t * Named data tables, datum instances, and scales..\n\t *\n\t * The data tables are a combination of the source dataset and any faceting\n\t * tables created at this point. Nomed datums are generated from faceting\n\t * when the parent row is named.\n\t */\n\t[key: string]: Datum | Table | Scale<any, any>\n}\n\nexport type MarkEncoding<T> = T | ((ctx: EncodingContext) => T)\n\nexport enum Dimension {\n\tHeight = 'height',\n\tWidth = 'width',\n}\n\n/**\n * When they appear in the scale map config, a scale is just a function that can\n * trasform a source domain to a target domain, where each domain can be of any\n * primitive type\n */\nexport interface Scales {\n\t[key: string]: Scale<any, any>\n}\n\n/**\n * A hash of mark encodings by property name\n */\nexport interface MarkEncodings {\n\t[MarkEncodingKey.x]?: MarkEncoding<number>\n\t[MarkEncodingKey.x2]?: MarkEncoding<number>\n\t[MarkEncodingKey.xc]?: MarkEncoding<number>\n\t[MarkEncodingKey.width]?: MarkEncoding<number>\n\t[MarkEncodingKey.y]?: MarkEncoding<number>\n\t[MarkEncodingKey.y2]?: MarkEncoding<number>\n\t[MarkEncodingKey.yc]?: MarkEncoding<number>\n\t[MarkEncodingKey.height]?: MarkEncoding<number>\n\t[MarkEncodingKey.opacity]?: MarkEncoding<number>\n\t[MarkEncodingKey.fill]?: MarkEncoding<string | Gradient>\n\t[MarkEncodingKey.fillOpacity]?: MarkEncoding<number>\n\t[MarkEncodingKey.stroke]?: MarkEncoding<string | Gradient>\n\t[MarkEncodingKey.strokeOpacity]?: MarkEncoding<number>\n\t[MarkEncodingKey.strokeWidth]?: MarkEncoding<number>\n\t[MarkEncodingKey.strokeCap]?: MarkEncoding<StrokeCap>\n\t[MarkEncodingKey.strokeDash]?: MarkEncoding<[number, number]>\n\t[MarkEncodingKey.strokeDashOffset]?: MarkEncoding<number>\n\t[MarkEncodingKey.strokeJoin]?: MarkEncoding<StrokeJoin>\n\t[MarkEncodingKey.strokeMiterLimit]?: MarkEncoding<number>\n\t[MarkEncodingKey.cursor]?: MarkEncoding<string>\n\t[MarkEncodingKey.href]?: MarkEncoding<string>\n\t[MarkEncodingKey.tooltip]?: MarkEncoding<string>\n\t[MarkEncodingKey.zIndex]?: MarkEncoding<number>\n\n\t[MarkEncodingKey.startAngle]?: MarkEncoding<number>\n\t[MarkEncodingKey.endAngle]?: MarkEncoding<number>\n\t[MarkEncodingKey.padAngle]?: MarkEncoding<number>\n\t[MarkEncodingKey.innerRadius]?: MarkEncoding<number>\n\t[MarkEncodingKey.outerRadius]?: MarkEncoding<number>\n\t[MarkEncodingKey.cornerRadius]?: MarkEncoding<number>\n\t[MarkEncodingKey.orient]?: MarkEncoding<Orientation>\n\t[MarkEncodingKey.interpolate]?: MarkEncoding<Interpolation>\n\t[MarkEncodingKey.tension]?: MarkEncoding<number>\n\t[MarkEncodingKey.defined]?: MarkEncoding<boolean>\n\t[MarkEncodingKey.clip]?: MarkEncoding<boolean>\n\t[MarkEncodingKey.url]?: MarkEncoding<string>\n\t[MarkEncodingKey.aspect]?: MarkEncoding<boolean>\n\t[MarkEncodingKey.align]?: MarkEncoding<HorizontalAlignment>\n\t[MarkEncodingKey.baseline]?: MarkEncoding<\n\t\tVerticalAlignment | VerticalTextAlignment\n\t>\n\t[MarkEncodingKey.path]?: MarkEncoding<string>\n\t[MarkEncodingKey.size]?: MarkEncoding<number>\n\t[MarkEncodingKey.shape]?: MarkEncoding<SymbolType | string>\n\t[MarkEncodingKey.angle]?: MarkEncoding<number>\n\t[MarkEncodingKey.dir]?: MarkEncoding<TextDirection>\n\t[MarkEncodingKey.dx]?: MarkEncoding<number>\n\t[MarkEncodingKey.dy]?: MarkEncoding<number>\n\t[MarkEncodingKey.ellipsis]?: MarkEncoding<string>\n\t[MarkEncodingKey.font]?: MarkEncoding<string>\n\t[MarkEncodingKey.fontSize]?: MarkEncoding<number>\n\t[MarkEncodingKey.fontWeight]?: MarkEncoding<FontWeight>\n\t[MarkEncodingKey.fontVariant]?: MarkEncoding<string | number>\n\t[MarkEncodingKey.fontStyle]?: MarkEncoding<number>\n\t[MarkEncodingKey.limit]?: MarkEncoding<number>\n\t[MarkEncodingKey.radius]?: MarkEncoding<number>\n\t[MarkEncodingKey.text]?: MarkEncoding<string>\n\t[MarkEncodingKey.theta]?: MarkEncoding<number>\n\n\t[MarkEncodingKey.metadata]?: MarkEncoding<Metadata>\n\n\t// catch all, and to allow indexing\n\t[key: string]: MarkEncoding<any> | undefined\n}\n\nexport type ChannelHandler<T> = (eventArg: Metadata & { event: T }) => void\n\n/**\n * A hash of mark event channels by event name\n */\nexport interface Channels {\n\t[key: string]: ChannelHandler<any>\n}\n\n/**\n * A factory function that creates a scale instance.\n */\nexport type ScaleCreator = (input: ScaleCreationContext) => Scales\n\nexport interface ScaleBuilder {\n\tbuild: ScaleCreator\n}\n\n/**\n * Interface for the scale creation argument object, which is used to\n * create scale instances when a chart drawn or resized.\n */\nexport interface ScaleCreationContext {\n\t/**\n\t * The current view size\n\t */\n\tview: ViewSize\n\n\t/**\n\t * The rectangle of the area that marks will be drawn in,\n\t * This is (chartRect minus space reserved for axes)\n\t */\n\tviewBounds: {\n\t\tx: [number, number]\n\t\ty: [number, number]\n\t}\n\n\t/**\n\t * The current set of configured scales\n\t */\n\tscales: Scales\n\n\t/**\n\t * The dataset to bind with\n\t */\n\tdata: DataFrame\n}\n\n/**\n *  Basic interface for a scale, this type does not include some exotic\n * methods that may exist on specific d3-scales.\n */\nexport interface Scale<In, Out> {\n\t(input?: In): Out\n\n\trange?: () => Out[]\n\tdomain?: () => In[]\n\tticks?: any\n\ttickFormat?: any\n\tbandwidth?: any\n\n\t/**\n\t * The kind of scale this is, used for downstream logic (e.g. utc, time, etc..)\n\t */\n\t__scaletype__?: string\n}\n\n/**\n * A view rectangle in the SVG, using SVG Coordinates\n */\nexport interface ViewSize {\n\twidth: number\n\theight: number\n}\n\n/**\n * Named tables and rows for various encoding contexts\n */\nexport interface DataFrame {\n\t[key: string]: Table | Datum\n}\n\nexport interface ChannelNames {\n\t[key: string]: string\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { FontWeight } from '../common-types'\n\nexport enum AxisOrientation {\n\tTop = 'top',\n\tLeft = 'left',\n\tBottom = 'bottom',\n\tRight = 'right',\n}\n\nexport interface TickValue {\n\tvalue: number\n\tlabel: string\n}\n\n/** Axis definition */\nexport interface Axis {\n\t/**\n\t * The name of the scale backing the axis component.\n\t */\n\tscale: string\n\n\t/**\n\t * The orientation of the axis.\n\t */\n\torient: AxisOrientation\n\n\t/**\n\t * The thickness of the axis in pixels.\n\t *\n\t * NOTE: Unfortunately we can't mesaure text dynamically in all situations, so we can set it here.\n\t */\n\tthickness?: number\n\n\t// #region Domain Properties\n\t/**\n\t * A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).\n\t */\n\tdomain?: boolean\n\n\t/**\n\t * Color of axis domain line.\n\t */\n\tdomainColor?: string\n\n\t/**\n\t * Stroke width of axis domain line.\n\t */\n\tdomainWidth?: number\n\t// #endregion\n\n\t// #region Tick Properties\n\t/**\n\t * A boolean flag indicating if ticks should be included as part of the axis (default true).\n\t */\n\tticks?: boolean\n\n\t/**\n\t * \tColor of axis ticks.\n\t */\n\ttickColor?: string\n\n\t/**\n\t * A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are “nice” (multiples of 2, 5, 10) and lie within the underlying scale’s range.\n\t * For scales of type time or utc, the tick count can instead be a time interval specifier.\n\t * Legal string values are \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\", \"month\", and \"year\".\n\t * Alternatively, an object-valued interval specifier of the form {\"interval\": \"month\", \"step\": 3} includes a desired number of interval steps. Here, ticks are generated for each quarter (Jan, Apr, Jul, Oct) boundary.\n\t */\n\ttickCount?: number\n\n\t/**\n\t * Position offset in pixels to apply to ticks, labels, and gridlines.\n\t */\n\ttickOffset?: number\n\n\t/**\n\t * Boolean flag indicating if pixel position values should be rounded to the nearest integer.\n\t */\n\ttickRound?: boolean\n\n\t/**\n\t * The length in pixels of axis ticks.\n\t */\n\ttickSize?: number\n\n\t/**\n\t * Width in pixels of axis ticks.\n\t */\n\ttickWidth?: number\n\n\t/**\n\t * An interpolation fraction indicating where, for band scales, axis ticks should be positioned.\n\t * A value of 0 places ticks at the left edge of their bands. A value of 0.5 places ticks in the middle of their bands.\n\t */\n\tbandPosition?: number\n\n\t/**\n\t * \tExplicitly set the visible axis tick and label values.\n\t */\n\tvalues?: TickValue[]\n\n\t// #endregion\n\n\t// #region Tick Label Properties\n\t/**\n\t * A boolean flag indicating if labels should be included as part of the axis (default true).\n\t */\n\tlabels?: boolean\n\n\t/**\n\t * Horizontal text alignment of axis tick labels, overriding the default setting for the current axis orientation.\n\t */\n\tlabelAlign?: string\n\n\t/**\n\t * \tAngle in degrees of axis tick labels.\n\t */\n\tlabelAngle?: number\n\n\t/**\n\t * \tVertical text baseline of axis tick labels, overriding the default setting for the current axis orientation.\n\t */\n\tlabelBaseline?: string\n\n\t/**\n\t * \tText color of axis tick labels.\n\t */\n\tlabelColor?: string\n\n\t/**\n\t * Font name for axis tick labels.\n\t */\n\tlabelFont?: string\n\n\t/**\n\t * Font size of axis tick labels.\n\t */\n\tlabelFontSize?: number\n\n\t/**\n\t * Font weight of axis tick labels.\n\t */\n\tlabelFontWeight?: FontWeight\n\n\t/**\n\t * The padding in pixels between labels and ticks.\n\t */\n\tlabelPadding?: number\n\n\t/**\n\t * The format specifier pattern for axis labels. For numerical values, must be a legal d3-format specifier.\n\t * For date-time values, must be a legal d3-time-format specifier.\n\t */\n\tlabelFormat?: string\n\n\t// #endregion\n}\n\n// #region TODO: Support These Options?\n\n// /**\n//  * Indicates if labels should be hidden if they exceed the axis range. If false (the default) no bounds overlap analysis is performed.\n//  * If true, labels will be hidden if they exceed the axis range by more than 1 pixel.\n//  * If this property is a number, it specifies the pixel tolerance: the maximum amount by which a label bounding box may exceed the axis range.\n//  */\n// labelBound?: boolean | number\n\n// /**\n//  * The maximum allowed length in pixels of axis tick labels.\n//  */\n// labelLimit?: number\n\n// /**\n//  * The strategy to use for resolving overlap of axis labels. If false (the default), no overlap reduction is attempted.\n//  * If set to true or \"parity\", a strategy of removing every other label is used (this works well for standard linear axes).\n//  * If set to \"greedy\", a linear scan of the labels is performed, removing any label that overlaps with the last visible label (this often works better for log-scaled axes).\n//  */\n// labelOverlap?: boolean | string\n\n// /**\n//  * \tIndicates if labels at the beginning or end of the axis should be aligned flush with the scale range.\n//  * If a number, indicates a pixel distance threshold: labels with anchor coordinates within the threshold distance for an axis end-point will be flush-adjusted.\n//  * If true, a default threshold of 1 pixel is used. Flush alignment for a horizontal axis will left-align labels near the beginning of the axis and right-align\n//  * labels near the end. For vertical axes, bottom and top text baselines will be applied instead.\n//  */\n// labelFlush?: boolean | number\n\n// /**\n//  * Indicates the number of pixels by which to offset flush-adjusted labels (default 0). For example, a value of 2 will push flush-adjusted labels 2 pixels outward\n//  * from the center of the axis. Offsets can help the labels better visually group with corresponding axis ticks.\n//  */\n// labelFlushOffset?: number\n\n// Tick Count Options\n\n// export type TickUnit =\n// \t| 'millisecond'\n// \t| 'second'\n// \t| 'minute'\n// \t| 'hour'\n// \t| 'day'\n// \t| 'week'\n// \t| 'month'\n// \t| 'year'\n\n// export interface TickUnitInterval {\n// \tinterval: TickUnit\n// \tstep: number\n// }\n\n// #endregion\n\n// // encode? Object\tOptional mark encodings for custom axis styling. Supports encoding blocks for axis, ticks, grid, labels, title, and domain. See custom axis encodings.\n\n// /**\n//  * A boolean flag indicating if grid lines should be included as part of the axis (default false).\n//  */\n// grid?: boolean\n\n// /**\n//  * Color of axis grid lines.\n//  */\n// gridColor?: boolean\n\n// /**\n//  * Stroke dash of axis grid lines (or [] for solid lines).\n//  */\n// gridDash?: number[]\n\n// /**\n//  * Opacity of axis grid lines.\n//  */\n// gridOpacity?: number\n\n// /**\n//  * The name of the scale to use for including grid lines. By default grid lines are driven by the same scale as the ticks and labels.\n//  */\n// gridScale?: string\n\n// /**\n//  * \tStroke width of axis grid lines.\n//  */\n// gridWidth?: number\n\n// /**\n//  * The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n//  */\n// minExtent?: number\n\n// /**\n//  * The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n//  */\n// maxExtent?: number\n\n// /**\n//  * The orthogonal offset in pixels by which to displace the axis from its position along the edge of the chart.\n//  */\n// offset?: number\n\n// /**\n//  * The anchor position of the axis in pixels (default 0). For x-axes with top or bottom orientation, this sets the axis group x coordinate. For y-axes with left or right orientation, this sets the axis group y coordinate.\n//  */\n// position?: number\n\n// /**\n//  * A title for the axis (none by default).\n//  */\n// title?: string\n\n// /**\n//  * \tHorizontal text alignment of axis titles.\n//  */\n// titleAlign?: string\n\n// /**\n//  * \tAngle in degrees of axis titles.\n//  */\n// titleAngle?: number\n\n// /**\n//  * \tVertical text baseline for axis titles.\n//  */\n// titleBaseline?: string\n\n// /**\n//  * Text color of axis titles.\n//  */\n// titleColor?: string\n\n// /**\n//  * \tFont name for axis titles.\n//  */\n// titleFont?: string\n\n// /**\n//  * \tFont size of axis titles.\n//  */\n// titleFontSize?: number\n\n// /**\n//  * \tFont weight of axis titles.\n//  */\n// titleFontWeight?: string | number\n\n// /**\n//  * \tThe maximum allowed length in pixels of axis titles.\n//  */\n// titleLimit?: number\n\n// /**\n//  * \tThe padding in pixels between the axis labels and axis title.\n//  */\n// titlePadding?: number\n\n// /**\n//  * \tCustom X position of the axis title relative to the axis group, overriding the standard layout.\n//  */\n// titleX?: number\n\n// /**\n//  * \tCustom Y position of the axis title relative to the axis group, overriding the standard layout.\n//  */\n// titleY?: number\n\n// /**\n//  * The integer z-index indicating the layering of the axis group relative to other axis, mark and legend groups. The default value is 0 and axes and grid lines are drawn behind any marks defined in the same specification level. Higher values (1) will cause axes and grid lines to be drawn on top of marks.\n//  */\n// zindex?: number\n\n// #region TODO should we even support these options?\n\n// /**\n//  * Boolean flag indicating if an extra axis tick should be added for the initial position of the axis.\n//  * This flag is useful for styling axes for band scales such that ticks are placed on band boundaries rather in the middle of a band.\n//  * Use in conjunction with \"bandPostion\": 1 and an axis \"padding\" value of 0.\n//  */\n// tickExtra?: boolean\n\n// #endregion\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { StrokeCap, StrokeJoin, Gradient } from '../common-types'\nimport { VDomNode } from './base'\n\nexport type FlexAlignType =\n\t| 'flex-start'\n\t| 'flex-end'\n\t| 'center'\n\t| 'stretch'\n\t| 'baseline'\n\nexport interface SvgCommonStyle {\n\t/**\n\t * flex\n\t */\n\talignContent?:\n\t\t| 'flex-start'\n\t\t| 'flex-end'\n\t\t| 'center'\n\t\t| 'stretch'\n\t\t| 'space-between'\n\t\t| 'space-around'\n\talignItems?: FlexAlignType\n\talignSelf?: 'auto' | FlexAlignType\n\taspectRatio?: number\n\tbottom?: number | string\n\tdisplay?: 'none' | 'flex'\n\tend?: number | string\n\tflex?: number\n\tflexBasis?: number | string\n\tflexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n\tflexGrow?: number\n\tflexShrink?: number\n\tflexWrap?: 'wrap' | 'nowrap'\n\theight?: number | string\n\tjustifyContent?:\n\t\t| 'flex-start'\n\t\t| 'flex-end'\n\t\t| 'center'\n\t\t| 'space-between'\n\t\t| 'space-around'\n\t\t| 'space-evenly'\n\n\t/**\n\t * background\n\t */\n\tbackgroundColor?: string\n\tborderBottomColor?: string\n\tborderBottomEndRadius?: number\n\tborderBottomLeftRadius?: number\n\tborderBottomRightRadius?: number\n\tborderBottomStartRadius?: number\n\tborderBottomWidth?: number\n\tborderColor?: string\n\tborderEndColor?: string\n\tborderLeftColor?: string\n\tborderLeftWidth?: number\n\tborderRadius?: number\n\tborderRightColor?: string\n\tborderRightWidth?: number\n\tborderStartColor?: string\n\tborderStyle?: 'solid' | 'dotted' | 'dashed'\n\tborderTopColor?: string\n\tborderTopEndRadius?: number\n\tborderTopLeftRadius?: number\n\tborderTopRightRadius?: number\n\tborderTopStartRadius?: number\n\tborderTopWidth?: number\n\tborderWidth?: number\n\tborderEndWidth?: number | string\n\tborderStartWidth?: number | string\n\n\t/**\n\t * Other\n\t */\n\tbackfaceVisibility?: 'visible' | 'hidden'\n\topacity?: number\n\n\t/**\n\t * Padding\n\t */\n\tpadding?: number | string\n\tpaddingBottom?: number | string\n\tpaddingEnd?: number | string\n\tpaddingHorizontal?: number | string\n\tpaddingLeft?: number | string\n\tpaddingRight?: number | string\n\tpaddingStart?: number | string\n\tpaddingTop?: number | string\n\tpaddingVertical?: number | string\n\n\t/**\n\t * Margin\n\t */\n\tmargin?: number | string\n\tmarginBottom?: number | string\n\tmarginEnd?: number | string\n\tmarginHorizontal?: number | string\n\tmarginLeft?: number | string\n\tmarginRight?: number | string\n\tmarginStart?: number | string\n\tmarginTop?: number | string\n\tmarginVertical?: number | string\n\n\t// Catchall\n\t[key: string]: any\n}\n\n/**\n * Common props for SVG-based virtual doms\n */\nexport interface CommonSvgProps {\n\t/**\n\t * The color inside the shape.\n\t * @default '#000'\n\t */\n\tfill?: string | Gradient\n\n\t/**\n\t * This specifies the opacity of the color or the content the current object is filled with.\n\t * @default 1\n\t */\n\tfillOpacity?: number\n\n\t/**\n\t * The fillRule prop determines what side of a path is inside a shape, which determines how fill\n\t * will paint the shape, can be nonzero or evenodd\n\t *\n\t * @default \"nonzero\"\n\t */\n\tfillRule?: 'nonzero' | 'evenodd'\n\n\t/**\n\t * \t'none'\tThe stroke prop controls how the outline of a shape appears.\n\t * @default 'none'\n\t */\n\tstroke?: string | Gradient\n\n\t/**\n\t * \tThe strokeWidth prop specifies the width of the outline on the current object.\n\t * \t@default 1\n\t */\n\tstrokeWidth?: number\n\n\t/**\n\t * The strokeOpacity prop specifies the opacity of the outline on the current object.\n\t * @default 1\n\t */\n\tstrokeOpacity?: number\n\n\t/**\n\t * The strokeLinecap prop specifies the shape to be used at the end of open subpaths when they are stroked.\n\t * Can be either 'butt', 'square' or 'round'.\n\t *\n\t * @default 'square'\n\t */\n\tstrokeLinecap?: StrokeCap\n\n\t/**\n\t * \tThe strokeLinejoin prop specifies the shape to be used at the corners of paths or basic shapes when they are stroked.\n\t * Can be either 'miter', 'bevel' or 'round'.\n\t * \t@default 'miter'\n\t */\n\tstrokeLinejoin?: StrokeJoin\n\n\t/**\n\t * The strokeDasharray prop controls the pattern of dashes and gaps used to stroke paths.\n\t * @default []\n\t */\n\tstrokeDasharray?: number[]\n\n\t/**\n\t * The strokeDashoffset prop specifies the distance into the dash pattern to start the dash.\n\t * @default undefined\n\t */\n\tstrokeDashoffset?: number\n\n\t/**\n\t * catch-all\n\t */\n\t[key: string]: any\n}\n\nexport enum VSvgTransformType {\n\ttranslate = 'translate',\n\trotate = 'rotate',\n\tscale = 'scale',\n}\n\nexport interface VSvgTransform<Value> {\n\ttype: VSvgTransformType\n\tvalue: Value\n}\n\nexport interface VSvgNode extends VDomNode<CommonSvgProps, SvgCommonStyle> {\n\ttransforms?: Array<VSvgTransform<any>>\n\n\t/**\n\t * The screen-reader title to apply\n\t */\n\tariaTitle?: string\n\n\t/**\n\t * The screen-reader description to apply\n\t */\n\tariaDescription?: string\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGItem } from '../scenegraph'\n\n/**\n * For marks that support width and height settings (including rect and area),\n * the horizontal dimensions are determined (in order of precedence) by the x and x2 properties,\n * the x and width properties, the x2 and width properties, or the xc and width properties.\n * If all three of x, x2 and width are specified, the width value is ignored.\n * The y, y2, yc and height properties are treated similarly.\n * @param item\n */\nexport function getItemSpace(item: SGItem): ItemSpace {\n\tconst { x, xc, x2, y, yc, y2, width, height } = item\n\tconst computeDimension = (\n\t\tlow: number | undefined,\n\t\thigh: number | undefined,\n\t\tcenter: number | undefined,\n\t\tspan: number | undefined,\n\t) => {\n\t\tlet origin: number | undefined\n\t\tlet resultSpan: number | undefined\n\n\t\t// Snap dimensions to lower-bound first.\n\t\t// Then try to snap to the upper bound.\n\t\t// Then, if those don't exist, try to snap to the center and span\n\t\tif (low !== undefined) {\n\t\t\tif (high !== undefined) {\n\t\t\t\torigin = Math.min(low, high)\n\t\t\t\tresultSpan = Math.abs(high - low)\n\t\t\t} else if (span !== undefined) {\n\t\t\t\torigin = low\n\t\t\t\tresultSpan = span\n\t\t\t} else if (center !== undefined) {\n\t\t\t\torigin = Math.min(low, center)\n\t\t\t\tresultSpan = Math.abs(center - low) * 2\n\t\t\t} else {\n\t\t\t\torigin = low\n\t\t\t}\n\t\t} else if (high !== undefined) {\n\t\t\tif (span !== undefined) {\n\t\t\t\torigin = high - span\n\t\t\t\tresultSpan = span\n\t\t\t} else if (center !== undefined) {\n\t\t\t\tresultSpan = Math.abs(high - center) * 2\n\t\t\t\torigin =\n\t\t\t\t\tcenter < high ? high - (high - center) * 2 : center - (center - high)\n\t\t\t}\n\t\t} else if (span !== undefined && center !== undefined) {\n\t\t\torigin = center - span / 2\n\t\t\tresultSpan = span\n\t\t}\n\t\treturn [origin, resultSpan]\n\t}\n\n\tconst [originX, resultWidth] = computeDimension(x, x2, xc, width)\n\tconst [originY, resultHeight] = computeDimension(y, y2, yc, height)\n\treturn {\n\t\torigin: {\n\t\t\tx: originX || 0,\n\t\t\ty: originY || 0,\n\t\t},\n\t\tshape: {\n\t\t\twidth: resultWidth,\n\t\t\theight: resultHeight,\n\t\t},\n\t}\n}\n\nexport interface ItemSpace {\n\torigin: {\n\t\tx: number\n\t\ty: number\n\t}\n\tshape: {\n\t\twidth: number | undefined\n\t\theight: number | undefined\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nexport const DEFAULT_WIDTH = 250\nexport const DEFAULT_HEIGHT = 250\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function moveTo(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function lineTo(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    } // Is this arc empty? We’re done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function rect(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function toString() {\n    return this._;\n  }\n};\nexport default path;","export default function (x) {\n  return function constant() {\n    return x;\n  };\n}","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}","import { path } from \"d3-path\";\nimport constant from \"./constant.js\";\nimport { abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau } from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0,\n      y10 = y1 - y0,\n      x32 = x3 - x2,\n      y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n} // Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\n\n\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00; // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function () {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n    if (!context) context = buffer = path(); // Ensure that the outer radius is always larger than the inner radius.\n\n    if (r1 < r0) r = r1, r1 = r0, r0 = r; // Is it a point?\n\n    if (!(r1 > epsilon)) context.moveTo(0, 0); // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    } // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = ap > epsilon && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1; // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= cw ? 1 : -1, a00 += p0, a10 -= p0;else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10); // Apply rounded corners?\n\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc; // Restrict the corner radius according to the sector angle.\n\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      } // Is the sector collapsed to a line?\n\n\n      if (!(da1 > epsilon)) context.moveTo(x01, y01); // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01); // Have the corners merged?\n\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw); // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      } // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw); // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10); // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01); // Have the corners merged?\n\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw); // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      } // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function () {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function (_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function (_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function (_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function (_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, arc) : context;\n  };\n\n  return arc;\n}","export var slice = Array.prototype.slice;\nexport default function (x) {\n  return typeof x === \"object\" && \"length\" in x ? x // Array, TypedArray, NodeList, array-like\n  : Array.from(x); // Map, Set, iterable, string, or anything else\n}","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\nexport default function (context) {\n  return new Linear(context);\n}","export function x(p) {\n  return p[0];\n}\nexport function y(p) {\n  return p[1];\n}","import { path } from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport { x as pointX, y as pointY } from \"./point.js\";\nexport default function (x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n  x = typeof x === \"function\" ? x : x === undefined ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : y === undefined ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}","import { path } from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport { x as pointX, y as pointY } from \"./point.js\";\nexport default function (x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n  x0 = typeof x0 === \"function\" ? x0 : x0 === undefined ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : y0 === undefined ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : y1 === undefined ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}","import { pi, tau } from \"../math.js\";\nexport default {\n  draw: function draw(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};","import { pi, tau } from \"../math.js\";\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\nexport default {\n  draw: function draw(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n\n    context.closePath();\n  }\n};","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\nexport default {\n  draw: function draw(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};","var sqrt3 = Math.sqrt(3);\nexport default {\n  draw: function draw(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\nexport default {\n  draw: function draw(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};","import { path } from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\nexport var symbols = [circle, cross, diamond, square, star, triangle, wye];\nexport default function (type, size) {\n  var context = null;\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function (_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function (_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGRectItem } from '@chart-parts/interfaces'\nimport { path, Path } from 'd3-path'\nimport { Xform } from './util'\n\nexport class Rectangle {\n\tpublic constructor(\n\t\tpublic x: Xform<SGRectItem, number> = d => d.x || 0,\n\t\tpublic y: Xform<SGRectItem, number> = d => d.y || 0,\n\t\tpublic width: Xform<SGRectItem, number> = d => d.width || 0,\n\t\tpublic height: Xform<SGRectItem, number> = d => d.height || 0,\n\t\tpublic cornerRadius: Xform<SGRectItem, number> = d => d.cornerRadius || 0,\n\t) {}\n\n\t/**\n\t * Draws out the Rectangle Shape\n\t * @param d The bound datum\n\t * @param x0 The offset x\n\t * @param y0 The offset y\n\t * @param context The drawing context (compatible with Canvas2DRenderingContext)\n\t *\n\t */\n\tpublic build(d: SGRectItem, x0?: number, y0?: number, context?: Path): Path {\n\t\tconst { x, y, width, height, cornerRadius } = this\n\t\tconst x1 = x0 != null ? x0 : +x(d)\n\t\tconst y1 = y0 != null ? y0 : +y(d)\n\t\tconst w = +width(d)\n\t\tconst h = +height(d)\n\t\tconst cr = +cornerRadius(d)\n\n\t\tif (!context) {\n\t\t\tcontext = path()\n\t\t}\n\n\t\tif (cr <= 0) {\n\t\t\tcontext.rect(x1, y1, w, h)\n\t\t} else {\n\t\t\tconst x2 = x1 + w\n\t\t\tconst y2 = y1 + h\n\t\t\tcontext.moveTo(x1 + cr, y1)\n\t\t\tcontext.lineTo(x2 - cr, y1)\n\t\t\tcontext.quadraticCurveTo(x2, y1, x2, y1 + cr)\n\t\t\tcontext.lineTo(x2, y2 - cr)\n\t\t\tcontext.quadraticCurveTo(x2, y2, x2 - cr, y2)\n\t\t\tcontext.lineTo(x1 + cr, y2)\n\t\t\tcontext.quadraticCurveTo(x1, y2, x1, y2 - cr)\n\t\t\tcontext.lineTo(x1, y1 + cr)\n\t\t\tcontext.quadraticCurveTo(x1, y1, x1 + cr, y1)\n\t\t\tcontext.closePath()\n\t\t}\n\n\t\treturn context\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\n// Path parsing and rendering code adapted from fabric.js -- Thanks!\nconst cmdlen: { [key: string]: number } = {\n\tm: 2,\n\tl: 2,\n\th: 1,\n\tv: 1,\n\tc: 6,\n\ts: 4,\n\tq: 4,\n\tt: 2,\n\ta: 7,\n}\nconst regexp = [/([MLHVCSQTAZmlhvcsqtaz])/g, /###/, /(\\d)([-+])/g, /\\s|,|###/]\n\n//\nexport type Command = Array<string | number>\n\nexport function parsePath(pathstr: string): Command[] {\n\tconst result: any[] = []\n\n\t// First, break path into command sequence\n\tconst path = pathstr\n\t\t.slice()\n\t\t.replace(regexp[0], '###$1')\n\t\t.split(regexp[1])\n\t\t.slice(1)\n\n\t// Next, parse each command in turn\n\tpath.forEach(command => {\n\t\tconst chunks = command\n\t\t\t.slice(1)\n\t\t\t.trim()\n\t\t\t.replace(regexp[2], '$1###$2')\n\t\t\t.split(regexp[3])\n\t\tconst cmd = command.charAt(0)\n\t\tconst cmdLength = cmdlen[cmd.toLowerCase()]\n\t\tconst parsed: any[] = [cmd]\n\n\t\tchunks.forEach(chunk => {\n\t\t\tconst param = +chunk\n\t\t\tif (!Number.isNaN(param)) {\n\t\t\t\tparsed.push(param)\n\t\t\t}\n\t\t})\n\n\t\t// Force the parameters into the expected command length\n\t\tif (parsed.length - 1 > cmdLength) {\n\t\t\tfor (let i = 1; i < parsed.length; i += cmdLength) {\n\t\t\t\tresult.push([cmd].concat(parsed.slice(i, i + cmdLength)))\n\t\t\t}\n\t\t} else {\n\t\t\tresult.push(parsed)\n\t\t}\n\t})\n\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nexport const segmentCache: Record<string, any> = {}\nexport const bezierCache: Record<string, any> = {}\n\nconst join = [].join\n\n// Copied from Inkscape svgtopdf, thanks!\nexport function segments(\n\tx: number,\n\ty: number,\n\trx: number,\n\try: number,\n\tlarge: number,\n\tsweep: number,\n\trotateX: number,\n\tox: number,\n\toy: number,\n) {\n\tconst key = join.call([x, y, rx, ry, large, sweep, rotateX, ox, oy])\n\tif (segmentCache[key]) {\n\t\treturn segmentCache[key]\n\t}\n\n\tconst th = rotateX * (Math.PI / 180)\n\tconst sin_th = Math.sin(th)\n\tconst cos_th = Math.cos(th)\n\trx = Math.abs(rx)\n\try = Math.abs(ry)\n\tconst px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5\n\tconst py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5\n\tlet pl = (px * px) / (rx * rx) + (py * py) / (ry * ry)\n\tif (pl > 1) {\n\t\tpl = Math.sqrt(pl)\n\t\trx *= pl\n\t\try *= pl\n\t}\n\n\tconst a00 = cos_th / rx\n\tconst a01 = sin_th / rx\n\tconst a10 = -sin_th / ry\n\tconst a11 = cos_th / ry\n\tconst x0 = a00 * ox + a01 * oy\n\tconst y0 = a10 * ox + a11 * oy\n\tconst x1 = a00 * x + a01 * y\n\tconst y1 = a10 * x + a11 * y\n\n\tconst d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0)\n\tlet sfactor_sq = 1 / d - 0.25\n\tif (sfactor_sq < 0) {\n\t\tsfactor_sq = 0\n\t}\n\tlet sfactor = Math.sqrt(sfactor_sq)\n\tif (sweep === large) {\n\t\tsfactor = -sfactor\n\t}\n\tconst xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0)\n\tconst yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0)\n\n\tconst th0 = Math.atan2(y0 - yc, x0 - xc)\n\tconst th1 = Math.atan2(y1 - yc, x1 - xc)\n\n\tlet th_arc = th1 - th0\n\tif (th_arc < 0 && sweep === 1) {\n\t\tth_arc += 2 * Math.PI\n\t} else if (th_arc > 0 && sweep === 0) {\n\t\tth_arc -= 2 * Math.PI\n\t}\n\n\tconst segs = Math.ceil(Math.abs(th_arc / (Math.PI * 0.5 + 0.001)))\n\tconst result: number[][] = []\n\tfor (let i = 0; i < segs; ++i) {\n\t\tconst th2 = th0 + (i * th_arc) / segs\n\t\tconst th3 = th0 + ((i + 1) * th_arc) / segs\n\t\tresult[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th]\n\t}\n\n\treturn (segmentCache[key] = result)\n}\n\nexport function bezier(params: any) {\n\tconst key = join.call(params)\n\tif (bezierCache[key]) {\n\t\treturn bezierCache[key]\n\t}\n\n\tconst cx = params[0]\n\tconst cy = params[1]\n\tconst th0 = params[2]\n\tconst th1 = params[3]\n\tconst rx = params[4]\n\tconst ry = params[5]\n\tconst sin_th = params[6]\n\tconst cos_th = params[7]\n\n\tconst a00 = cos_th * rx\n\tconst a01 = -sin_th * ry\n\tconst a10 = sin_th * rx\n\tconst a11 = cos_th * ry\n\n\tconst cos_th0 = Math.cos(th0)\n\tconst sin_th0 = Math.sin(th0)\n\tconst cos_th1 = Math.cos(th1)\n\tconst sin_th1 = Math.sin(th1)\n\n\tconst th_half = 0.5 * (th1 - th0)\n\tconst sin_th_h2 = Math.sin(th_half * 0.5)\n\tconst t = ((8 / 3) * sin_th_h2 * sin_th_h2) / Math.sin(th_half)\n\tconst x1 = cx + cos_th0 - t * sin_th0\n\tconst y1 = cy + sin_th0 + t * cos_th0\n\tconst x3 = cx + cos_th1\n\tconst y3 = cy + sin_th1\n\tconst x2 = x3 + t * sin_th1\n\tconst y2 = y3 - t * cos_th1\n\n\treturn (bezierCache[key] = [\n\t\ta00 * x1 + a01 * y1,\n\t\ta10 * x1 + a11 * y1,\n\t\ta00 * x2 + a01 * y2,\n\t\ta10 * x2 + a11 * y2,\n\t\ta00 * x3 + a01 * y3,\n\t\ta10 * x3 + a11 * y3,\n\t])\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { segments } from './arc'\nconst temp = ['l', 0, 0, 0, 0, 0, 0, 0]\n\nfunction scale(current: any, s: any) {\n\tconst c = (temp[0] = current[0])\n\tif (c === 'a' || c === 'A') {\n\t\ttemp[1] = s * current[1]\n\t\ttemp[2] = s * current[2]\n\t\ttemp[6] = s * current[6]\n\t\ttemp[7] = s * current[7]\n\t} else {\n\t\tfor (let i = 1, n = current.length; i < n; ++i) {\n\t\t\ttemp[i] = s * current[i]\n\t\t}\n\t}\n\treturn temp\n}\n\nexport function renderPath(context: any, path: any, l: any, t: any, s: any) {\n\tlet current // current instruction\n\tlet previous = null\n\tlet x = 0 // current x\n\tlet y = 0 // current y\n\tlet controlX = 0 // current control point x\n\tlet controlY = 0 // current control point y\n\tlet tempX\n\tlet tempY\n\tlet tempControlX\n\tlet tempControlY\n\n\tif (l == null) {\n\t\tl = 0\n\t}\n\tif (t == null) {\n\t\tt = 0\n\t}\n\tif (s == null) {\n\t\ts = 1\n\t}\n\n\tif (context.beginPath) {\n\t\tcontext.beginPath()\n\t}\n\n\tfor (let i = 0, len = path.length; i < len; ++i) {\n\t\tcurrent = path[i]\n\t\tif (s !== 1) {\n\t\t\tcurrent = scale(current, s)\n\t\t}\n\n\t\tswitch (\n\t\t\tcurrent[0] // first letter\n\t\t) {\n\t\t\tcase 'l': // lineto, relative\n\t\t\t\tx += current[1]\n\t\t\t\ty += current[2]\n\t\t\t\tcontext.lineTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'L': // lineto, absolute\n\t\t\t\tx = current[1]\n\t\t\t\ty = current[2]\n\t\t\t\tcontext.lineTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'h': // horizontal lineto, relative\n\t\t\t\tx += current[1]\n\t\t\t\tcontext.lineTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'H': // horizontal lineto, absolute\n\t\t\t\tx = current[1]\n\t\t\t\tcontext.lineTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'v': // vertical lineto, relative\n\t\t\t\ty += current[1]\n\t\t\t\tcontext.lineTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'V': // verical lineto, absolute\n\t\t\t\ty = current[1]\n\t\t\t\tcontext.lineTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'm': // moveTo, relative\n\t\t\t\tx += current[1]\n\t\t\t\ty += current[2]\n\t\t\t\tcontext.moveTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'M': // moveTo, absolute\n\t\t\t\tx = current[1]\n\t\t\t\ty = current[2]\n\t\t\t\tcontext.moveTo(x + l, y + t)\n\t\t\t\tbreak\n\n\t\t\tcase 'c': // bezierCurveTo, relative\n\t\t\t\ttempX = x + current[5]\n\t\t\t\ttempY = y + current[6]\n\t\t\t\tcontrolX = x + current[3]\n\t\t\t\tcontrolY = y + current[4]\n\t\t\t\tcontext.bezierCurveTo(\n\t\t\t\t\tx + current[1] + l, // x1\n\t\t\t\t\ty + current[2] + t, // y1\n\t\t\t\t\tcontrolX + l, // x2\n\t\t\t\t\tcontrolY + t, // y2\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\tbreak\n\n\t\t\tcase 'C': // bezierCurveTo, absolute\n\t\t\t\tx = current[5]\n\t\t\t\ty = current[6]\n\t\t\t\tcontrolX = current[3]\n\t\t\t\tcontrolY = current[4]\n\t\t\t\tcontext.bezierCurveTo(\n\t\t\t\t\tcurrent[1] + l,\n\t\t\t\t\tcurrent[2] + t,\n\t\t\t\t\tcontrolX + l,\n\t\t\t\t\tcontrolY + t,\n\t\t\t\t\tx + l,\n\t\t\t\t\ty + t,\n\t\t\t\t)\n\t\t\t\tbreak\n\n\t\t\tcase 's': // shorthand cubic bezierCurveTo, relative\n\t\t\t\t// transform to absolute x,y\n\t\t\t\ttempX = x + current[3]\n\t\t\t\ttempY = y + current[4]\n\t\t\t\t// calculate reflection of previous control points\n\t\t\t\tcontrolX = 2 * x - controlX\n\t\t\t\tcontrolY = 2 * y - controlY\n\t\t\t\tcontext.bezierCurveTo(\n\t\t\t\t\tcontrolX + l,\n\t\t\t\t\tcontrolY + t,\n\t\t\t\t\tx + current[1] + l,\n\t\t\t\t\ty + current[2] + t,\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\n\t\t\t\t// set control point to 2nd one of this command\n\t\t\t\t// the first control point is assumed to be the reflection of\n\t\t\t\t// the second control point on the previous command relative\n\t\t\t\t// to the current point.\n\t\t\t\tcontrolX = x + current[1]\n\t\t\t\tcontrolY = y + current[2]\n\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\tbreak\n\n\t\t\tcase 'S': // shorthand cubic bezierCurveTo, absolute\n\t\t\t\ttempX = current[3]\n\t\t\t\ttempY = current[4]\n\t\t\t\t// calculate reflection of previous control points\n\t\t\t\tcontrolX = 2 * x - controlX\n\t\t\t\tcontrolY = 2 * y - controlY\n\t\t\t\tcontext.bezierCurveTo(\n\t\t\t\t\tcontrolX + l,\n\t\t\t\t\tcontrolY + t,\n\t\t\t\t\tcurrent[1] + l,\n\t\t\t\t\tcurrent[2] + t,\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\t// set control point to 2nd one of this command\n\t\t\t\t// the first control point is assumed to be the reflection of\n\t\t\t\t// the second control point on the previous command relative\n\t\t\t\t// to the current point.\n\t\t\t\tcontrolX = current[1]\n\t\t\t\tcontrolY = current[2]\n\n\t\t\t\tbreak\n\n\t\t\tcase 'q': // quadraticCurveTo, relative\n\t\t\t\t// transform to absolute x,y\n\t\t\t\ttempX = x + current[3]\n\t\t\t\ttempY = y + current[4]\n\n\t\t\t\tcontrolX = x + current[1]\n\t\t\t\tcontrolY = y + current[2]\n\n\t\t\t\tcontext.quadraticCurveTo(\n\t\t\t\t\tcontrolX + l,\n\t\t\t\t\tcontrolY + t,\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\tbreak\n\n\t\t\tcase 'Q': // quadraticCurveTo, absolute\n\t\t\t\ttempX = current[3]\n\t\t\t\ttempY = current[4]\n\n\t\t\t\tcontext.quadraticCurveTo(\n\t\t\t\t\tcurrent[1] + l,\n\t\t\t\t\tcurrent[2] + t,\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\tcontrolX = current[1]\n\t\t\t\tcontrolY = current[2]\n\t\t\t\tbreak\n\n\t\t\tcase 't': // shorthand quadraticCurveTo, relative\n\t\t\t\t// transform to absolute x,y\n\t\t\t\ttempX = x + current[1]\n\t\t\t\ttempY = y + current[2]\n\n\t\t\t\tif (previous[0].match(/[QqTt]/) === null) {\n\t\t\t\t\t// If there is no previous command or if the previous command was not a Q, q, T or t,\n\t\t\t\t\t// assume the control point is coincident with the current point\n\t\t\t\t\tcontrolX = x\n\t\t\t\t\tcontrolY = y\n\t\t\t\t} else if (previous[0] === 't') {\n\t\t\t\t\t// calculate reflection of previous control points for t\n\t\t\t\t\tcontrolX = 2 * x - (tempControlX as number)\n\t\t\t\t\tcontrolY = 2 * y - (tempControlY as number)\n\t\t\t\t} else if (previous[0] === 'q') {\n\t\t\t\t\t// calculate reflection of previous control points for q\n\t\t\t\t\tcontrolX = 2 * x - controlX\n\t\t\t\t\tcontrolY = 2 * y - controlY\n\t\t\t\t}\n\n\t\t\t\ttempControlX = controlX\n\t\t\t\ttempControlY = controlY\n\n\t\t\t\tcontext.quadraticCurveTo(\n\t\t\t\t\tcontrolX + l,\n\t\t\t\t\tcontrolY + t,\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\tcontrolX = x + current[1]\n\t\t\t\tcontrolY = y + current[2]\n\t\t\t\tbreak\n\n\t\t\tcase 'T':\n\t\t\t\ttempX = current[1]\n\t\t\t\ttempY = current[2]\n\n\t\t\t\t// calculate reflection of previous control points\n\t\t\t\tcontrolX = 2 * x - controlX\n\t\t\t\tcontrolY = 2 * y - controlY\n\t\t\t\tcontext.quadraticCurveTo(\n\t\t\t\t\tcontrolX + l,\n\t\t\t\t\tcontrolY + t,\n\t\t\t\t\ttempX + l,\n\t\t\t\t\ttempY + t,\n\t\t\t\t)\n\t\t\t\tx = tempX\n\t\t\t\ty = tempY\n\t\t\t\tbreak\n\n\t\t\tcase 'a':\n\t\t\t\tdrawArc(context, x + l, y + t, [\n\t\t\t\t\tcurrent[1],\n\t\t\t\t\tcurrent[2],\n\t\t\t\t\tcurrent[3],\n\t\t\t\t\tcurrent[4],\n\t\t\t\t\tcurrent[5],\n\t\t\t\t\tcurrent[6] + x + l,\n\t\t\t\t\tcurrent[7] + y + t,\n\t\t\t\t])\n\t\t\t\tx += current[6]\n\t\t\t\ty += current[7]\n\t\t\t\tbreak\n\n\t\t\tcase 'A':\n\t\t\t\tdrawArc(context, x + l, y + t, [\n\t\t\t\t\tcurrent[1],\n\t\t\t\t\tcurrent[2],\n\t\t\t\t\tcurrent[3],\n\t\t\t\t\tcurrent[4],\n\t\t\t\t\tcurrent[5],\n\t\t\t\t\tcurrent[6] + l,\n\t\t\t\t\tcurrent[7] + t,\n\t\t\t\t])\n\t\t\t\tx = current[6]\n\t\t\t\ty = current[7]\n\t\t\t\tbreak\n\n\t\t\tcase 'z':\n\t\t\tcase 'Z':\n\t\t\t\tcontext.closePath()\n\t\t\t\tbreak\n\t\t}\n\t\tprevious = current\n\t}\n}\n\nfunction drawArc(context: any, x: any, y: any, coords: any) {\n\tconst seg = segments(\n\t\tcoords[5], // end x\n\t\tcoords[6], // end y\n\t\tcoords[0], // radius x\n\t\tcoords[1], // radius y\n\t\tcoords[3], // large flag\n\t\tcoords[4], // sweep flag\n\t\tcoords[2], // rotation\n\t\tx,\n\t\ty,\n\t)\n\tseg.forEach((bez: any) => {\n\t\tcontext.bezierCurveTo(bez[0], bez[1], bez[2], bez[3], bez[4], bez[5])\n\t})\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nexport const tau = 2 * Math.PI\nexport const halfSqrt3 = Math.sqrt(3) / 2\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Path, path } from 'd3-path'\nimport { tau } from './constants'\n\nexport function drawCircle(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\n\tcontext.moveTo(radius, 0)\n\tcontext.arc(0, 0, radius, 0, tau)\n\treturn context\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Path, path } from 'd3-path'\n\nexport function drawCross(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tconst s = radius / 2.5\n\tcontext.moveTo(-radius, -s)\n\tcontext.lineTo(-radius, s)\n\tcontext.lineTo(-s, s)\n\tcontext.lineTo(-s, radius)\n\tcontext.lineTo(s, radius)\n\tcontext.lineTo(s, s)\n\tcontext.lineTo(radius, s)\n\tcontext.lineTo(radius, -s)\n\tcontext.lineTo(s, -s)\n\tcontext.lineTo(s, -radius)\n\tcontext.lineTo(-s, -radius)\n\tcontext.lineTo(-s, -s)\n\tcontext.closePath()\n\treturn context\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Path, path } from 'd3-path'\n\nexport function drawDiamond(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tcontext.moveTo(-radius, 0)\n\tcontext.lineTo(0, -radius)\n\tcontext.lineTo(radius, 0)\n\tcontext.lineTo(0, radius)\n\tcontext.closePath()\n\treturn context\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Path, path } from 'd3-path'\n\nexport function drawSquare(context: Path, width: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tconst x = -width / 2\n\tcontext.rect(x, x, width, width)\n\treturn context\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Path, path } from 'd3-path'\nimport { halfSqrt3 } from './constants'\n\nexport function drawTriangleUp(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tconst h = halfSqrt3 * radius\n\tcontext.moveTo(0, -h)\n\tcontext.lineTo(-radius, h)\n\tcontext.lineTo(radius, h)\n\tcontext.closePath()\n\treturn context\n}\n\nexport function drawTriangleDown(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tconst h = halfSqrt3 * radius\n\tcontext.moveTo(0, h)\n\tcontext.lineTo(-radius, -h)\n\tcontext.lineTo(radius, -h)\n\tcontext.closePath()\n\treturn context\n}\n\nexport function drawTriangleLeft(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tconst h = halfSqrt3 * radius\n\tcontext.moveTo(-h, 0)\n\tcontext.lineTo(h, -radius)\n\tcontext.lineTo(h, radius)\n\tcontext.closePath()\n\treturn context\n}\n\nexport function drawTriangleRight(context: Path, radius: number) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\tconst h = halfSqrt3 * radius\n\tcontext.moveTo(h, 0)\n\tcontext.lineTo(-h, -radius)\n\tcontext.lineTo(-h, radius)\n\tcontext.closePath()\n\treturn context\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Path, path } from 'd3-path'\nimport { parsePath, Command } from '../parse'\nimport { renderPath } from '../render'\n\nimport { drawCircle } from './drawCircle'\nimport { drawCross } from './drawCross'\nimport { drawDiamond } from './drawDiamond'\nimport { drawSquare } from './drawSquare'\nimport {\n\tdrawTriangleUp,\n\tdrawTriangleDown,\n\tdrawTriangleLeft,\n\tdrawTriangleRight,\n} from './drawTriangle'\n\nexport interface SymbolRenderer {\n\tdraw(context: Path, size: number): Path\n}\n\nexport interface SymbolRenderers {\n\tbyArea: SymbolRenderer\n\tbyWidth: SymbolRenderer\n}\n\nexport interface SymbolMap {\n\t[key: string]: SymbolRenderers\n}\n\nconst getRadius = (area: number) => {\n\treturn Math.sqrt(area) / 2\n}\n\nconst builtins: SymbolMap = {\n\tcircle: {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawCircle(ctx, getRadius(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawCircle(ctx, size / 2),\n\t\t},\n\t},\n\tcross: {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawCross(ctx, getRadius(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawCross(ctx, size / 2),\n\t\t},\n\t},\n\tdiamond: {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawDiamond(ctx, getRadius(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawDiamond(ctx, size / 2),\n\t\t},\n\t},\n\tsquare: {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawSquare(ctx, Math.sqrt(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawSquare(ctx, size),\n\t\t},\n\t},\n\t'triangle-up': {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleUp(ctx, Math.sqrt(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleUp(ctx, size),\n\t\t},\n\t},\n\t'triangle-down': {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleDown(ctx, Math.sqrt(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleDown(ctx, size),\n\t\t},\n\t},\n\t'triangle-left': {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleLeft(ctx, Math.sqrt(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleLeft(ctx, size),\n\t\t},\n\t},\n\t'triangle-right': {\n\t\tbyArea: {\n\t\t\tdraw: (ctx: Path, size: number) =>\n\t\t\t\tdrawTriangleRight(ctx, Math.sqrt(size)),\n\t\t},\n\t\tbyWidth: {\n\t\t\tdraw: (ctx: Path, size: number) => drawTriangleRight(ctx, size),\n\t\t},\n\t},\n}\n\nexport function symbols(symbolName: string) {\n\treturn Object.prototype.hasOwnProperty.call(builtins, symbolName)\n\t\t? builtins[symbolName]\n\t\t: customSymbol(symbolName)\n}\n\nexport function symbolsByWidth(symbolName: string) {\n\treturn Object.prototype.hasOwnProperty.call(builtins, symbolName)\n\t\t? builtins[symbolName]\n\t\t: customSymbol(symbolName)\n}\n\nconst custom: SymbolMap = {}\n\nexport function customSymbol(symbolPath: string) {\n\tif (!Object.prototype.hasOwnProperty.call(custom, symbolPath)) {\n\t\tconst parsed = parsePath(symbolPath)\n\t\tcustom[symbolPath] = {\n\t\t\tbyArea: {\n\t\t\t\tdraw: (context: Path, size: number) =>\n\t\t\t\t\tdrawCustom(context, getRadius(size), parsed),\n\t\t\t},\n\t\t\tbyWidth: {\n\t\t\t\tdraw: (context: Path, size: number) =>\n\t\t\t\t\tdrawCustom(context, getRadius(size), parsed),\n\t\t\t},\n\t\t}\n\t}\n\n\treturn custom[symbolPath]\n}\n\nfunction drawCustom(context: Path, size: number, pathValue: Command[]) {\n\tif (!context) {\n\t\tcontext = path()\n\t}\n\trenderPath(context, pathValue, 0, 0, size)\n\treturn context\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tSGItem,\n\tSGAreaItem,\n\tSGLineItem,\n\tSGSymbolItem,\n\tSGArcItem,\n\tSGRectItem,\n\tSGGroupItem,\n} from '@chart-parts/interfaces'\nimport {\n\tarc as d3Arc,\n\tsymbol as d3Symbol,\n\tarea as d3Area,\n\tline as d3Lines,\n} from 'd3-shape'\nimport { Rectangle } from './Rectangle'\nimport { symbols } from './symbols'\n\nconst x = (item: SGItem) => item.x || 0\nconst x2 = (item: SGItem) => item.x2 || 0\nconst y = (item: SGItem) => item.y || 0\nconst y2 = (item: SGItem) => item.y2 || 0\nconst w = (item: SGItem) => item.width || 0\nconst h = (item: SGItem) => item.height || 0\nconst sa = (item: SGArcItem) => item.startAngle || 0\nconst ea = (item: SGArcItem) => item.endAngle || 0\nconst pa = (item: SGArcItem) => item.padAngle || 0\nconst ir = (item: SGArcItem) => item.innerRadius || 0\nconst or = (item: SGArcItem) => item.outerRadius || 0\nconst cr = (item: SGArcItem | SGRectItem | SGGroupItem) =>\n\titem.cornerRadius || 0\nconst def = (item: SGAreaItem | SGLineItem) =>\n\titem.defined == null ? true : item.defined\n\n/**\n * Extracts the symbol \"size\" from a scenegraph item - this is expressed as an area\n * @param item The scenegraph item to inspect\n */\nconst symbolSize = (item: SGSymbolItem) => (item.size == null ? 64 : item.size)\n\n/**\n * Extracts the symbol \"width\" from a scenegraph item.\n * @param item The scenegraph item to inspect\n */\nconst symbolWidth = (item: SGSymbolItem) =>\n\titem.width == null ? 8 : item.width\n\nconst rendererByArea = (item: SGSymbolItem) =>\n\tsymbols(item.shape || 'circle').byArea\n\nconst rendererByWidth = (item: SGSymbolItem) =>\n\tsymbols(item.shape || 'circle').byWidth\n\nexport const rectShape = new Rectangle(x, y, w, h, cr)\n\nexport const arcShape = d3Arc<SGArcItem>()\n\t.startAngle(sa)\n\t.endAngle(ea)\n\t.padAngle(pa)\n\t.innerRadius(ir)\n\t.outerRadius(or)\n\t.cornerRadius(cr)\n\nexport const areahShape = d3Area<SGAreaItem>().x1(x).x0(x2).y(y).defined(def)\n\nexport const areavShape = d3Area<SGAreaItem>().y1(y).y0(y2).x(x).defined(def)\n\nexport const lineShape = d3Lines<SGLineItem>().x(x).y(y).defined(def)\n\nexport const symbolWithArea = d3Symbol<SGSymbolItem>()\n\t.type(rendererByArea)\n\t.size(symbolSize)\n\nexport const symbolWithWidth = d3Symbol<SGSymbolItem>()\n\t.type(rendererByWidth)\n\t.size(symbolWidth)\n","function _point(that, x, y) {\n  that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n}\n\nexport { _point as point };\nexport function Basis(context) {\n  this._context = context;\n}\nBasis.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 3:\n        _point(this, this._x1, this._y1);\n\n      // proceed\n\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\nexport default function (context) {\n  return new Basis(context);\n}","export default function () {}","import noop from \"../noop.js\";\nimport { point as _point } from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x2, this._y2);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n\n          this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x2, this._y2);\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x2 = x, this._y2 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x4 = x, this._y4 = y;\n\n        this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);\n\n        break;\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\nexport default function (context) {\n  return new BasisClosed(context);\n}","import { point as _point } from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n            y0 = (this._y0 + 4 * this._y1 + y) / 6;\n        this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\nexport default function (context) {\n  return new BasisOpen(context);\n}","import { Basis } from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n\n    this._basis.lineStart();\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n\n        this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n      }\n    }\n\n    this._x = this._y = null;\n\n    this._basis.lineEnd();\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n};\nexport default (function custom(beta) {\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function (beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);","function _point(that, x, y) {\n  that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n}\n\nexport { _point as point };\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\nCardinal.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        _point(this, this._x1, this._y1);\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x1 = x, this._y1 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\nexport default (function custom(tension) {\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);","import { point as _point } from \"./cardinal.js\";\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\nCardinalOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\nexport default (function custom(tension) {\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);","import noop from \"../noop.js\";\nimport { point as _point } from \"./cardinal.js\";\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\nexport default (function custom(tension) {\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);","import { epsilon } from \"../math.js\";\nimport { Cardinal } from \"./cardinal.js\";\n\nfunction _point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nexport { _point as point };\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        this.point(this._x2, this._y2);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\nexport default (function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);","import { CardinalClosed } from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport { point as _point } from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\nexport default (function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);","import { CardinalOpen } from \"./cardinalOpen.js\";\nimport { point as _point } from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        _point(this, x, y);\n\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\nexport default (function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function lineStart() {\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (this._point) this._context.closePath();\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n  }\n};\nexport default function (context) {\n  return new LinearClosed(context);\n}","function sign(x) {\n  return x < 0 ? -1 : 1;\n} // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\n\n\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n} // Calculate a one-sided slope.\n\n\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n} // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n\n\nfunction _point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n\n      case 3:\n        _point(this, this._t0, slope2(this, this._t0));\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        _point(this, slope2(this, t1 = slope3(this, x, y)), t1);\n\n        break;\n\n      default:\n        _point(this, this._t0, t1 = slope3(this, x, y));\n\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function moveTo(x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function closePath() {\n    this._context.closePath();\n  },\n  lineTo: function lineTo(x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function lineEnd() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function point(x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n}; // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n\n  for (i = 1; i < n - 1; ++i) {\n    a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  }\n\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n\n  for (i = 1; i < n; ++i) {\n    m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  }\n\n  a[n - 1] = r[n - 1] / b[n - 1];\n\n  for (i = n - 2; i >= 0; --i) {\n    a[i] = (r[i] - a[i + 1]) / b[i];\n  }\n\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n\n  for (i = 0; i < n - 1; ++i) {\n    b[i] = 2 * x[i + 1] - a[i + 1];\n  }\n\n  return [a, b];\n}\n\nexport default function (context) {\n  return new Natural(context);\n}","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function areaStart() {\n    this._line = 0;\n  },\n  areaEnd: function areaEnd() {\n    this._line = NaN;\n  },\n  lineStart: function lineStart() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function lineEnd() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function point(x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n\n            this._context.lineTo(x1, this._y);\n\n            this._context.lineTo(x1, y);\n          }\n\n          break;\n        }\n    }\n\n    this._x = x, this._y = y;\n  }\n};\nexport default function (context) {\n  return new Step(context, 0.5);\n}\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Orientation } from '@chart-parts/interfaces'\nimport {\n\tCurveFactory,\n\tCurveBundleFactory,\n\tcurveBasis,\n\tcurveBasisClosed,\n\tcurveBasisOpen,\n\tcurveBundle,\n\tcurveCardinal,\n\tcurveCardinalClosed,\n\tcurveCardinalOpen,\n\tcurveCatmullRom,\n\tcurveCatmullRomClosed,\n\tcurveCatmullRomOpen,\n\tcurveLinear,\n\tcurveLinearClosed,\n\tcurveMonotoneX,\n\tcurveMonotoneY,\n\tcurveNatural,\n\tcurveStep,\n\tcurveStepAfter,\n\tcurveStepBefore,\n} from 'd3-shape'\n\nconst lookup: {\n\t[key: string]: {\n\t\tcurve?: CurveFactory | CurveBundleFactory\n\t\ttension?: string\n\t\tvalue?: number\n\t\thorizontal?: any\n\t\tvertical?: any\n\t}\n} = {\n\tbasis: {\n\t\tcurve: curveBasis,\n\t},\n\t'basis-closed': {\n\t\tcurve: curveBasisClosed,\n\t},\n\t'basis-open': {\n\t\tcurve: curveBasisOpen,\n\t},\n\tbundle: {\n\t\tcurve: curveBundle,\n\t\ttension: 'beta',\n\t\tvalue: 0.85,\n\t},\n\tcardinal: {\n\t\tcurve: curveCardinal,\n\t\ttension: 'tension',\n\t\tvalue: 0,\n\t},\n\t'cardinal-open': {\n\t\tcurve: curveCardinalOpen,\n\t\ttension: 'tension',\n\t\tvalue: 0,\n\t},\n\t'cardinal-closed': {\n\t\tcurve: curveCardinalClosed,\n\t\ttension: 'tension',\n\t\tvalue: 0,\n\t},\n\t'catmull-rom': {\n\t\tcurve: curveCatmullRom,\n\t\ttension: 'alpha',\n\t\tvalue: 0.5,\n\t},\n\t'catmull-rom-closed': {\n\t\tcurve: curveCatmullRomClosed,\n\t\ttension: 'alpha',\n\t\tvalue: 0.5,\n\t},\n\t'catmull-rom-open': {\n\t\tcurve: curveCatmullRomOpen,\n\t\ttension: 'alpha',\n\t\tvalue: 0.5,\n\t},\n\tlinear: {\n\t\tcurve: curveLinear,\n\t},\n\t'linear-closed': {\n\t\tcurve: curveLinearClosed,\n\t},\n\tmonotone: {\n\t\thorizontal: curveMonotoneY,\n\t\tvertical: curveMonotoneX,\n\t},\n\tnatural: {\n\t\tcurve: curveNatural,\n\t},\n\tstep: {\n\t\tcurve: curveStep,\n\t},\n\t'step-after': {\n\t\tcurve: curveStepAfter,\n\t},\n\t'step-before': {\n\t\tcurve: curveStepBefore,\n\t},\n}\n\nexport default function curves(\n\ttype: string,\n\torientation?: Orientation | undefined,\n\ttension?: number | undefined,\n): CurveFactory {\n\tconst entry =\n\t\tObject.prototype.hasOwnProperty.call(lookup, type) && lookup[type]\n\t// let curve: CurveFactory | CurveBundleFactory\n\n\tif (entry) {\n\t\tconst curveFactory = entry.curve || entry[orientation || 'vertical']\n\t\tif (entry.tension && tension != null) {\n\t\t\treturn curveFactory[entry.tension](tension)\n\t\t} else {\n\t\t\treturn curveFactory\n\t\t}\n\t} else {\n\t\tthrow new Error(\n\t\t\t`could not retrieve curveFactory type ${type}, orientation ${orientation}`,\n\t\t)\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tSGArcItem,\n\tSGAreaItem,\n\tSGLineItem,\n\tSGRectItem,\n\tSGSymbolItem,\n\tInterpolation,\n\tOrientation,\n} from '@chart-parts/interfaces'\nimport {\n\trectShape,\n\tarcShape,\n\tareavShape,\n\tareahShape,\n\tlineShape,\n\tsymbolWithArea,\n\tsymbolWithWidth,\n} from '@chart-parts/shapes'\nimport { Path } from 'd3-path'\nimport curves from './curves'\n\nexport function arc(item: SGArcItem, context?: Path) {\n\treturn arcShape.context(context as any)(item)\n}\n\nexport function area(items: SGAreaItem[], context?: Path) {\n\tconst first = items[0]\n\tconst interp = first.interpolate || Interpolation.Linear\n\tconst isHorizontal = first.orient === Orientation.Horizontal\n\tconst variant = isHorizontal ? areahShape : areavShape\n\treturn variant\n\t\t.curve(curves(interp, first.orient, first.tension))\n\t\t.context(context as any)(items)\n}\n\nexport function line(items: SGLineItem[], context?: Path) {\n\tconst item = items[0]\n\tconst interp = item.interpolate || 'linear'\n\treturn lineShape\n\t\t.curve(curves(interp, undefined, item.tension))\n\t\t.context(context as any)(items as any)\n}\n\nexport function rectangle(\n\titem: SGRectItem,\n\txOffset?: number,\n\tyOffset?: number,\n\tcontext?: Path,\n) {\n\treturn rectShape.build(item, xOffset, yOffset, context)\n}\n\nexport function symbol(item: SGSymbolItem, context?: Path) {\n\tif (item.width != null) {\n\t\treturn symbolWithWidth.context(context as any)(item)\n\t} else {\n\t\treturn symbolWithArea.context(context as any)(item)\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkConverter,\n\tVSvgNode,\n\tVSvgTransformType,\n} from '@chart-parts/interfaces'\n\nexport interface VSvgMarkOutput {\n\tnodes: VSvgNode[]\n\tdefs?: VSvgNode[]\n}\n\nexport interface VSvgRenderContext {\n\tnextId(): string\n}\n\nexport type VSvgMarkConverter = MarkConverter<VSvgMarkOutput, VSvgRenderContext>\n\nexport function translate(x: number, y: number) {\n\treturn { type: VSvgTransformType.translate, value: [x, y] }\n}\n\nexport function rotate(angle: number) {\n\treturn { type: VSvgTransformType.rotate, value: angle }\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGMark, SGItem, VSvgNode } from '@chart-parts/interfaces'\n\n/**\n * Perform an invariant assertion that a mark is of a given type\n * @param mark The mark to inspect\n * @param itemType The expected item type\n */\nexport function assertTypeIs(mark: SGMark<any>, itemType: string) {\n\tif (mark.marktype !== itemType) {\n\t\tthrow new Error(`\n            Tried to render a mark with the incorrect mark renderer. \n            Mark must be of type ${itemType}.\n        `)\n\t}\n}\n\nfunction roleClass(role?: string) {\n\treturn `role-${role || 'mark'}`\n}\n\n/**\n *\n * @param marktype\n * @param children\n */\nexport function emitMarkGroup(\n\tmarktype: string,\n\trole: string | undefined,\n\tchildren: VSvgNode[],\n): VSvgNode[] {\n\tconst markGroup: VSvgNode = {\n\t\ttype: 'g',\n\t\tattrs: {\n\t\t\tclassName: `mark-${marktype} ${roleClass(role)}`,\n\t\t},\n\t\tchildren,\n\t}\n\treturn [markGroup]\n}\n\n/**\n * Copies shared vsvg props from the given mark into the vsvg node\n * @param item The mark item to copy from\n * @param result The vsvg node to copy into\n */\nexport function commonProps(item: SGItem): any {\n\tconst result: { [key: string]: any } = {}\n\n\tif (item.fill !== undefined) {\n\t\tresult.fill = item.fill\n\t}\n\n\tif (item.fillOpacity !== undefined) {\n\t\tresult.fillOpacity = item.fillOpacity\n\t}\n\n\tif (item.stroke !== undefined) {\n\t\tresult.stroke = item.stroke\n\t}\n\n\tresult.strokeWidth = item.strokeWidth || 1\n\n\tif (item.strokeOpacity !== undefined) {\n\t\tresult.strokeOpacity = item.strokeOpacity\n\t}\n\n\tif (item.strokeJoin !== undefined) {\n\t\tresult.strokeLinejoin = item.strokeJoin\n\t}\n\n\tif (item.strokeCap !== undefined) {\n\t\tresult.strokeLinecap = item.strokeCap\n\t}\n\n\tif (item.strokeDash !== undefined) {\n\t\tresult.strokeDasharray = item.strokeDash\n\t}\n\n\tif (item.strokeDashOffset !== undefined) {\n\t\tresult.strokeDashoffset = item.strokeDashOffset\n\t}\n\n\tif (item.tabIndex !== undefined) {\n\t\tresult.tabIndex = item.tabIndex\n\t}\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGMark, SGArcItem, VSvgNode } from '@chart-parts/interfaces'\nimport { arc } from '../path'\nimport { VSvgMarkConverter, translate } from './interfaces'\nimport { emitMarkGroup, commonProps, assertTypeIs } from './util'\n\nexport class ArcRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Arc\n\n\tpublic render(mark: SGMark<SGArcItem>) {\n\t\tassertTypeIs(mark, ArcRenderer.TARGET_MARK_TYPE)\n\n\t\tconst nodes = emitMarkGroup(\n\t\t\tMarkType.Arc,\n\t\t\tmark.role,\n\t\t\tmark.items.map(item => {\n\t\t\t\tconst { x, y } = item\n\t\t\t\tconst result: VSvgNode = {\n\t\t\t\t\ttype: 'path',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\t...commonProps(item),\n\t\t\t\t\t\td: arc(item),\n\t\t\t\t\t},\n\t\t\t\t\tariaTitle: item.ariaTitle,\n\t\t\t\t\tariaDescription: item.ariaDescription,\n\t\t\t\t\ttransforms: [translate(x || 0, y || 0)],\n\t\t\t\t\tchannels: item.channels,\n\t\t\t\t\tmetadata: item.metadata,\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t}),\n\t\t)\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tSGMark,\n\tSGAreaItem,\n\tgetItemSpace,\n} from '@chart-parts/interfaces'\nimport { area } from '../path'\nimport { VSvgMarkConverter } from './interfaces'\nimport { emitMarkGroup, commonProps, assertTypeIs } from './util'\n\nexport class AreaRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Area\n\n\tpublic render(mark: SGMark<SGAreaItem>) {\n\t\tassertTypeIs(mark, AreaRenderer.TARGET_MARK_TYPE)\n\n\t\tif (mark.items.map.length === 0) {\n\t\t\treturn { nodes: [] }\n\t\t}\n\n\t\tconst areaItems = mark.items.map(a => {\n\t\t\tconst space = getItemSpace(a)\n\t\t\tconst ai = a as any\n\t\t\tai.width = space.shape.width\n\t\t\tai.height = space.shape.height\n\t\t\treturn ai\n\t\t})\n\t\tconst firstItem = mark.items[0]\n\t\tconst areaItem = {\n\t\t\ttype: 'path',\n\t\t\tattrs: {\n\t\t\t\td: area(areaItems),\n\t\t\t\t...commonProps(firstItem),\n\t\t\t},\n\t\t\tariaTitle: firstItem.ariaTitle,\n\t\t\tariaDescription: firstItem.ariaDescription,\n\t\t\tmetadata: areaItems[0].metadata,\n\t\t\tchannels: areaItems[0].channels,\n\t\t}\n\n\t\tconst nodes = emitMarkGroup(MarkType.Area, mark.role, [areaItem])\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tMarkType,\n\tSGMark,\n\tSGGroupItem,\n\tVSvgNode,\n\tgetItemSpace,\n\tItemSpace,\n} from '@chart-parts/interfaces'\nimport { rectangle } from '../path'\nimport {\n\tVSvgMarkConverter,\n\tVSvgMarkOutput,\n\tVSvgRenderContext,\n\ttranslate,\n} from './interfaces'\nimport { commonProps, assertTypeIs } from './util'\nimport { renderMark } from './index'\n\nfunction flatMap<T, K>(items: T[], lambda: (input: T) => K[]): K[] {\n\tconst mappedItems = items.map(lambda)\n\treturn Array.prototype.concat.apply([], mappedItems)\n}\n\n/**\n * Renders a group's \"rectangle\", which can have a fill and stroke\n * @param item\n */\nfunction renderGroupRectangle(item: SGGroupItem, space: ItemSpace): VSvgNode {\n\tconst groupRectCommonProps = commonProps(item)\n\tconst originX = space.origin.x || 0\n\tconst originY = space.origin.y || 0\n\n\tconst rectItem = item as any\n\trectItem.width = space.shape.width\n\trectItem.height = space.shape.height\n\n\tconst groupRectShape = {\n\t\td: rectangle(item, originX, originY).toString(),\n\t}\n\n\tconst attrs = { ...groupRectCommonProps, ...groupRectShape }\n\tconst { metadata, channels } = item\n\tconst groupRect: VSvgNode = {\n\t\ttype: 'path',\n\t\tattrs,\n\t\tmetadata,\n\t\tchannels,\n\t\tariaTitle: item.ariaTitle,\n\t\tariaDescription: item.ariaDescription,\n\t}\n\treturn groupRect\n}\n\n/**\n * Renders children of the group\n * @param item The group item\n */\nfunction renderChildren(\n\titem: SGGroupItem,\n\tcontext: VSvgRenderContext,\n): VSvgMarkOutput {\n\tlet nodes: VSvgNode[] = []\n\tlet defs: VSvgNode[] = []\n\n\tconst groupItems = item.items || []\n\tgroupItems.forEach(m => {\n\t\tconst renderedChild = renderMark(m, context)\n\t\tif (renderedChild.defs) {\n\t\t\tdefs = [...defs, ...renderedChild.defs]\n\t\t}\n\t\tnodes = [...nodes, ...renderedChild.nodes]\n\t})\n\n\treturn { defs, nodes }\n}\n\nfunction renderGroup(\n\titem: SGGroupItem,\n\tspace: ItemSpace,\n\tchildren: VSvgNode[],\n): VSvgNode {\n\tconst { channels, metadata } = item\n\tconst group: VSvgNode = {\n\t\ttype: 'g',\n\t\ttransforms: [translate(space.origin.x, space.origin.y)],\n\t\tchildren,\n\t\tmetadata,\n\t\tchannels,\n\t}\n\treturn group\n}\n\nfunction renderGroupClip(clipId: string, group: VSvgNode, groupRect: VSvgNode) {\n\tconst clipPath: VSvgNode = {\n\t\ttype: 'clipPath',\n\t\tattrs: {\n\t\t\tid: clipId,\n\t\t},\n\t\tchildren: [groupRect],\n\t}\n\n\tgroup = {\n\t\ttype: 'g',\n\t\tattrs: {\n\t\t\tclipPath: `url(#${clipId})`,\n\t\t},\n\t\tchildren: [group],\n\t}\n\n\treturn { clipPath, group }\n}\n\nexport class GroupRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Group\n\n\tpublic render(mark: SGMark<SGGroupItem>, context: VSvgRenderContext) {\n\t\tassertTypeIs(mark, GroupRenderer.TARGET_MARK_TYPE)\n\n\t\tconst defs: VSvgNode[] = []\n\t\tconst nodes = flatMap(mark.items, (item: SGGroupItem) => {\n\t\t\tconst space = getItemSpace(item)\n\n\t\t\t// Render the Group's Rectangle\n\t\t\tconst groupRect = renderGroupRectangle(item, space)\n\n\t\t\t// Render the Group's children\n\t\t\tconst { defs: groupDefs, nodes: groupChildren } = renderChildren(\n\t\t\t\titem,\n\t\t\t\tcontext,\n\t\t\t)\n\t\t\tdefs.push(...(groupDefs || []))\n\t\t\t// Render the group\n\t\t\tlet group = renderGroup(item, space, groupChildren)\n\n\t\t\t// Handle if the group is clipped\n\t\t\tif (item.clip) {\n\t\t\t\tconst { group: groupWrapper, clipPath } = renderGroupClip(\n\t\t\t\t\t`clip${context.nextId()}`,\n\t\t\t\t\tgroup,\n\t\t\t\t\tgroupRect,\n\t\t\t\t)\n\t\t\t\tdefs.push(clipPath)\n\t\t\t\tgroup = groupWrapper\n\t\t\t}\n\n\t\t\treturn [groupRect, group]\n\t\t})\n\n\t\treturn { nodes, defs }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGMark, SGLineItem } from '@chart-parts/interfaces'\nimport { line } from '../path'\nimport { VSvgMarkConverter } from './interfaces'\nimport { emitMarkGroup, commonProps, assertTypeIs } from './util'\n\nexport class LineRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Line\n\n\tpublic render(mark: SGMark<SGLineItem>) {\n\t\tassertTypeIs(mark, LineRenderer.TARGET_MARK_TYPE)\n\n\t\tif (mark.items.map.length === 0) {\n\t\t\treturn { nodes: [] }\n\t\t}\n\n\t\tconst firstItem = mark.items[0]\n\t\tconst lineItem = {\n\t\t\ttype: 'path',\n\t\t\tattrs: {\n\t\t\t\td: line(mark.items),\n\t\t\t\t...commonProps(firstItem),\n\t\t\t},\n\t\t\tmetadata: firstItem.metadata,\n\t\t\tchannels: firstItem.channels,\n\t\t\tariaTitle: firstItem.ariaTitle,\n\t\t\tariaDescription: firstItem.ariaDescription,\n\t\t}\n\n\t\tconst nodes = emitMarkGroup(MarkType.Line, mark.role, [lineItem])\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGMark, SGPathItem, VSvgNode } from '@chart-parts/interfaces'\nimport { VSvgMarkConverter, translate } from './interfaces'\nimport { emitMarkGroup, commonProps, assertTypeIs } from './util'\n\nexport class PathRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Path\n\n\tpublic render(mark: SGMark<SGPathItem>) {\n\t\tassertTypeIs(mark, PathRenderer.TARGET_MARK_TYPE)\n\n\t\tconst nodes = emitMarkGroup(\n\t\t\tMarkType.Path,\n\t\t\tmark.role,\n\t\t\tmark.items.map(item => {\n\t\t\t\tconst { x, y } = item\n\t\t\t\tconst result: VSvgNode = {\n\t\t\t\t\ttype: 'path',\n\t\t\t\t\tattrs: { ...commonProps(item), d: item.path },\n\t\t\t\t\ttransforms: [translate(x || 0, y || 0)],\n\t\t\t\t\tmetadata: item.metadata,\n\t\t\t\t\tchannels: item.channels,\n\t\t\t\t\tariaTitle: item.ariaTitle,\n\t\t\t\t\tariaDescription: item.ariaDescription,\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t}),\n\t\t)\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tSGMark,\n\tSGRectItem,\n\tgetItemSpace,\n\tVSvgNode,\n} from '@chart-parts/interfaces'\nimport { rectangle } from '../path'\nimport { VSvgMarkConverter } from './interfaces'\nimport { commonProps, assertTypeIs, emitMarkGroup } from './util'\n\nexport class RectRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Rect\n\n\tpublic render(mark: SGMark<SGRectItem>) {\n\t\tassertTypeIs(mark, RectRenderer.TARGET_MARK_TYPE)\n\n\t\tconst nodes = emitMarkGroup(\n\t\t\tMarkType.Rect,\n\t\t\tmark.role,\n\t\t\tmark.items.map(item => {\n\t\t\t\tconst { metadata, channels } = item\n\t\t\t\tconst space = getItemSpace(item)\n\t\t\t\tconst attrs = commonProps(item)\n\n\t\t\t\tconst rectItem = item as any\n\t\t\t\trectItem.width = space.shape.width\n\t\t\t\trectItem.height = space.shape.height\n\t\t\t\tattrs.d = rectangle(rectItem, space.origin.x, space.origin.y).toString()\n\n\t\t\t\tconst result: VSvgNode = {\n\t\t\t\t\ttype: 'path',\n\t\t\t\t\tattrs,\n\t\t\t\t\tmetadata,\n\t\t\t\t\tchannels,\n\t\t\t\t\tariaTitle: item.ariaTitle,\n\t\t\t\t\tariaDescription: item.ariaDescription,\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t}),\n\t\t)\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGMark, SGRuleItem, VSvgNode } from '@chart-parts/interfaces'\nimport { VSvgMarkConverter, translate } from './interfaces'\nimport { assertTypeIs, emitMarkGroup, commonProps } from './util'\n\nexport class RuleRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Rule\n\n\tpublic render(mark: SGMark<SGRuleItem>) {\n\t\tassertTypeIs(mark, RuleRenderer.TARGET_MARK_TYPE)\n\n\t\t// Render each item embedded in this mark\n\t\tconst nodes = emitMarkGroup(\n\t\t\tMarkType.Rule,\n\t\t\tmark.role,\n\t\t\tmark.items.map(item => {\n\t\t\t\tconst x = item.x || 0\n\t\t\t\tconst y = item.y || 0\n\t\t\t\tconst attrs = commonProps(item)\n\t\t\t\tif (item.x2 !== undefined) {\n\t\t\t\t\tattrs.x2 = item.x2 - x\n\t\t\t\t}\n\t\t\t\tif (item.y2 !== undefined) {\n\t\t\t\t\tattrs.y2 = item.y2 - y\n\t\t\t\t}\n\n\t\t\t\tconst result: VSvgNode = {\n\t\t\t\t\ttype: 'line',\n\t\t\t\t\tattrs,\n\t\t\t\t\ttransforms: [translate(x, y)],\n\t\t\t\t\tchannels: item.channels,\n\t\t\t\t\tmetadata: item.metadata,\n\t\t\t\t\tariaTitle: item.ariaTitle,\n\t\t\t\t\tariaDescription: item.ariaDescription,\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t}),\n\t\t)\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tSGMark,\n\tSGSymbolItem,\n\tVSvgNode,\n} from '@chart-parts/interfaces'\nimport { symbol } from '../path'\nimport { VSvgMarkConverter, translate } from './interfaces'\nimport { emitMarkGroup, commonProps, assertTypeIs } from './util'\n\nexport class SymbolRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Symbol\n\n\tpublic render(mark: SGMark<SGSymbolItem>) {\n\t\tassertTypeIs(mark, SymbolRenderer.TARGET_MARK_TYPE)\n\n\t\tconst nodes = emitMarkGroup(\n\t\t\tMarkType.Symbol,\n\t\t\tmark.role,\n\t\t\tmark.items.map(item => {\n\t\t\t\tconst { x = 0, y = 0 } = item\n\t\t\t\tconst result: VSvgNode = {\n\t\t\t\t\ttype: 'path',\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\t...commonProps(item),\n\t\t\t\t\t\td: symbol(item),\n\t\t\t\t\t},\n\t\t\t\t\ttransforms: [translate(x, y)],\n\t\t\t\t\tmetadata: item.metadata,\n\t\t\t\t\tchannels: item.channels,\n\t\t\t\t\tariaTitle: item.ariaTitle,\n\t\t\t\t\tariaDescription: item.ariaDescription,\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t}),\n\t\t)\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tSGMark,\n\tSGTextItem,\n\tMarkType,\n\tVerticalTextAlignment,\n\tVSvgNode,\n} from '@chart-parts/interfaces'\nimport { VSvgMarkConverter, rotate, translate } from './interfaces'\nimport { emitMarkGroup, commonProps, assertTypeIs } from './util'\n\nconst alignments = { left: 'start', center: 'middle', right: 'end' }\nconst DEFAULT_FONT_SIZE = 11\nconst DEFAULT_FONT_FAMILY = 'sans-serif'\n\nfunction calculateTextOrigin({\n\tx,\n\ty,\n\t// TODO: use these?\n\t// baseline,\n\t// fontSize,\n\tradius = 0,\n\ttheta = 0,\n}: SGTextItem): [number, number] {\n\tx = x || 0\n\ty = y || 0\n\n\tif (radius) {\n\t\tconst t = theta - Math.PI / 2\n\t\tx += radius * Math.cos(t)\n\t\ty += radius * Math.sin(t)\n\t}\n\treturn [x, y]\n}\n\nfunction calculateBaseline(alignment: VerticalTextAlignment | undefined) {\n\tswitch (alignment) {\n\t\tcase VerticalTextAlignment.Top:\n\t\t\treturn 'hanging'\n\t\tcase VerticalTextAlignment.Middle:\n\t\t\treturn 'central'\n\t\tcase VerticalTextAlignment.Bottom:\n\t\t\treturn 'baseline'\n\t\tdefault:\n\t\t\treturn undefined\n\t}\n}\n\nfunction getTextTransforms(item: SGTextItem) {\n\tconst origin = calculateTextOrigin(item)\n\tconst transforms: any[] = []\n\tif (item.angle !== undefined) {\n\t\ttransforms.push(translate(origin[0], origin[1]), rotate(item.angle))\n\t\tif (item.dx !== undefined || item.dy !== undefined) {\n\t\t\ttransforms.push(translate(item.dx || 0, item.dy || 0))\n\t\t}\n\t} else {\n\t\ttransforms.push(\n\t\t\ttranslate(\n\t\t\t\torigin[0] + (item.dx || 0) || 0,\n\t\t\t\torigin[1] + (item.dy || 0) || 0,\n\t\t\t),\n\t\t)\n\t}\n\treturn transforms\n}\n\nexport class TextRenderer implements VSvgMarkConverter {\n\tpublic static TARGET_MARK_TYPE = MarkType.Text\n\n\tpublic render(mark: SGMark<SGTextItem>) {\n\t\tassertTypeIs(mark, TextRenderer.TARGET_MARK_TYPE)\n\n\t\tconst nodes = emitMarkGroup(\n\t\t\tMarkType.Text,\n\t\t\tmark.role,\n\t\t\tmark.items.map(item => {\n\t\t\t\tconst attrs = {\n\t\t\t\t\t...commonProps(item),\n\t\t\t\t\talignmentBaseline: calculateBaseline(item.baseline),\n\t\t\t\t}\n\n\t\t\t\tif (item.align) {\n\t\t\t\t\tattrs.textAnchor = alignments[item.align]\n\t\t\t\t}\n\t\t\t\tconst children = item.text !== undefined ? ['' + item.text] : undefined\n\t\t\t\tconst result: VSvgNode = {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tattrs,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tfontSize: item.fontSize || DEFAULT_FONT_SIZE,\n\t\t\t\t\t\tfontFamily: item.font || DEFAULT_FONT_FAMILY,\n\t\t\t\t\t\tfontWeight: item.fontWeight,\n\t\t\t\t\t\tfontStyle: item.fontStyle,\n\t\t\t\t\t\tfontVariant: item.fontVariant,\n\t\t\t\t\t},\n\t\t\t\t\ttransforms: getTextTransforms(item),\n\t\t\t\t\tmetadata: item.metadata,\n\t\t\t\t\tchannels: item.channels,\n\t\t\t\t\tariaTitle: item.ariaTitle,\n\t\t\t\t\tariaDescription: item.ariaDescription,\n\t\t\t\t\tchildren,\n\t\t\t\t}\n\n\t\t\t\treturn result\n\t\t\t}),\n\t\t)\n\t\treturn { nodes }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGMark } from '@chart-parts/interfaces'\nimport { VSvgMarkConverter, VSvgRenderContext } from './interfaces'\n\nconst itemRendererRegistry = new Map<string, VSvgMarkConverter>()\n\nexport function registerRenderer(\n\tmarkType: string,\n\tmarkRenderer: VSvgMarkConverter,\n) {\n\titemRendererRegistry.set(markType, markRenderer)\n}\n\nexport function renderMark(mark: SGMark<any>, context: VSvgRenderContext) {\n\tif (!mark.marktype) {\n\t\tthrow new Error(`Unhandled mark type \"${mark.marktype}\"`)\n\t}\n\tconst renderer = itemRendererRegistry.get(mark.marktype)\n\treturn renderer ? renderer.render(mark, context) : { nodes: [] }\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType } from '@chart-parts/interfaces'\nimport { ArcRenderer } from './ArcRenderer'\nimport { AreaRenderer } from './AreaRenderer'\nimport { GroupRenderer } from './GroupRenderer'\nimport { LineRenderer } from './LineRenderer'\nimport { PathRenderer } from './PathRenderer'\nimport { RectRenderer } from './RectRenderer'\nimport { RuleRenderer } from './RuleRenderer'\nimport { SymbolRenderer } from './SymbolRenderer'\nimport { TextRenderer } from './TextRenderer'\nimport { registerRenderer } from './registry'\n\nregisterRenderer(MarkType.Arc, new ArcRenderer())\nregisterRenderer(MarkType.Area, new AreaRenderer())\nregisterRenderer(MarkType.Group, new GroupRenderer())\nregisterRenderer(MarkType.Line, new LineRenderer())\nregisterRenderer(MarkType.Path, new PathRenderer())\nregisterRenderer(MarkType.Rect, new RectRenderer())\nregisterRenderer(MarkType.Rule, new RuleRenderer())\nregisterRenderer(MarkType.Symbol, new SymbolRenderer())\nregisterRenderer(MarkType.Text, new TextRenderer())\n\nexport * from './registry'\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tSGMark,\n\tScenegraphConverter,\n\tChartOptions,\n\tVSvgNode,\n\tDEFAULT_HEIGHT,\n\tDEFAULT_WIDTH,\n} from '@chart-parts/interfaces'\nimport { renderMark } from './element_renderers'\nimport { translate } from './element_renderers/interfaces'\n\nconst DEFAULT_BG_COLOR = 'transparent'\nconst DEFAULT_ORIGIN: [number, number] = [0, 0]\n\n/**\n * The VirtualSvgRender renders Scenegraph data into a serializable Virtual DOM.\n *\n * The Virtual Dom acts as an intermediate form that can be rendered out into many forms.\n */\nexport class VirtualSvgConverter implements ScenegraphConverter<VSvgNode> {\n\tpublic render(mark: SGMark<any>, options: ChartOptions): VSvgNode {\n\t\tconst {\n\t\t\twidth = DEFAULT_WIDTH,\n\t\t\theight = DEFAULT_HEIGHT,\n\t\t\tbackgroundColor = DEFAULT_BG_COLOR,\n\t\t\torigin = DEFAULT_ORIGIN,\n\t\t\tariaTitle,\n\t\t\tariaDescription,\n\t\t} = options\n\t\tconst [x = 0, y = 0] = origin\n\n\t\t// Create the rendering Context\n\t\tlet id = 0\n\t\tconst context = {\n\t\t\tnextId: () => `${++id}`,\n\t\t}\n\n\t\t// Get the rendering of the root mark\n\t\tconst root = renderMark(mark, context)\n\t\tconst children: VSvgNode[] = [\n\t\t\t{\n\t\t\t\ttype: 'defs',\n\t\t\t\tchildren: root.defs,\n\t\t\t},\n\t\t\t{\n\t\t\t\ttype: 'g',\n\t\t\t\ttransforms: [translate(x, y)],\n\t\t\t\tchildren: root.nodes,\n\t\t\t},\n\t\t]\n\n\t\t// Wrap the rendered root in an SVG\n\t\tconst svg: VSvgNode = {\n\t\t\ttype: 'svg',\n\t\t\tattrs: {\n\t\t\t\twidth: width + x,\n\t\t\t\theight: height + y,\n\t\t\t\t/**\n\t\t\t\t * This allows screen-readers to pass over the svg\n\t\t\t\t * https://css-tricks.com/accessible-svgs/\n\t\t\t\t */\n\t\t\t\trole: 'img',\n\t\t\t},\n\t\t\tariaTitle,\n\t\t\tariaDescription,\n\t\t\tmetadata: {\n\t\t\t\tid: 'root',\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tbackgroundColor,\n\t\t\t},\n\t\t\tchildren,\n\t\t}\n\t\treturn svg\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\n/* eslint-disable no-console */\nimport { createScenegraph } from '@chart-parts/builder'\nimport {\n\tChartOptions,\n\tSceneNode,\n\tDataFrame,\n\tVDomRenderer,\n\tScenegraphConverter,\n} from '@chart-parts/interfaces'\nimport { parseScene } from '@chart-parts/scenegraph'\nimport { VirtualSvgConverter } from '@chart-parts/vsvg'\n\nexport class Orchestrator<T> {\n\tpublic constructor(\n\t\tprivate renderer: VDomRenderer<T>,\n\t\tprivate prerenderer: ScenegraphConverter<any> = new VirtualSvgConverter(),\n\t) {}\n\n\t/**\n\t * Renders a raw scenegraph object into view. This is mostly useful for internal debugging\n\t * @param rawScene The raw scenegraph object to render\n\t * @param options Charting options\n\t */\n\tpublic renderScenegraph(rawScene: any, options: ChartOptions = {}): T {\n\t\ttry {\n\t\t\tconst scenegraph = parseScene(rawScene)\n\t\t\tconst intermediate = this.prerenderer.render(scenegraph, options)\n\t\t\treturn this.renderer.render(intermediate, {})\n\t\t} catch (err) {\n\t\t\tconsole.log('error rendering scenegraph', err)\n\t\t\tthrow err\n\t\t}\n\t}\n\n\t/**\n\t * Binds data to a scene and renders it into view.\n\t * @param scene The scene to rendre\n\t * @param options The chart options\n\t * @param tables The charting data\n\t */\n\tpublic renderScene(\n\t\tscene: SceneNode,\n\t\toptions: ChartOptions = {},\n\t\ttables: DataFrame,\n\t) {\n\t\ttry {\n\t\t\tconst sg = createScenegraph(scene, tables, options)\n\t\t\tconst vdom = this.prerenderer.render(sg.root, options)\n\t\t\treturn this.renderer.render(vdom, sg.channelHandlers)\n\t\t} catch (err) {\n\t\t\tconsole.log('error rendering scene', err)\n\t\t\tthrow err\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tVSvgNode,\n\tVSvgTransformType,\n\tVSvgTransform,\n\tChannels,\n\tMetadata,\n} from '@chart-parts/interfaces'\nimport React from 'react'\n\nfunction createElementFor(\n\tvdom: VSvgNode,\n\tkey: string,\n\thandlers: Channels,\n): React.ReactElement<any> {\n\tconst {\n\t\ttype,\n\t\tchildren,\n\t\tattrs = {},\n\t\tstyle,\n\t\ttransforms: vdomTransforms = [],\n\t\tchannels = {},\n\t\tmetadata = { index: -1, id: 'unknown' },\n\t\tariaDescription,\n\t\tariaTitle,\n\t} = vdom\n\tconst reactAttrs: { [key: string]: any } = {\n\t\tkey,\n\t\tstyle,\n\t\ttransform: getTransformAttribute(vdomTransforms),\n\t\t...attrs,\n\t}\n\n\t// Map the handlers into the vdom\n\tObject.keys(channels).forEach(eventName => {\n\t\tconst eventId = channels[eventName]\n\t\tconst reactEventName = eventName\n\t\tconst handler = handlers[eventId]\n\t\treactAttrs[reactEventName] = (event: any) =>\n\t\t\thandler({ ...(metadata as Metadata), event })\n\t})\n\n\tconst childrenElements = (children || [])\n\t\t.filter(c => !!c)\n\t\t.map((c, index) =>\n\t\t\ttypeof c !== 'object'\n\t\t\t\t? c\n\t\t\t\t: createElementFor(c, `${key}::${index}`, handlers),\n\t\t)\n\n\tconst labelledBy: string[] = []\n\tif (ariaTitle) {\n\t\tconst titleId = `${metadata.id}__title`\n\t\tchildrenElements.push(\n\t\t\t<title key=\"t\" id={titleId}>\n\t\t\t\t{ariaTitle}\n\t\t\t</title>,\n\t\t)\n\t\tlabelledBy.push(titleId)\n\t}\n\tif (ariaDescription) {\n\t\tconst descId = `${metadata.id}__desc`\n\t\tchildrenElements.push(\n\t\t\t<desc key=\"d\" id={descId}>\n\t\t\t\t{ariaDescription}\n\t\t\t</desc>,\n\t\t)\n\t\tlabelledBy.push(descId)\n\t}\n\tif (labelledBy.length > 0) {\n\t\treactAttrs['aria-labelledby'] = labelledBy.join(' ')\n\t}\n\n\tconst visualElement = React.createElement(type, reactAttrs, childrenElements)\n\treturn visualElement\n}\n\nfunction getTransformAttribute(vdomTransforms: Array<VSvgTransform<any>>) {\n\tconst transforms: string[] = []\n\tvdomTransforms.forEach(t => {\n\t\tif (t.type === VSvgTransformType.rotate) {\n\t\t\ttransforms.push(`rotate(${t.value})`)\n\t\t} else if (t.type === VSvgTransformType.translate) {\n\t\t\ttransforms.push(`translate(${t.value[0]}, ${t.value[1]})`)\n\t\t}\n\t})\n\treturn transforms.length > 0 ? transforms.join(' ') : undefined\n}\n/**\n * Renders a Virtual DOM out to React-DOM's Virtual DOM\n */\nexport class Renderer {\n\tpublic render(vdom: VSvgNode, handlers: Channels): React.ReactElement<any> {\n\t\treturn createElementFor(vdom, 'root', handlers)\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SceneNodeBuilder } from '@chart-parts/builder'\nimport { Renderer, VSvgNode } from '@chart-parts/interfaces'\nimport React from 'react'\n\n/**\n * A context value for the current scene-node. This is mainly used\n * internally by the React components to interact with the builder API.\n * @ignore\n */\nexport const SceneBuilderContext = React.createContext<\n\tSceneNodeBuilder | undefined\n>(undefined)\n\n/**\n * A context value for the charting renderer to use. This should\n * appear above any charts.\n * @ignore.\n */\nexport const ChartRendererContext = React.createContext<\n\tRenderer<VSvgNode, any> | undefined\n>(undefined)\n","import { __extends } from \"tslib\";\nimport { Subscription } from '../Subscription';\n\nvar Action = function (_super) {\n  __extends(Action, _super);\n\n  function Action(scheduler, work) {\n    return _super.call(this) || this;\n  }\n\n  Action.prototype.schedule = function (state, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return this;\n  };\n\n  return Action;\n}(Subscription);\n\nexport { Action };","import { __read, __spreadArray } from \"tslib\";\nexport var intervalProvider = {\n  setInterval: function (_setInterval) {\n    function setInterval() {\n      return _setInterval.apply(this, arguments);\n    }\n\n    setInterval.toString = function () {\n      return _setInterval.toString();\n    };\n\n    return setInterval;\n  }(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var delegate = intervalProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) || setInterval).apply(void 0, __spreadArray([], __read(args)));\n  }),\n  clearInterval: function (_clearInterval) {\n    function clearInterval(_x) {\n      return _clearInterval.apply(this, arguments);\n    }\n\n    clearInterval.toString = function () {\n      return _clearInterval.toString();\n    };\n\n    return clearInterval;\n  }(function (handle) {\n    var delegate = intervalProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n  }),\n  delegate: undefined\n};","import { __extends } from \"tslib\";\nimport { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\n\nvar AsyncAction = function (_super) {\n  __extends(AsyncAction, _super);\n\n  function AsyncAction(scheduler, work) {\n    var _this = _super.call(this, scheduler, work) || this;\n\n    _this.scheduler = scheduler;\n    _this.work = work;\n    _this.pending = false;\n    return _this;\n  }\n\n  AsyncAction.prototype.schedule = function (state, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (this.closed) {\n      return this;\n    }\n\n    this.state = state;\n    var id = this.id;\n    var scheduler = this.scheduler;\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    this.pending = true;\n    this.delay = delay;\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n    return this;\n  };\n\n  AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n  };\n\n  AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (delay != null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n\n    intervalProvider.clearInterval(id);\n    return undefined;\n  };\n\n  AsyncAction.prototype.execute = function (state, delay) {\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n\n    var error = this._execute(state, delay);\n\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  };\n\n  AsyncAction.prototype._execute = function (state, _delay) {\n    var errored = false;\n    var errorValue;\n\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  };\n\n  AsyncAction.prototype.unsubscribe = function () {\n    if (!this.closed) {\n      var _a = this,\n          id = _a.id,\n          scheduler = _a.scheduler;\n\n      var actions = scheduler.actions;\n      this.work = this.state = this.scheduler = null;\n      this.pending = false;\n      arrRemove(actions, this);\n\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, null);\n      }\n\n      this.delay = null;\n\n      _super.prototype.unsubscribe.call(this);\n    }\n  };\n\n  return AsyncAction;\n}(Action);\n\nexport { AsyncAction };","import { __read, __spreadArray } from \"tslib\";\nimport { Subscription } from '../Subscription';\nexport var animationFrameProvider = {\n  schedule: function schedule(callback) {\n    var request = requestAnimationFrame;\n    var cancel = cancelAnimationFrame;\n    var delegate = animationFrameProvider.delegate;\n\n    if (delegate) {\n      request = delegate.requestAnimationFrame;\n      cancel = delegate.cancelAnimationFrame;\n    }\n\n    var handle = request(function (timestamp) {\n      cancel = undefined;\n      callback(timestamp);\n    });\n    return new Subscription(function () {\n      return cancel === null || cancel === void 0 ? void 0 : cancel(handle);\n    });\n  },\n  requestAnimationFrame: function (_requestAnimationFrame) {\n    function requestAnimationFrame() {\n      return _requestAnimationFrame.apply(this, arguments);\n    }\n\n    requestAnimationFrame.toString = function () {\n      return _requestAnimationFrame.toString();\n    };\n\n    return requestAnimationFrame;\n  }(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var delegate = animationFrameProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.requestAnimationFrame) || requestAnimationFrame).apply(void 0, __spreadArray([], __read(args)));\n  }),\n  cancelAnimationFrame: function (_cancelAnimationFrame) {\n    function cancelAnimationFrame() {\n      return _cancelAnimationFrame.apply(this, arguments);\n    }\n\n    cancelAnimationFrame.toString = function () {\n      return _cancelAnimationFrame.toString();\n    };\n\n    return cancelAnimationFrame;\n  }(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var delegate = animationFrameProvider.delegate;\n    return ((delegate === null || delegate === void 0 ? void 0 : delegate.cancelAnimationFrame) || cancelAnimationFrame).apply(void 0, __spreadArray([], __read(args)));\n  }),\n  delegate: undefined\n};","import { __extends } from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nimport { animationFrameProvider } from './animationFrameProvider';\n\nvar AnimationFrameAction = function (_super) {\n  __extends(AnimationFrameAction, _super);\n\n  function AnimationFrameAction(scheduler, work) {\n    var _this = _super.call(this, scheduler, work) || this;\n\n    _this.scheduler = scheduler;\n    _this.work = work;\n    return _this;\n  }\n\n  AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (delay !== null && delay > 0) {\n      return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n    }\n\n    scheduler.actions.push(this);\n    return scheduler._scheduled || (scheduler._scheduled = animationFrameProvider.requestAnimationFrame(function () {\n      return scheduler.flush(undefined);\n    }));\n  };\n\n  AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (delay != null && delay > 0 || delay == null && this.delay > 0) {\n      return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n    }\n\n    if (scheduler.actions.length === 0) {\n      animationFrameProvider.cancelAnimationFrame(id);\n      scheduler._scheduled = undefined;\n    }\n\n    return undefined;\n  };\n\n  return AnimationFrameAction;\n}(AsyncAction);\n\nexport { AnimationFrameAction };","export var dateTimestampProvider = {\n  now: function now() {\n    return (dateTimestampProvider.delegate || Date).now();\n  },\n  delegate: undefined\n};","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\n\nvar Scheduler = function () {\n  function Scheduler(schedulerActionCtor, now) {\n    if (now === void 0) {\n      now = Scheduler.now;\n    }\n\n    this.schedulerActionCtor = schedulerActionCtor;\n    this.now = now;\n  }\n\n  Scheduler.prototype.schedule = function (work, delay, state) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return new this.schedulerActionCtor(this, work).schedule(state, delay);\n  };\n\n  Scheduler.now = dateTimestampProvider.now;\n  return Scheduler;\n}();\n\nexport { Scheduler };","import { __extends } from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\n\nvar AnimationFrameScheduler = function (_super) {\n  __extends(AnimationFrameScheduler, _super);\n\n  function AnimationFrameScheduler() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AnimationFrameScheduler.prototype.flush = function (action) {\n    this._active = true;\n    this._scheduled = undefined;\n    var actions = this.actions;\n    var error;\n    var index = -1;\n    action = action || actions.shift();\n    var count = actions.length;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (++index < count && (action = actions.shift()));\n\n    this._active = false;\n\n    if (error) {\n      while (++index < count && (action = actions.shift())) {\n        action.unsubscribe();\n      }\n\n      throw error;\n    }\n  };\n\n  return AnimationFrameScheduler;\n}(AsyncScheduler);\n\nexport { AnimationFrameScheduler };","import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\n\nvar AsyncScheduler = function (_super) {\n  __extends(AsyncScheduler, _super);\n\n  function AsyncScheduler(SchedulerAction, now) {\n    if (now === void 0) {\n      now = Scheduler.now;\n    }\n\n    var _this = _super.call(this, SchedulerAction, now) || this;\n\n    _this.actions = [];\n    _this._active = false;\n    _this._scheduled = undefined;\n    return _this;\n  }\n\n  AsyncScheduler.prototype.flush = function (action) {\n    var actions = this.actions;\n\n    if (this._active) {\n      actions.push(action);\n      return;\n    }\n\n    var error;\n    this._active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift());\n\n    this._active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n\n      throw error;\n    }\n  };\n\n  return AsyncScheduler;\n}(Scheduler);\n\nexport { AsyncScheduler };","import { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nexport var animationFrameScheduler = new AnimationFrameScheduler(AnimationFrameAction);\nexport var animationFrame = animationFrameScheduler;","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n  return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n  return function (source) {\n    if (hasLift(source)) {\n      return source.lift(function (liftedSource) {\n        try {\n          return init(liftedSource, this);\n        } catch (err) {\n          this.error(err);\n        }\n      });\n    }\n\n    throw new TypeError('Unable to lift unknown Observable type');\n  };\n}","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\n\nvar OperatorSubscriber = function (_super) {\n  __extends(OperatorSubscriber, _super);\n\n  function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.onFinalize = onFinalize;\n    _this._next = onNext ? function (value) {\n      try {\n        onNext(value);\n      } catch (err) {\n        destination.error(err);\n      }\n    } : _super.prototype._next;\n    _this._error = onError ? function (err) {\n      try {\n        onError(err);\n      } catch (err) {\n        destination.error(err);\n      } finally {\n        this.unsubscribe();\n      }\n    } : _super.prototype._error;\n    _this._complete = onComplete ? function () {\n      try {\n        onComplete();\n      } catch (err) {\n        destination.error(err);\n      } finally {\n        this.unsubscribe();\n      }\n    } : _super.prototype._complete;\n    return _this;\n  }\n\n  OperatorSubscriber.prototype.unsubscribe = function () {\n    var _a;\n\n    var closed = this.closed;\n\n    _super.prototype.unsubscribe.call(this);\n\n    !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n  };\n\n  return OperatorSubscriber;\n}(Subscriber);\n\nexport { OperatorSubscriber };","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SceneNodeBuilder, scene } from '@chart-parts/builder'\nimport { SceneNode, ChartOptions } from '@chart-parts/interfaces'\nimport { Orchestrator } from '@chart-parts/orchestrator'\nimport React, {\n\tmemo,\n\tuseContext,\n\tuseState,\n\tuseEffect,\n\tuseMemo,\n\tuseCallback,\n} from 'react'\nimport { animationFrameScheduler } from 'rxjs'\nimport { observeOn } from 'rxjs/operators'\nimport { SceneBuilderContext, ChartRendererContext } from './Context'\n\n/**\n * A specification for the padding to apply to the chart\n * @category Chart\n */\nexport interface ChartPadding {\n\ttop?: number\n\tbottom?: number\n\tleft?: number\n\tright?: number\n}\n\n/**\n * Chart component props\n * @category Chart\n */\nexport interface ChartProps {\n\twidth: number\n\theight: number\n\tpadding?: number | ChartPadding\n\tdata: { [key: string]: any[] }\n\tscene?: SceneNode\n\ttitle?: string\n\tdescription?: string\n}\n\n/**\n * The Chart Component, the root of all charts\n * @category Chart\n */\nexport const Chart: React.FC<ChartProps> = memo(function Chart({\n\tdata,\n\tchildren,\n\twidth,\n\theight,\n\tpadding,\n\ttitle,\n\tdescription,\n}) {\n\tconst chartOptions = useChartOptions(\n\t\twidth,\n\t\theight,\n\t\tpadding,\n\t\ttitle,\n\t\tdescription,\n\t)\n\tconst [rendered, builder] = useScene(chartOptions, data)\n\treturn (\n\t\t<>\n\t\t\t<SceneBuilderContext.Provider value={builder}>\n\t\t\t\t{children}\n\t\t\t</SceneBuilderContext.Provider>\n\t\t\t{rendered}\n\t\t</>\n\t)\n})\n\nfunction useChartOptions(\n\twidth: number,\n\theight: number,\n\tpadding: ChartPadding | number | undefined,\n\ttitle: string | undefined,\n\tdescription: string | undefined,\n): ChartOptions {\n\treturn useMemo(() => {\n\t\tconst opts: ChartOptions = { width, height }\n\t\tif (padding) {\n\t\t\topts.padding = padding\n\t\t}\n\t\tif (title) {\n\t\t\topts.ariaTitle = title\n\t\t}\n\t\tif (description) {\n\t\t\topts.ariaDescription = description\n\t\t}\n\t\treturn opts\n\t}, [width, height, padding, description, title])\n}\n\nfunction useScene(chartOptions: ChartOptions, data: Record<string, any>): any {\n\tconst pipeline = useOrchestrator()\n\tconst [frameNode, builder] = useChartScenes(chartOptions)\n\tconst [rendered, setRendered] = useState<any>(null)\n\tconst { spec } = frameNode\n\tconst executeRender = useCallback(() => {\n\t\tconst renderOutput =\n\t\t\tpipeline && pipeline.renderScene(spec, chartOptions, data)\n\t\tsetRendered(renderOutput)\n\t}, [chartOptions, data, pipeline, spec])\n\tuseEffect(() => {\n\t\tif (frameNode && pipeline) {\n\t\t\tconst subscription = frameNode.onChange\n\t\t\t\t.pipe(observeOn(animationFrameScheduler))\n\t\t\t\t// Note: you can log out the first argument here to view the\n\t\t\t\t// cause of the change.\n\t\t\t\t.subscribe(() => executeRender())\n\t\t\texecuteRender()\n\t\t\treturn () => subscription.unsubscribe()\n\t\t}\n\t}, [executeRender, frameNode, pipeline, setRendered])\n\n\treturn [rendered, builder]\n}\n\nfunction useChartScenes(\n\tchartOptions: ChartOptions,\n): [SceneNodeBuilder, SceneNodeBuilder | undefined] {\n\tconst [builder, setBuilder] = useState<SceneNodeBuilder | undefined>(\n\t\tundefined,\n\t)\n\tconst frameNode = useMemo(\n\t\t() =>\n\t\t\tscene((node: any) => {\n\t\t\t\tsetBuilder(node)\n\t\t\t\treturn node\n\t\t\t}, chartOptions),\n\t\t[chartOptions],\n\t)\n\n\treturn [frameNode, builder]\n}\n\nfunction useOrchestrator() {\n\tconst renderer = useContext(ChartRendererContext)\n\treturn useMemo(() => renderer && new Orchestrator(renderer), [renderer])\n}\n","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return operate(function (source, subscriber) {\n    source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n      return subscriber.add(scheduler.schedule(function () {\n        return subscriber.next(value);\n      }, delay));\n    }, function () {\n      return subscriber.add(scheduler.schedule(function () {\n        return subscriber.complete();\n      }, delay));\n    }, function (err) {\n      return subscriber.add(scheduler.schedule(function () {\n        return subscriber.error(err);\n      }, delay));\n    }));\n  });\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { axis as newAxis, AxisBuilder } from '@chart-parts/builder'\nimport { AxisOrientation, TickValue, FontWeight } from '@chart-parts/interfaces'\nimport React, { useContext, memo, useEffect, useMemo } from 'react'\nimport { SceneBuilderContext } from './Context'\n\n/**\n * Axis Component Props\n * @category Utility\n */\nexport interface AxisProps {\n\t/**\n\t * A name reference for a scale\n\t */\n\tscale: string\n\n\t/**\n\t * The axis' orientation on the chart\n\t */\n\torient: AxisOrientation\n\n\t/**\n\t * The thickness of the axis in pixels.\n\t * NOTE: Unfortunately we can't mesaure text dynamically in all situations.\n\t */\n\tthickness?: number\n\n\t// #region Domain Properties\n\tdomain?: boolean\n\tdomainWidth?: number\n\tdomainColor?: string\n\t// #endregion\n\n\t// #region Ticks Properties\n\tticks?: boolean\n\ttickColor?: string\n\ttickCount?: number\n\ttickOffset?: number\n\ttickRound?: boolean\n\ttickSize?: number\n\ttickWidth?: number\n\tbandPosition?: number\n\tvalues?: TickValue[]\n\t// #endregion\n\n\t// #region Label Properties\n\tlabels?: boolean\n\tlabelFont?: string\n\tlabelFontSize?: number\n\tlabelColor?: string\n\tlabelPadding?: number\n\tlabelFontWeight?: FontWeight\n\tlabelAngle?: number\n\tlabelFormat?: string\n\t// #endregion\n}\n\n/**\n * The Axis component is used to define axes on a chart. Axes are always\n * bound to a scale using the *scale* prop and are anchored to an edge of the\n * available view space using the *orient* prop.\n * @category Utility\n */\nexport const Axis: React.FC<AxisProps> = memo(function Axis({\n\tchildren,\n\tscale,\n\torient,\n\t...props\n}) {\n\tconst api = useContext(SceneBuilderContext)\n\tconst axis = useMemo(() => newAxis(scale, orient), [scale, orient])\n\n\tuseAxisProps(axis, props as AxisProps)\n\n\tuseEffect(() => {\n\t\tif (api) {\n\t\t\tapi.axes(axis)\n\t\t\treturn () => {\n\t\t\t\tapi.removeAxis(axis)\n\t\t\t}\n\t\t}\n\t}, [axis, api])\n\treturn <>{children}</>\n})\n\n/**\n * Synchronize React props with the Axis Builder object.\n * @param axis The Axis builder instance\n * @param props The Axis react props\n */\nfunction useAxisProps(axis: AxisBuilder, props: AxisProps) {\n\tuseEffect(() => {\n\t\taxis.thickness(props.thickness)\n\t}, [axis, props.thickness])\n\tuseEffect(() => {\n\t\taxis.domain(props.domain)\n\t}, [axis, props.domain])\n\tuseEffect(() => {\n\t\taxis.domainWidth(props.domainWidth)\n\t}, [axis, props.domainWidth])\n\tuseEffect(() => {\n\t\taxis.domainColor(props.domainColor)\n\t}, [axis, props.domainColor])\n\tuseEffect(() => {\n\t\taxis.ticks(props.ticks)\n\t}, [axis, props.ticks])\n\tuseEffect(() => {\n\t\taxis.tickColor(props.tickColor)\n\t}, [axis, props.tickColor])\n\tuseEffect(() => {\n\t\taxis.tickCount(props.tickCount)\n\t}, [axis, props.tickCount])\n\tuseEffect(() => {\n\t\taxis.tickOffset(props.tickOffset)\n\t}, [axis, props.tickOffset])\n\tuseEffect(() => {\n\t\taxis.tickRound(props.tickRound)\n\t}, [axis, props.tickRound])\n\tuseEffect(() => {\n\t\taxis.tickSize(props.tickSize)\n\t}, [axis, props.tickSize])\n\tuseEffect(() => {\n\t\taxis.tickWidth(props.tickWidth)\n\t}, [axis, props.tickWidth])\n\tuseEffect(() => {\n\t\taxis.bandPosition(props.bandPosition)\n\t}, [axis, props.bandPosition])\n\tuseEffect(() => {\n\t\taxis.values(props.values)\n\t}, [axis, props.values])\n\tuseEffect(() => {\n\t\taxis.labels(props.labels)\n\t}, [axis, props.labels])\n\tuseEffect(() => {\n\t\taxis.labelFont(props.labelFont)\n\t}, [axis, props.labelFont])\n\tuseEffect(() => {\n\t\taxis.labelFontSize(props.labelFontSize)\n\t}, [axis, props.labelFontSize])\n\tuseEffect(() => {\n\t\taxis.labelColor(props.labelColor)\n\t}, [axis, props.labelColor])\n\tuseEffect(() => {\n\t\taxis.labelPadding(props.labelPadding)\n\t}, [axis, props.labelPadding])\n\tuseEffect(() => {\n\t\taxis.labelFontWeight(props.labelFontWeight)\n\t}, [axis, props.labelFontWeight])\n\tuseEffect(() => {\n\t\taxis.labelAngle(props.labelAngle)\n\t}, [axis, props.labelAngle])\n\tuseEffect(() => {\n\t\taxis.labelFormat(props.labelFormat)\n\t}, [axis, props.labelFormat])\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport React, { memo, useContext, useEffect } from 'react'\nimport { SceneBuilderContext } from '../Context'\n\n/**\n * Generic scale props\n * @category Scale\n */\nexport interface ScaleProps {\n\t/**\n\t * The name of the scale\n\t */\n\tname: string\n\n\t/**\n\t * The table the scale is applied to\n\t */\n\ttable: string\n\n\t/**\n\t * A factory function for creating the scale\n\t */\n\tcreate: (args: any) => any\n}\n\n/**\n * Generic scale component\n * @category Scale\n */\nexport const Scale: React.FC<ScaleProps> = memo(function Scale({ create }) {\n\tconst api = useContext(SceneBuilderContext)\n\tuseEffect(() => {\n\t\tif (api) {\n\t\t\tconst newScale = (args: any) => create(args)\n\t\t\tapi.scale(newScale)\n\t\t\treturn () => {\n\t\t\t\tapi.removeScale(newScale)\n\t\t\t}\n\t\t}\n\t}, [api, create])\n\treturn null\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ScaleCreationContext } from '@chart-parts/interfaces'\nimport React, { memo, useContext, useEffect, useMemo } from 'react'\nimport { SceneBuilderContext } from '../Context'\n\n/**\n * Props for a scale with a domain\n * @category Scale\n */\nexport interface DomainScaleProps<Domain> {\n\t/**\n\t * The name of the scale\n\t */\n\tname: string\n\n\t/**\n\t * Sets the domain.\n\t *\n\t * If a string is used, it is used as the name of the\n\t * field to bind to in the data\n\t *\n\t * If a function is provided, it should construct the domain from the arguments providiedi.\n\t *\n\t * If an array is provided, it is treated as the explicit domain\n\t */\n\tdomain?: string | ((args: ScaleCreationContext) => Domain) | Domain\n}\n\n/**\n * Creates a new DomainScale\n * @ignore\n * @param displayName The name of the scale\n * @param createScale The scale creation function\n * @param propsToCheck Props to check for scale recreation\n */\nexport function createDomainScale<\n\tProps extends DomainScaleProps<Domain>,\n\tDomain,\n>(\n\tdisplayName: string,\n\tcreateScale: (props: Props) => any,\n\tpropsToCheck: string[] = [],\n): React.FC<Props> {\n\tconst result: React.FC<Props> = memo(props => {\n\t\tconst api = useContext(SceneBuilderContext)\n\t\tconst scale = useMemo(\n\t\t\t() => api && createScale(props as Props),\n\t\t\t[\n\t\t\t\tapi,\n\t\t\t\tprops,\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\t...propsToCheck.map(p => (props as any)[p]),\n\t\t\t],\n\t\t)\n\t\tuseEffect(() => {\n\t\t\tif (api && scale) {\n\t\t\t\tapi.scale(scale)\n\t\t\t\treturn () => {\n\t\t\t\t\tapi.removeScale(scale)\n\t\t\t\t}\n\t\t\t}\n\t\t}, [api, scale])\n\t\treturn null\n\t})\n\tresult.displayName = displayName\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ScaleCreationContext } from '@chart-parts/interfaces'\nimport { createDomainScale, DomainScaleProps } from './DomainScale'\n\n/**\n * Common props for scales with both a domain and range\n * @category Scale\n */\nexport interface DomainRangeScaleProps<Domain, Range, RangeBind>\n\textends DomainScaleProps<Domain> {\n\t/**\n\t * Sets the range of the scale.\n\t *\n\t * If an array is provided, it is treated as an explicit range value.\n\t * If a function is proveded, it is treated as a factory function for generating the range.\n\t * If any other value is provided, it is treated as a \"range binder\" and its behavior is\n\t * dependent on the scale implementation.\n\t */\n\trange?: RangeBind | ((args: ScaleCreationContext) => Range) | Range\n\n\t/**\n\t * Reverse the range\n\t */\n\treverse?: boolean\n}\n\n/**\n * Creates a new domain-range scale\n * @ignore\n * @param displayName The name of the scale to create\n * @param createScale The scale creation function\n * @param propsToCheck The props to check for scale recreation\n */\nexport function createDomainRangeScale<\n\tProps extends DomainRangeScaleProps<Domain, Range, RangeBind>,\n\tDomain,\n\tRange,\n\tRangeBind,\n>(\n\tdisplayName: string,\n\tcreateScale: (props: Props) => any,\n\tpropsToCheck: string[] = [],\n) {\n\treturn createDomainScale<Props, Domain>(\n\t\tdisplayName,\n\t\tcreateScale,\n\t\tpropsToCheck,\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Dimension } from '@chart-parts/interfaces'\nimport {\n\tDomainRangeScaleProps,\n\tcreateDomainRangeScale,\n} from '../DomainRangeScale'\n\n/**\n * A time-based scale value\n * @category Scale\n */\nexport type TimeValue = QuantitativeValue | Date\n\n/**\n * A quantitative value\n * @category Scale\n */\nexport type QuantitativeValue = number | { valueOf(): number }\n\n/**\n * A span of quantitative values\n * @category Scale\n */\nexport type QuantitativeSpan = [QuantitativeValue, QuantitativeValue]\n\n/**\n * Quantitative Scale Component Props\n * @category Scale\n */\nexport interface QuantitativeScaleProps<DomainValue, RangeValue>\n\textends DomainRangeScaleProps<\n\t\t[DomainValue, DomainValue],\n\t\t[RangeValue, RangeValue],\n\t\tDimension\n\t> {\n\t/**\n\t * A boolean indicating if output values should be clamped to the range (default false).\n\t * If clamping is disabled and the scale is passed a value outside the domain, the scale\n\t *  may return a value outside the range through extrapolation. If clamping is enabled,\n\t * the output value of the scale is always within the scale’s range.\n\t */\n\tclamp?: boolean\n\n\t/**\n\t * Extends the domain so that it starts and ends on nice round values.\n\t */\n\tnice?: boolean | number | string | Record<string, any>\n\n\t/**\n\t * Boolean flag indicating if the scale domain should include zero.\n\t * The default value is true for linear, sqrt and pow, and false otherwise.\n\t */\n\tzero?: boolean\n\n\t/**\n\t * The number of pixels to pad the target range with\n\t */\n\tpadding?: number\n\n\t/**\n\t * A flag that indicating whether to use range-rounding\n\t */\n\tround?: boolean\n}\n\n/**\n * Quantitative scale foctory\n * @ignore\n * @param displayName The display name of the scale\n * @param createScale The scale creation function\n * @param propsToCheck Props to inspect for scale recreations\n */\nexport function createQuantitativeScale<\n\tProps extends QuantitativeScaleProps<DomainValue, RangeValue>,\n\tDomainValue extends QuantitativeValue,\n\tRangeValue extends QuantitativeValue,\n>(\n\tdisplayName: string,\n\tcreateScale: (props: Props) => any,\n\tpropsToCheck: string[] = [],\n) {\n\treturn createDomainRangeScale<\n\t\tProps,\n\t\t[DomainValue, DomainValue],\n\t\t[RangeValue, RangeValue],\n\t\tDimension\n\t>(displayName, createScale, propsToCheck)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { linear } from '@chart-parts/scales'\nimport {\n\tQuantitativeScaleProps,\n\tQuantitativeValue,\n\tcreateQuantitativeScale,\n} from './QuantitativeScale'\n\n/**\n * Linear Scale Component\n * @category Scale\n */\nexport const LinearScale = createQuantitativeScale<\n\tQuantitativeScaleProps<QuantitativeValue, number>,\n\tQuantitativeValue,\n\tnumber\n>(\n\t'LinearScale',\n\t({ name, range, domain, zero, clamp, nice, reverse, padding }) =>\n\t\tlinear(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.zero(zero)\n\t\t\t.clamp(clamp)\n\t\t\t.nice(nice)\n\t\t\t.reverse(reverse)\n\t\t\t.padding(padding),\n\t['name', 'range', 'domain', 'zero', 'clamp', 'nice', 'reverse', 'padding'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { sqrt } from '@chart-parts/scales'\nimport {\n\tcreateQuantitativeScale,\n\tQuantitativeScaleProps,\n\tQuantitativeValue,\n} from './QuantitativeScale'\n\n/**\n * Sqrt Scale Component\n * @category Scale\n * @remark Based on [d3.scaleSqrt](https://github.com/d3/d3-scale#scaleSqrt)\n */\nexport const SqrtScale = createQuantitativeScale<\n\tQuantitativeScaleProps<QuantitativeValue, number>,\n\tQuantitativeValue,\n\tnumber\n>(\n\t'SqrtScale',\n\t({ name, domain, range, zero, clamp, nice, reverse, padding }) =>\n\t\tsqrt(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.zero(zero)\n\t\t\t.clamp(clamp)\n\t\t\t.nice(nice)\n\t\t\t.reverse(reverse)\n\t\t\t.padding(padding),\n\t['name', 'domain', 'range', 'zero', 'clamp', 'nice', 'reverse', 'padding'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { log } from '@chart-parts/scales'\nimport {\n\tcreateQuantitativeScale,\n\tQuantitativeScaleProps,\n\tQuantitativeValue,\n} from './QuantitativeScale'\n\n/**\n * Log Scale properties\n * @category Scale\n */\nexport interface LogScaleProps\n\textends QuantitativeScaleProps<QuantitativeValue, number> {\n\tbase?: number\n}\n\n/**\n * LogScale Component\n * @remark Based on [d3.scaleLog](https://github.com/d3/d3-scale#scaleLog)\n * @category Scale\n */\nexport const LogScale = createQuantitativeScale<\n\tLogScaleProps,\n\tQuantitativeValue,\n\tnumber\n>(\n\t'LogScale',\n\t({ name, domain, range, zero, clamp, nice, reverse, base, padding }) =>\n\t\tlog(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.zero(zero)\n\t\t\t.clamp(clamp)\n\t\t\t.nice(nice)\n\t\t\t.reverse(reverse)\n\t\t\t.base(base)\n\t\t\t.padding(padding),\n\t[\n\t\t'name',\n\t\t'domain',\n\t\t'range',\n\t\t'zero',\n\t\t'clamp',\n\t\t'nice',\n\t\t'reverse',\n\t\t'base',\n\t\t'padding',\n\t],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { pow } from '@chart-parts/scales'\nimport {\n\tcreateQuantitativeScale,\n\tQuantitativeScaleProps,\n\tQuantitativeValue,\n} from './QuantitativeScale'\n\n/**\n * PowScale Component Props\n * @category Scale\n */\nexport interface PowScaleProps\n\textends QuantitativeScaleProps<QuantitativeValue, number> {\n\texponent?: number\n}\n\n/**\n * PowScale Component\n * @category Scale\n * @remarks Based on [d3.scalePow](https://github.com/d3/d3-scale#scalePow)\n */\nexport const PowScale = createQuantitativeScale<\n\tPowScaleProps,\n\tQuantitativeValue,\n\tnumber\n>(\n\t'PowScale',\n\t({ name, domain, range, zero, clamp, nice, reverse, exponent, padding }) =>\n\t\tpow(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.zero(zero)\n\t\t\t.clamp(clamp)\n\t\t\t.nice(nice)\n\t\t\t.reverse(reverse)\n\t\t\t.exponent(exponent)\n\t\t\t.padding(padding),\n\t[\n\t\t'name',\n\t\t'domain',\n\t\t'range',\n\t\t'zero',\n\t\t'clamp',\n\t\t'nice',\n\t\t'reverse',\n\t\t'exponent',\n\t\t'padding',\n\t],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { sequential } from '@chart-parts/scales'\nimport { createDomainScale, DomainScaleProps } from '../DomainScale'\nimport { QuantitativeValue, QuantitativeSpan } from './QuantitativeScale'\n\n/**\n * Sequential Scale Component Props\n * @category Scale\n */\nexport interface SequantialScaleProps\n\textends DomainScaleProps<QuantitativeSpan> {\n\tinterpolator: (t: QuantitativeValue) => any\n\tclamp?: boolean\n}\n\n/**\n * Sequential Scale Component\n * @category Scale\n * @remark Based on [d3.scaleSequential](https://github.com/d3/d3-scale#sequential-scales)\n */\nexport const SequentialScale = createDomainScale<\n\tSequantialScaleProps,\n\tQuantitativeSpan\n>(\n\t'SequentialScale',\n\t({ name, domain, clamp, interpolator }) =>\n\t\tsequential(name).domain(domain).clamp(clamp).interpolator(interpolator),\n\t['name', 'domain', 'clamp', 'interpolator'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Dimension } from '@chart-parts/interfaces'\nimport { band } from '@chart-parts/scales'\nimport {\n\tcreateDomainRangeScale,\n\tDomainRangeScaleProps,\n} from '../DomainRangeScale'\n\n/**\n * BandScale Component Props\n * @category Scale\n */\nexport interface BandScaleProps\n\textends DomainRangeScaleProps<string[], [number, number], Dimension> {\n\t/**\n\t * The name of the band-width static scale\n\t */\n\tbandWidth?: string\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpadding?: number\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpaddingInner?: number\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpaddingOuter?: number\n\n\t/**\n\t * Bin alignment 0-beginning, 1=end\n\t */\n\talign?: number\n\n\t/**\n\t * If true, rounds numeric output values to integers. Helpful for snapping to the pixel grid.\n\t */\n\tround?: boolean\n}\n\n/**\n * BandScale React component\n * @category Scale\n * @remarks Based on the [d3 bandScale](https://github.com/d3/d3-scale#band-scales)\n */\nexport const BandScale: React.FC<BandScaleProps> = createDomainRangeScale<\n\tBandScaleProps,\n\tstring[],\n\t[number, number],\n\tDimension\n>(\n\t'BandScale',\n\t({\n\t\tbandWidth,\n\t\tname,\n\t\tdomain,\n\t\trange,\n\t\talign,\n\t\tpadding,\n\t\tpaddingOuter,\n\t\tpaddingInner,\n\t\tround,\n\t\treverse,\n\t}) => {\n\t\tconst bandWidthName = bandWidth || name + 'Width'\n\t\treturn band(name, bandWidthName)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.align(align)\n\t\t\t.padding(padding)\n\t\t\t.paddingOuter(paddingOuter)\n\t\t\t.paddingInner(paddingInner)\n\t\t\t.round(round)\n\t\t\t.reverse(reverse)\n\t},\n\t[\n\t\t'bandWidth',\n\t\t'name',\n\t\t'domain',\n\t\t'range',\n\t\t'align',\n\t\t'padding',\n\t\t'paddingOuter',\n\t\t'paddingInner',\n\t\t'round',\n\t\t'reverse',\n\t],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { time } from '@chart-parts/scales'\nimport {\n\tcreateQuantitativeScale,\n\tQuantitativeScaleProps,\n\tTimeValue,\n} from './QuantitativeScale'\n\n/**\n * TimeScale Component Props\n * @category Scale\n */\nexport interface TimeScaleProps\n\textends QuantitativeScaleProps<TimeValue, number> {}\n\n/**\n * TimeScale Component\n * @category Scale\n * @remark Based on [d3.scaleTime](https://github.com/d3/d3-scale#scaleTime)\n */\nexport const TimeScale = createQuantitativeScale<\n\tTimeScaleProps,\n\tTimeValue,\n\tnumber\n>(\n\t'TimeScale',\n\t({ name, domain, range, zero, clamp, nice, reverse, padding }) =>\n\t\ttime(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.zero(zero)\n\t\t\t.clamp(clamp)\n\t\t\t.nice(nice)\n\t\t\t.reverse(reverse)\n\t\t\t.padding(padding),\n\t['name', 'domain', 'range', 'zero', 'clamp', 'nice', 'reverse', 'padding'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { utc } from '@chart-parts/scales'\nimport {\n\tcreateQuantitativeScale,\n\tQuantitativeScaleProps,\n\tTimeValue,\n} from './QuantitativeScale'\n\n/**\n * Utc Scale Component\n * @category Scale\n * @remark Based on [d3.scaleUtc](https://github.com/d3/d3-scale#scaleUtc)\n */\nexport const UtcScale = createQuantitativeScale<\n\tQuantitativeScaleProps<TimeValue, number>,\n\tTimeValue,\n\tnumber\n>(\n\t'UtcScale',\n\t({ name, domain, range, zero, clamp, nice, reverse, padding }) =>\n\t\tutc(name)\n\t\t\t.name(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.zero(zero)\n\t\t\t.clamp(clamp)\n\t\t\t.nice(nice)\n\t\t\t.reverse(reverse)\n\t\t\t.padding(padding),\n\t['name', 'domain', 'range', 'zero', 'clamp', 'nice', 'reverse', 'padding'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ordinal, CategoricalColorScheme } from '@chart-parts/scales'\nimport { createDomainScale, DomainScaleProps } from '../DomainScale'\n\n/**\n * OrdinalScale Component Props\n * @category Scale\n */\nexport interface OrdinalScaleProps<RangeType>\n\textends DomainScaleProps<string[]> {\n\t/**\n\t * The range of values to map to\n\t */\n\trange?: RangeType[]\n\n\t/**\n\t * The color scheme to use as the target ordinal domain\n\t */\n\tcolorScheme?: CategoricalColorScheme\n}\n\n/**\n * Generic Ordinal Scale Typing\n * @category Scale\n */\nexport type OrdinalScaleComponentType<RangeType = any> = React.FC<\n\tOrdinalScaleProps<RangeType>\n>\n\n/**\n * Ordinal Scale Component\n * @category Scale\n * @remarks Based on [d3 Ordinal Scale](https://github.com/d3/d3-scale#scaleOrdinal)\n */\nexport const OrdinalScale: OrdinalScaleComponentType = createDomainScale(\n\t'OrdinalScale',\n\t({ name, domain, range, colorScheme }) =>\n\t\tordinal(name).domain(domain).range(range).colorScheme(colorScheme),\n\t['name', 'domain', 'range', 'colorScheme'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Dimension } from '@chart-parts/interfaces'\nimport { point } from '@chart-parts/scales'\nimport {\n\tcreateDomainRangeScale,\n\tDomainRangeScaleProps,\n} from '../DomainRangeScale'\n\n/**\n * PointScale Component props\n * @category Scale\n */\nexport interface PointScaleProps\n\textends DomainRangeScaleProps<string[], [number, number], Dimension> {\n\t/**\n\t * The name of the Point-width static scale\n\t */\n\tstepName?: string\n\n\t/**\n\t * Bin alignment 0-beginning, 1=end\n\t */\n\talign?: number\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpadding?: number\n}\n\n/**\n * PointScale Component\n * @category Scale\n * @remarks Based on [d3.scalePoint](https://github.com/d3/d3-scale#scalePoint)\n */\nexport const PointScale: React.FC<PointScaleProps> = createDomainRangeScale(\n\t'PointScale',\n\t({\n\t\tstepName: stepNameProp,\n\t\tname,\n\t\tdomain,\n\t\trange,\n\t\talign,\n\t\tpadding,\n\t\treverse,\n\t}) => {\n\t\tconst stepName = stepNameProp || name + 'Step'\n\t\treturn point(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.stepName(stepName)\n\t\t\t.align(align)\n\t\t\t.padding(padding)\n\t\t\t.reverse(reverse)\n\t},\n\t['stepName', 'name', 'domain', 'range', 'align', 'padding', 'reverse'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { quantize } from '@chart-parts/scales'\nimport {\n\tcreateDomainRangeScale,\n\tDomainRangeScaleProps,\n} from './DomainRangeScale'\n\n/**\n * Quantize Scale Component Props\n * @category Scale\n */\nexport interface QuantizeScaleProps<DomainValue, RangeValue>\n\textends DomainRangeScaleProps<[DomainValue, DomainValue], RangeValue[], any> {\n\t/**\n\t * Extends the domain so that it starts and ends on nice round values.\n\t */\n\tnice?: boolean | number\n\n\t/**\n\t * Boolean flag indicating if the scale domain should include zero.\n\t * The default value is true for linear, sqrt and pow, and false otherwise.\n\t */\n\tzero?: boolean\n}\n\n/**\n * Quantize Scale Component Type\n * @category Scale\n */\nexport type QuantizeScaleComponentType<D = any, R = any> = React.FC<\n\tQuantizeScaleProps<D, R>\n>\n\n/**\n * Quantize Scale Component\n * @category Scale\n * @remarks Based on [d3.scaleQuantize](https://github.com/d3/d3-scale#scaleQuantize)\n */\nexport const QuantizeScale: QuantizeScaleComponentType = createDomainRangeScale(\n\t'QuantizeScale',\n\t({ name, domain, range, reverse, nice, zero }) =>\n\t\tquantize(name)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\t\t.reverse(reverse)\n\t\t\t.nice(nice)\n\t\t\t.zero(zero),\n\t['name', 'domain', 'range', 'reverse', 'nice', 'zero'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { quantize } from '@chart-parts/scales'\nimport {\n\tcreateDomainRangeScale,\n\tDomainRangeScaleProps,\n} from './DomainRangeScale'\nimport { QuantitativeValue } from './quantitative/QuantitativeScale'\n\n/**\n * Quantile Scale Component Props\n * @category Scale\n */\nexport interface QuantileScaleProps<\n\tDomainValue extends QuantitativeValue,\n\tRangeValue extends QuantitativeValue,\n> extends DomainRangeScaleProps<\n\t\t[DomainValue, DomainValue],\n\t\tRangeValue[],\n\t\tany\n\t> {}\n\n/**\n * Quantile Scale Component TYpe\n * @category Scale\n */\nexport type QuantileScaleComponentType<\n\tD extends QuantitativeValue = any,\n\tR extends QuantitativeValue = any,\n> = React.FC<QuantileScaleProps<D, R>>\n\n/**\n * Quantile Scale Component\n * @category Scale\n * @remarks Based on [d3.scaleQuantile](https://github.com/d3/d3-scale#scaleQuantile)\n */\nexport const QuantileScale: QuantileScaleComponentType = createDomainRangeScale(\n\t'QuantileScale',\n\t({ name, domain, range, reverse }) =>\n\t\tquantize(name).domain(domain).range(range).reverse(reverse),\n\t['name', 'domain', 'range', 'reverse'],\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tmark as newMark,\n\tMarkBuilder,\n\tSceneNodeBuilder,\n} from '@chart-parts/builder'\nimport { MarkType, MarkEncodingKey } from '@chart-parts/interfaces'\nimport React, { useContext, useState, useEffect, useMemo } from 'react'\nimport { SceneBuilderContext } from '../Context'\nimport { CommonMarkProps } from '../types'\n\n/**\n * A factory function for creating mark components\n * @param markType The mark type to create\n * @param customHook An optional custom hook to use when themark is created\n * @ignore\n */\nexport function createMarkComponent<T extends CommonMarkProps>(\n\tmarkType: MarkType,\n\tcustomHook: (mark: MarkBuilder, props: T) => void = () => null,\n): React.FC<T> {\n\tconst Result: React.FC<T> = function (props) {\n\t\tconst { children, table, name, role } = props\n\t\tconst scene = useContext(SceneBuilderContext)\n\t\tconst mark = useMemo(() => newMark(markType), [])\n\t\tuseCommonMarkProperties(mark, table, role, name)\n\t\tuseMarkEncodings(mark, props)\n\t\tuseMarkChannels(mark, props)\n\t\tcustomHook(mark, props as T)\n\t\tconst node = useMarkInScene(scene, mark, markType === MarkType.Group)\n\t\treturn (\n\t\t\t<SceneBuilderContext.Provider value={node}>\n\t\t\t\t{children}\n\t\t\t</SceneBuilderContext.Provider>\n\t\t)\n\t}\n\tResult.displayName = markType\n\treturn Result\n}\n\nfunction useMarkInScene(\n\tscene: SceneNodeBuilder | undefined,\n\tmark: MarkBuilder,\n\tpushdown: boolean,\n) {\n\tconst [currentScene, setCurrentScene] = useState<\n\t\tSceneNodeBuilder | undefined\n\t>()\n\tuseEffect(() => {\n\t\tif (scene && mark) {\n\t\t\tif (pushdown) {\n\t\t\t\t// push down a new scene\n\t\t\t\tscene.mark(mark.child(n => setCurrentScene(n)))\n\t\t\t} else {\n\t\t\t\t// keep the same scene\n\t\t\t\tsetCurrentScene(scene.mark(mark))\n\t\t\t}\n\t\t\treturn () => {\n\t\t\t\tscene.removeMark(mark)\n\t\t\t}\n\t\t}\n\t}, [pushdown, scene, mark])\n\treturn currentScene\n}\n\nfunction useCommonMarkProperties(\n\tmark: MarkBuilder,\n\ttable: string | undefined,\n\trole: string | undefined,\n\tname: string | undefined,\n) {\n\tuseEffect(() => {\n\t\tif (mark) {\n\t\t\tmark.table(table)\n\t\t}\n\t}, [mark, table])\n\n\tuseEffect(() => {\n\t\tif (mark) {\n\t\t\tmark.name(name)\n\t\t}\n\t}, [mark, name])\n\n\tuseEffect(() => {\n\t\tif (mark) {\n\t\t\tmark.role(role)\n\t\t}\n\t}, [mark, role])\n}\n\nfunction useMarkEncodings(mark: MarkBuilder, props: CommonMarkProps) {\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.x, props.x)\n\t}, [mark, props.x])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.x2, props.x2)\n\t}, [mark, props.x2])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.xc, props.xc)\n\t}, [mark, props.xc])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.width, props.width)\n\t}, [mark, props.width])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.y, props.y)\n\t}, [mark, props.y])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.y2, props.y2)\n\t}, [mark, props.y2])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.yc, props.yc)\n\t}, [mark, props.yc])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.height, props.height)\n\t}, [mark, props.height])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.opacity, props.opacity)\n\t}, [mark, props.opacity])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.fill, props.fill)\n\t}, [mark, props.fill])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.fillOpacity, props.fillOpacity)\n\t}, [mark, props.fillOpacity])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.stroke, props.stroke)\n\t}, [mark, props.stroke])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeOpacity, props.strokeOpacity)\n\t}, [mark, props.strokeOpacity])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeWidth, props.strokeWidth)\n\t}, [mark, props.strokeWidth])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeCap, props.strokeCap)\n\t}, [mark, props.strokeCap])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeDash, props.strokeDash)\n\t}, [mark, props.strokeDash])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeDashOffset, props.strokeDashOffset)\n\t}, [mark, props.strokeDashOffset])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeJoin, props.strokeJoin)\n\t}, [mark, props.strokeJoin])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.strokeMiterLimit, props.strokeMiterLimit)\n\t}, [mark, props.strokeMiterLimit])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.cursor, props.cursor)\n\t}, [mark, props.cursor])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.href, props.href)\n\t}, [mark, props.href])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.tooltip, props.tooltip)\n\t}, [mark, props.tooltip])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.zIndex, props.zIndex)\n\t}, [mark, props.zIndex])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.metadata, props.metadata)\n\t}, [mark, props.metadata])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.ariaTitle, props.ariaTitle)\n\t}, [mark, props.ariaTitle])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.ariaDescription, props.ariaDescription)\n\t}, [mark, props.ariaDescription])\n\tuseEffect(() => {\n\t\tmark.encode(MarkEncodingKey.tabIndex, props.tabIndex)\n\t}, [mark, props.tabIndex])\n}\n\nfunction useMarkChannels(mark: MarkBuilder, props: CommonMarkProps) {\n\tuseEffect(() => {\n\t\tmark.handle('onCopy', props.onCopy)\n\t}, [mark, props.onCopy])\n\tuseEffect(() => {\n\t\tmark.handle('onCut', props.onCut)\n\t}, [mark, props.onCut])\n\tuseEffect(() => {\n\t\tmark.handle('onPaste', props.onPaste)\n\t}, [mark, props.onPaste])\n\tuseEffect(() => {\n\t\tmark.handle('onKeyDown', props.onKeyDown)\n\t}, [mark, props.onKeyDown])\n\tuseEffect(() => {\n\t\tmark.handle('onKeyPress', props.onKeyPress)\n\t}, [mark, props.onKeyPress])\n\tuseEffect(() => {\n\t\tmark.handle('onKeyUp', props.onKeyUp)\n\t}, [mark, props.onKeyUp])\n\tuseEffect(() => {\n\t\tmark.handle('onFocus', props.onFocus)\n\t}, [mark, props.onFocus])\n\tuseEffect(() => {\n\t\tmark.handle('onBlur', props.onBlur)\n\t}, [mark, props.onBlur])\n\tuseEffect(() => {\n\t\tmark.handle('onClick', props.onClick)\n\t}, [mark, props.onClick])\n\tuseEffect(() => {\n\t\tmark.handle('onContextMenu', props.onContextMenu)\n\t}, [mark, props.onContextMenu])\n\tuseEffect(() => {\n\t\tmark.handle('onDoubleClick', props.onDoubleClick)\n\t}, [mark, props.onDoubleClick])\n\tuseEffect(() => {\n\t\tmark.handle('onDrag', props.onDrag)\n\t}, [mark, props.onDrag])\n\tuseEffect(() => {\n\t\tmark.handle('onDragEnd', props.onDragEnd)\n\t}, [mark, props.onDragEnd])\n\tuseEffect(() => {\n\t\tmark.handle('onDragEnter', props.onDragEnter)\n\t}, [mark, props.onDragEnter])\n\tuseEffect(() => {\n\t\tmark.handle('onDragExit', props.onDragExit)\n\t}, [mark, props.onDragExit])\n\tuseEffect(() => {\n\t\tmark.handle('onDragLeave', props.onDragLeave)\n\t}, [mark, props.onDragLeave])\n\tuseEffect(() => {\n\t\tmark.handle('onDragOver', props.onDragOver)\n\t}, [mark, props.onDragOver])\n\tuseEffect(() => {\n\t\tmark.handle('onDragStart', props.onDragStart)\n\t}, [mark, props.onDragStart])\n\tuseEffect(() => {\n\t\tmark.handle('onDrop', props.onDrop)\n\t}, [mark, props.onDrop])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseDown', props.onMouseDown)\n\t}, [mark, props.onMouseDown])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseEnter', props.onMouseEnter)\n\t}, [mark, props.onMouseEnter])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseLeave', props.onMouseLeave)\n\t}, [mark, props.onMouseLeave])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseMove', props.onMouseMove)\n\t}, [mark, props.onMouseMove])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseOut', props.onMouseOut)\n\t}, [mark, props.onMouseOut])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseOver', props.onMouseOver)\n\t}, [mark, props.onMouseOver])\n\tuseEffect(() => {\n\t\tmark.handle('onMouseUp', props.onMouseUp)\n\t}, [mark, props.onMouseUp])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerDown', props.onPointerDown)\n\t}, [mark, props.onPointerDown])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerMove', props.onPointerMove)\n\t}, [mark, props.onPointerMove])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerUp', props.onPointerUp)\n\t}, [mark, props.onPointerUp])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerCancel', props.onPointerCancel)\n\t}, [mark, props.onPointerCancel])\n\tuseEffect(() => {\n\t\tmark.handle('onGotPointerCapture', props.onGotPointerCapture)\n\t}, [mark, props.onGotPointerCapture])\n\tuseEffect(() => {\n\t\tmark.handle('onLostPointerCapture', props.onLostPointerCapture)\n\t}, [mark, props.onLostPointerCapture])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerEnter', props.onPointerEnter)\n\t}, [mark, props.onPointerEnter])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerLeave', props.onPointerLeave)\n\t}, [mark, props.onPointerLeave])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerOver', props.onPointerOver)\n\t}, [mark, props.onPointerOver])\n\tuseEffect(() => {\n\t\tmark.handle('onPointerOut', props.onPointerOut)\n\t}, [mark, props.onPointerOut])\n\tuseEffect(() => {\n\t\tmark.handle('onSelect', props.onSelect)\n\t}, [mark, props.onSelect])\n\tuseEffect(() => {\n\t\tmark.handle('onTouchCancel', props.onTouchCancel)\n\t}, [mark, props.onTouchCancel])\n\tuseEffect(() => {\n\t\tmark.handle('onTouchEnd', props.onTouchEnd)\n\t}, [mark, props.onTouchEnd])\n\tuseEffect(() => {\n\t\tmark.handle('onTouchMove', props.onTouchMove)\n\t}, [mark, props.onTouchMove])\n\tuseEffect(() => {\n\t\tmark.handle('onTouchStart', props.onTouchStart)\n\t}, [mark, props.onTouchStart])\n\tuseEffect(() => {\n\t\tmark.handle('onScroll', props.onScroll)\n\t}, [mark, props.onScroll])\n\tuseEffect(() => {\n\t\tmark.handle('onWheel', props.onWheel)\n\t}, [mark, props.onWheel])\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tMarkEncoding,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Arc Mark Props\n * @category Mark\n */\nexport interface ArcProps extends CommonMarkProps {\n\tstartAngle?: MarkEncoding<number>\n\tendAngle?: MarkEncoding<number>\n\tpadAngle?: MarkEncoding<number>\n\tinnerRadius?: MarkEncoding<number>\n\touterRadius?: MarkEncoding<number>\n\tcornerRadius?: MarkEncoding<number>\n}\n\n/**\n * Arc Mark Component\n * @category Mark\n */\nexport const Arc = createMarkComponent<ArcProps>(\n\tMarkType.Arc,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.startAngle, props.startAngle)\n\t\t}, [mark, props.startAngle])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.endAngle, props.endAngle)\n\t\t}, [mark, props.endAngle])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.padAngle, props.padAngle)\n\t\t}, [mark, props.padAngle])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.innerRadius, props.innerRadius)\n\t\t}, [mark, props.innerRadius])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.outerRadius, props.outerRadius)\n\t\t}, [mark, props.outerRadius])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.cornerRadius, props.cornerRadius)\n\t\t}, [mark, props.cornerRadius])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tOrientation,\n\tInterpolation,\n\tMarkEncodingKey,\n\tMarkEncoding,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Area Mark Component Props\n * @category Mark\n */\nexport interface AreaProps extends CommonMarkProps {\n\torient?: MarkEncoding<Orientation>\n\tinterpolate?: MarkEncoding<Interpolation>\n\ttension?: MarkEncoding<number>\n\tdefined?: MarkEncoding<boolean>\n}\n\n/**\n * Area Mark Component\n * @category Mark\n */\nexport const Area = createMarkComponent<AreaProps>(\n\tMarkType.Area,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.orient, props.orient)\n\t\t}, [mark, props.orient])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.interpolate, props.interpolate)\n\t\t}, [mark, props.interpolate])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.tension, props.tension)\n\t\t}, [mark, props.tension])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.defined, props.defined)\n\t\t}, [mark, props.defined])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tFacet,\n\tMarkEncoding,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Group Mark Component Props\n * @category Mark\n */\nexport interface GroupProps extends CommonMarkProps {\n\tclip?: MarkEncoding<boolean>\n\tcornerRadius?: MarkEncoding<number>\n\tfacet?: Facet\n}\n\n/**\n * Group Mark Component\n * @category Mark\n */\nexport const Group = createMarkComponent<GroupProps>(\n\tMarkType.Group,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.facet(props.facet)\n\t\t}, [mark, props.facet])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.clip, props.clip)\n\t\t}, [mark, props.clip])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.cornerRadius, props.cornerRadius)\n\t\t}, [mark, props.cornerRadius])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tInterpolation,\n\tMarkEncoding,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Line Mark Component Props\n * @category Mark\n */\nexport interface LineProps extends CommonMarkProps {\n\tinterpolate?: MarkEncoding<Interpolation>\n\ttension?: MarkEncoding<number>\n\tdefined?: MarkEncoding<boolean>\n}\n\n/**\n * Line Mark Component\n * @category Mark\n */\nexport const Line = createMarkComponent<LineProps>(\n\tMarkType.Line,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.interpolate, props.interpolate)\n\t\t}, [mark, props.interpolate])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.tension, props.tension)\n\t\t}, [mark, props.tension])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.defined, props.defined)\n\t\t}, [mark, props.defined])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tMarkEncodingKey,\n\tMarkEncoding,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Rect Mark Component Props\n * @category Mark\n */\nexport interface RectProps extends CommonMarkProps {\n\tcornerRadius?: MarkEncoding<number>\n}\n\n/**\n * Rect Mark Component\n * @category Mark\n */\nexport const Rect = createMarkComponent<RectProps>(\n\tMarkType.Rect,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.cornerRadius, props.cornerRadius)\n\t\t}, [mark, props.cornerRadius])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tMarkEncoding,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Path Mark Component Props\n * @category Mark\n */\nexport interface PathProps extends CommonMarkProps {\n\tpath?: MarkEncoding<string>\n}\n\n/**\n * Path Mark Component\n * @category Mark\n */\nexport const Path = createMarkComponent<PathProps>(\n\tMarkType.Path,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.path, props.path)\n\t\t}, [mark, props.path])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType } from '@chart-parts/interfaces'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Rule Mark Component Props\n * @category Mark\n */\nexport type RuleProps = CommonMarkProps\n\n/**\n * Rule Mark Component\n * @category Mark\n */\nexport const Rule = createMarkComponent<RuleProps>(MarkType.Rule)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tHorizontalAlignment,\n\tVerticalTextAlignment,\n\tTextDirection,\n\tFontWeight,\n\tMarkEncoding,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Text Mark Component Props\n * @category Mark\n */\nexport interface TextProps extends CommonMarkProps {\n\talign?: MarkEncoding<HorizontalAlignment>\n\tangle?: MarkEncoding<number>\n\tbaseline?: MarkEncoding<VerticalTextAlignment>\n\tdir?: MarkEncoding<TextDirection>\n\tdx?: MarkEncoding<number>\n\tdy?: MarkEncoding<number>\n\tellipsis?: MarkEncoding<string>\n\tfont?: MarkEncoding<string>\n\tfontSize?: MarkEncoding<number>\n\tfontWeight?: MarkEncoding<FontWeight>\n\tfontVariant?: MarkEncoding<string | number>\n\tfontStyle?: MarkEncoding<number>\n\tlimit?: MarkEncoding<number>\n\tradius?: MarkEncoding<number>\n\ttext?: MarkEncoding<string>\n\ttheta?: MarkEncoding<number>\n}\n\n/**\n * Text Mark Component\n * @category Mark\n */\nexport const Text = createMarkComponent<TextProps>(\n\tMarkType.Text,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.align, props.align)\n\t\t}, [mark, props.align])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.angle, props.angle)\n\t\t}, [mark, props.angle])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.baseline, props.baseline)\n\t\t}, [mark, props.baseline])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.dir, props.dir)\n\t\t}, [mark, props.dir])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.dx, props.dx)\n\t\t}, [mark, props.dx])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.dy, props.dy)\n\t\t}, [mark, props.dy])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.ellipsis, props.ellipsis)\n\t\t}, [mark, props.ellipsis])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.font, props.font)\n\t\t}, [mark, props.font])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.fontWeight, props.fontWeight)\n\t\t}, [mark, props.fontWeight])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.fontVariant, props.fontVariant)\n\t\t}, [mark, props.fontVariant])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.fontStyle, props.fontStyle)\n\t\t}, [mark, props.fontStyle])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.limit, props.limit)\n\t\t}, [mark, props.limit])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.radius, props.radius)\n\t\t}, [mark, props.radius])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.text, props.text)\n\t\t}, [mark, props.text])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.theta, props.theta)\n\t\t}, [mark, props.theta])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tSymbolType,\n\tMarkEncodingKey,\n\tMarkEncoding,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * Symbol Mark Component Props\n * @category Mark\n */\nexport interface SymbolProps extends CommonMarkProps {\n\tsize?: MarkEncoding<number>\n\tshape?: MarkEncoding<SymbolType | string>\n}\n\n/**\n * Symbol Mark Component\n * @category Mark\n */\nexport const Symbol = createMarkComponent<SymbolProps>(\n\tMarkType.Symbol,\n\t(mark: MarkBuilder, props) => {\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.size, props.size)\n\t\t}, [mark, props.size])\n\t\tuseEffect(() => {\n\t\t\tmark.encode(MarkEncodingKey.shape, props.shape)\n\t\t}, [mark, props.shape])\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { MarkBuilder } from '@chart-parts/builder'\nimport {\n\tMarkType,\n\tSymbolType,\n\tMarkEncoding,\n\tMarkEncodingKey,\n} from '@chart-parts/interfaces'\nimport { useEffect } from 'react'\nimport { CommonMarkProps } from '../types'\nimport { createMarkComponent } from './BaseMark'\n\n/**\n * SymbolOfType Component Props\n * @category Mark\n */\nexport interface SymbolOfTypeProps extends CommonMarkProps {\n\tsize?: MarkEncoding<number>\n}\n\n/**\n * A factory function for creating a symbol component\n * @param shape The shape to use\n */\nfunction createSymbolMark(shape: SymbolType) {\n\treturn createMarkComponent<SymbolOfTypeProps>(\n\t\tMarkType.Symbol,\n\t\t(mark: MarkBuilder, props) => {\n\t\t\tuseEffect(() => {\n\t\t\t\tmark.encode(MarkEncodingKey.size, props.size)\n\t\t\t}, [mark, props.size])\n\t\t\tuseEffect(() => {\n\t\t\t\tmark.encode(MarkEncodingKey.shape, shape)\n\t\t\t}, [mark])\n\t\t},\n\t)\n}\n\n/**\n * Circle Symbol Component\n * @category Mark\n */\nexport const Circle = createSymbolMark(SymbolType.Circle)\n\n/**\n * Cross Symbol Component\n * @category Mark\n */\nexport const Cross = createSymbolMark(SymbolType.Cross)\n\n/**\n * Diamond Symbol Component\n * @category Mark\n */\nexport const Diamond = createSymbolMark(SymbolType.Diamond)\n\n/**\n * Square Symbol Component\n * @category Mark\n */\nexport const Square = createSymbolMark(SymbolType.Square)\n\n/**\n * Triangle-Down Symbol Component\n * @category Mark\n */\nexport const TriangleDown = createSymbolMark(SymbolType.TriangleDown)\n\n/**\n * Triangle-Up Symbol Component\n * @category Mark\n */\nexport const TriangleUp = createSymbolMark(SymbolType.TriangleUp)\n\n/**\n * Triangle-Left Symbol Component\n * @category Mark\n */\nexport const TriangleLeft = createSymbolMark(SymbolType.TriangleLeft)\n\n/**\n * Triangle-Right Symbol Component\n * @category Mark\n */\nexport const TriangleRight = createSymbolMark(SymbolType.TriangleRight)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ChartRendererContext } from './Context'\nexport * from './Chart'\nexport * from './Axis'\nexport * from './types'\nexport * from './scales'\nexport * from './marks'\n\n/**\n * A function that provides the charting renderer implementation\n * to use across the application.\n * @category Chart\n */\nexport const ChartingProvider = ChartRendererContext.Provider\nexport { Dimension } from '@chart-parts/interfaces'\nexport { CategoricalColorScheme } from '@chart-parts/scales'\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tScaleCreationContext,\n\tScales,\n\tScaleBuilder,\n} from '@chart-parts/interfaces'\nimport get from 'lodash/get'\nexport type DomainCreator<Domain> = (args: ScaleCreationContext) => Domain\n\nexport abstract class DomainScale<Domain> implements ScaleBuilder {\n\tprotected bindDomainValue?: string\n\tprotected domainValue?: DomainCreator<Domain>\n\tprotected nameValue?: string\n\n\t/**\n\t * Sets the name of the scale\n\t * @param value The name of the scale\n\t */\n\tpublic name(value?: string): this {\n\t\tthis.nameValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * Sets the domain of the scale\n\t * @param arg The domain argument\n\t */\n\tpublic domain(arg?: string | DomainCreator<Domain> | Domain): this {\n\t\tif (typeof arg === 'function') {\n\t\t\tthis.domainValue = arg as DomainCreator<Domain>\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tthis.domainValue = () => arg as Domain\n\t\t} else if (arg !== undefined && typeof arg === 'string') {\n\t\t\tthis.bindDomainValue = arg as string\n\t\t} else {\n\t\t\tthis.domainValue = undefined\n\t\t\tthis.bindDomainValue = undefined\n\t\t}\n\t\treturn this\n\t}\n\n\tpublic build = (arg: ScaleCreationContext) => {\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be defined')\n\t\t}\n\t\treturn this.createScale(arg)\n\t}\n\n\tprotected abstract createScale(args: ScaleCreationContext): Scales\n\n\t/**\n\t * Gets the default domain to use\n\t */\n\tprotected get defaultDomain(): Domain {\n\t\t// the default will be the unit domain\n\t\treturn [0, 1] as any as Domain\n\t}\n\n\tprotected processDomainValues(values: any[]): Domain {\n\t\treturn values as any as Domain\n\t}\n\n\tprotected getDomain(args: ScaleCreationContext): Domain {\n\t\tif (this.domainValue) {\n\t\t\treturn this.domainValue(args)\n\t\t} else if (!this.tableBind && !this.fieldBind) {\n\t\t\t// If there's no value and no binding, use the default\n\t\t\treturn this.defaultDomain\n\t\t} else {\n\t\t\treturn this.getDomainFromTableBinding(args)\n\t\t}\n\t}\n\n\tprivate getDomainFromTableBinding(args: ScaleCreationContext): Domain {\n\t\tconst table = this.tableBind\n\t\tconst field = this.fieldBind\n\t\tif (!table || !field) {\n\t\t\tthrow new Error(\n\t\t\t\t'Domain scale domain bind must have a table and field accessor name. The expected format is <table>.<field>',\n\t\t\t)\n\t\t}\n\t\tconst data = args.data[table]\n\t\tif (!data) {\n\t\t\tthrow new Error(`DomainScale could not find source table ${table}`)\n\t\t}\n\t\tconst domainValues = data.map((d: any) => get(d, field))\n\t\tconst result = this.processDomainValues(domainValues)\n\t\treturn result\n\t}\n\n\tprotected get bindDomainArray(): string[] {\n\t\tconst bindDomain = this.bindDomainValue\n\t\tif (!bindDomain) {\n\t\t\tthrow new Error('Either bindDomain or domain must be set')\n\t\t}\n\t\treturn typeof bindDomain === 'string'\n\t\t\t? [bindDomain]\n\t\t\t: (bindDomain as string[])\n\t}\n\n\tprivate get tableBind(): string | undefined {\n\t\tconst bind = this.bindDomainValue\n\t\tif (!bind) {\n\t\t\treturn undefined\n\t\t}\n\t\tconst splitIndex = bind.indexOf('.')\n\t\tif (splitIndex === -1) {\n\t\t\treturn undefined\n\t\t}\n\t\tconst tableName = bind.slice(0, splitIndex)\n\t\treturn tableName\n\t}\n\n\tprivate get fieldBind() {\n\t\tconst bind = this.bindDomainValue\n\t\tif (!bind) {\n\t\t\treturn undefined\n\t\t}\n\t\tconst splitIndex = bind.indexOf('.')\n\t\tif (splitIndex === -1) {\n\t\t\treturn undefined\n\t\t}\n\t\tconst filedName = bind.slice(splitIndex + 1)\n\t\treturn filedName\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nexport function optionalArgument<T>(\n\tvalue: T | undefined,\n\targLength: number,\n\tdefaultWithoutArg: T,\n\tdefaultWithArg: T,\n): T {\n\treturn argLength === 0\n\t\t? defaultWithoutArg\n\t\t: value === undefined\n\t\t? defaultWithArg\n\t\t: value\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ScaleCreationContext } from '@chart-parts/interfaces'\nimport reverse from 'lodash/reverse'\nimport { DomainScale } from './DomainScale'\nimport { optionalArgument } from './util'\n\nexport abstract class DomainRangeScale<\n\tDomain,\n\tRange,\n\tRangeBind,\n> extends DomainScale<Domain> {\n\tprotected bindRangeValue?: RangeBind\n\tprotected rangeValue?: (args: ScaleCreationContext) => Range\n\tprotected reverseValue?: boolean\n\n\tpublic range(\n\t\targ?: RangeBind | ((args: ScaleCreationContext) => Range) | Range,\n\t): this {\n\t\tif (typeof arg === 'function') {\n\t\t\tthis.rangeValue = arg as (args: ScaleCreationContext) => Range\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tthis.rangeValue = () => arg as Range\n\t\t} else if (typeof arg !== undefined) {\n\t\t\tthis.bindRangeValue = arg as RangeBind\n\t\t} else {\n\t\t\tthis.rangeValue = undefined\n\t\t\tthis.bindRangeValue = undefined\n\t\t}\n\t\treturn this\n\t}\n\n\tpublic reverse(reversed?: boolean): this {\n\t\tthis.reverseValue = optionalArgument(\n\t\t\treversed,\n\t\t\targuments.length,\n\t\t\ttrue,\n\t\t\tfalse,\n\t\t)\n\t\treturn this\n\t}\n\tprotected abstract handleRangeBind(\n\t\targs: ScaleCreationContext,\n\t\tbind: RangeBind,\n\t): Range\n\n\tprotected getRange(args: ScaleCreationContext): Range {\n\t\tconst range = this.determineRange(args)\n\t\tconst result = this.reverseValue ? this.reverseRange(range) : range\n\t\treturn result\n\t}\n\n\tprotected reverseRange(range: Range): Range {\n\t\tconst result: any = [...(range as any)]\n\t\treturn reverse(result) as Range\n\t}\n\n\tprotected get defaultRange(): Range {\n\t\treturn [0, 1] as any as Range\n\t}\n\n\tprivate determineRange(args: ScaleCreationContext): Range {\n\t\tif (this.rangeValue) {\n\t\t\treturn this.rangeValue(args)\n\t\t} else {\n\t\t\tconst bindRange = this.bindRangeValue\n\t\t\tif (!bindRange) {\n\t\t\t\treturn this.defaultRange\n\t\t\t} else {\n\t\t\t\treturn this.handleRangeBind(args, bindRange as RangeBind)\n\t\t\t}\n\t\t}\n\t}\n}\n","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nexport default function (values, valueof) {\n  var min;\n  var max;\n\n  if (valueof === undefined) {\n    var _iterator = _createForOfIteratorHelper(values),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n\n        if (value != null) {\n          if (min === undefined) {\n            if (value >= value) min = max = value;\n          } else {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else {\n    var index = -1;\n\n    var _iterator2 = _createForOfIteratorHelper(values),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _value = _step2.value;\n\n        if ((_value = valueof(_value, ++index, values)) != null) {\n          if (min === undefined) {\n            if (_value >= _value) min = max = _value;\n          } else {\n            if (min > _value) min = _value;\n            if (max < _value) max = _value;\n          }\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n\n  return [min, max];\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext } from '@chart-parts/interfaces'\nimport { extent } from 'd3-array'\nimport { scaleQuantize, ScaleQuantize } from 'd3-scale'\nimport { DomainRangeScale } from './DomainRangeScale'\nimport { QuantitativeValue } from './quantitative/QuantitativeScale'\nimport { optionalArgument } from './util'\n\nexport class QuantizeScale<\n\tDomainValue extends QuantitativeValue,\n\tRangeValue extends QuantitativeValue,\n> extends DomainRangeScale<[DomainValue, DomainValue], RangeValue[], any> {\n\tprotected niceValue?: number | boolean\n\tprotected zeroValue?: boolean\n\n\tpublic handleRangeBind(): any[] {\n\t\tthrow new Error('cannot use range binding on Quantize scale')\n\t}\n\n\t/**\n\t * Extends the domain so that it starts and ends on nice round values.\n\t */\n\tpublic nice(value?: number | boolean): this {\n\t\tthis.niceValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\t/**\n\t * Boolean flag indicating if the scale domain should include zero.\n\t * The default value is true for linear, sqrt and pow, and false otherwise.\n\t */\n\n\tpublic zero(value?: boolean): this {\n\t\tthis.zeroValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\tpublic createScale(args: ScaleCreationContext) {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\n\t\tconst scale: ScaleQuantize<RangeValue> = scaleQuantize()\n\t\t\t.domain(domain)\n\t\t\t.range(range as any) as ScaleQuantize<RangeValue>\n\n\t\tthis.applyNice(scale)\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be defined')\n\t\t}\n\t\treturn {\n\t\t\t[this.nameValue]: scale,\n\t\t}\n\t}\n\n\tprotected processDomainValues(\n\t\tvalues: QuantitativeValue[],\n\t): [DomainValue, DomainValue] {\n\t\tconst result = extent(values as any[]) as [DomainValue, DomainValue]\n\n\t\tif (this.zeroValue && !this.domainContainsZero(result)) {\n\t\t\tconst [min, max] = result\n\t\t\tconst zero = 0 as DomainValue\n\t\t\treturn 0 < min ? [zero, max] : [min, zero]\n\t\t}\n\t\treturn result\n\t}\n\n\tprotected domainContainsZero(domain: [DomainValue, DomainValue]) {\n\t\treturn 0 >= domain[0] && 0 <= domain[1]\n\t}\n\n\tprivate applyNice(scale: ScaleQuantize<RangeValue>) {\n\t\tconst v = this.niceValue\n\t\tif (v != null) {\n\t\t\tif (v === true) {\n\t\t\t\tscale.nice()\n\t\t\t} else if (typeof v === 'number') {\n\t\t\t\tscale.nice(v)\n\t\t\t}\n\t\t}\n\t}\n}\n","import _slicedToArray from \"/home/runner/work/chart-parts/chart-parts/.yarn/cache/@babel-runtime-npm-7.15.4-52ce5bf6ea-c408254304.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { range as sequence } from \"d3-array\";\nimport { initRange } from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function (_) {\n    var _ref, _ref2;\n\n    return arguments.length ? ((_ref = _, _ref2 = _slicedToArray(_ref, 2), r0 = _ref2[0], r1 = _ref2[1], _ref), r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function (_) {\n    var _ref3, _ref4;\n\n    return (_ref3 = _, _ref4 = _slicedToArray(_ref3, 2), r0 = _ref4[0], r1 = _ref4[1], _ref3), r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n\n  scale.step = function () {\n    return step;\n  };\n\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function () {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Dimension } from '@chart-parts/interfaces'\n\nexport function getBoundRange(\n\targs: ScaleCreationContext,\n\trangeBind: Dimension,\n): [number, number] {\n\tconst {\n\t\tviewBounds: { x, y },\n\t} = args\n\n\t// If an origin is defined, this will use the origin in the scale calculations\n\treturn rangeBind === Dimension.Height ? y : x\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tScaleCreationContext,\n\tDimension,\n\tScales,\n\tScale,\n} from '@chart-parts/interfaces'\nimport { scaleBand } from 'd3-scale'\nimport { DomainRangeScale } from '../DomainRangeScale'\nimport { getBoundRange } from '../getBoundRange'\n\nexport interface BandScaleProps {\n\t/**\n\t * The name of the band-width static scale\n\t */\n\tbandWidth?: string\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpadding?: number\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpaddingInner?: number\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpaddingOuter?: number\n\n\t/**\n\t * Bin alignment 0-beginning, 1=end\n\t */\n\talign?: number\n}\n\nexport class BandScale extends DomainRangeScale<\n\tstring[],\n\t[number, number],\n\tDimension\n> {\n\tprivate paddingValue?: number\n\tprivate paddingInnerValue?: number\n\tprivate paddingOuterValue?: number\n\tprivate alignValue?: number\n\tprivate bandwidthValue?: string\n\tprivate roundValue?: boolean\n\n\t/**\n\t * The name of the band-width static scale\n\t */\n\tpublic bandwidthName(value?: string): this {\n\t\tthis.bandwidthValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpublic padding(value?: number): this {\n\t\tthis.paddingValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * The inner padding value\n\t */\n\tpublic paddingInner(value?: number): this {\n\t\tthis.paddingInnerValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * The outer padding value\n\t */\n\tpublic paddingOuter(value?: number): this {\n\t\tthis.paddingOuterValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * Bin alignment 0-beginning, 1=end\n\t */\n\tpublic align(value?: number): this {\n\t\tthis.alignValue = value\n\t\treturn this\n\t}\n\n\tpublic round(value?: boolean): this {\n\t\tthis.roundValue = value\n\t\treturn this\n\t}\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\t\tconst bandscale = scaleBand()\n\t\t\t.domain(domain.map(d => '' + d))\n\t\t\t.range(range)\n\n\t\tif (this.alignValue) {\n\t\t\tbandscale.align(this.alignValue)\n\t\t}\n\t\tif (this.paddingValue) {\n\t\t\tbandscale.padding(this.paddingValue)\n\t\t}\n\t\tif (this.paddingOuterValue) {\n\t\t\tbandscale.paddingOuter(this.paddingOuterValue)\n\t\t}\n\t\tif (this.paddingInnerValue) {\n\t\t\tbandscale.paddingInner(this.paddingInnerValue)\n\t\t}\n\t\tif (this.roundValue) {\n\t\t\tbandscale.round(this.roundValue)\n\t\t}\n\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be defined')\n\t\t}\n\t\tconst result: Scales = { [this.nameValue]: bandscale }\n\t\tif (this.bandwidthValue) {\n\t\t\tresult[this.bandwidthValue as string] = bandscale.bandwidth as Scale<\n\t\t\t\tany,\n\t\t\t\tnumber\n\t\t\t>\n\t\t}\n\t\treturn result\n\t}\n\n\tprotected handleRangeBind(\n\t\targs: ScaleCreationContext,\n\t\trangeBind: Dimension,\n\t): [number, number] {\n\t\treturn getBoundRange(args, rangeBind)\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nconst category10 = [\n\t'#1f77b4',\n\t'#ff7f0e',\n\t'#2ca02c',\n\t'#d62728',\n\t'#9467bd',\n\t'#8c564b',\n\t'#e377c2',\n\t'#7f7f7f',\n\t'#bcbd22',\n\t'#17becf',\n]\n\nconst category20 = [\n\t'#1f77b4',\n\t'#aec7e8',\n\t'#ff7f0e',\n\t'#ffbb78',\n\t'#2ca02c',\n\t'#98df8a',\n\t'#d62728',\n\t'#ff9896',\n\t'#9467bd',\n\t'#c5b0d5',\n\t'#8c564b',\n\t'#c49c94',\n\t'#e377c2',\n\t'#f7b6d2',\n\t'#7f7f7f',\n\t'#c7c7c7',\n\t'#bcbd22',\n\t'#dbdb8d',\n\t'#17becf',\n\t'#9edae5',\n]\n\nconst category20b = [\n\t'#393b79',\n\t'#5254a3',\n\t'#6b6ecf',\n\t'#9c9ede',\n\t'#637939',\n\t'#8ca252',\n\t'#b5cf6b',\n\t'#cedb9c',\n\t'#8c6d31',\n\t'#bd9e39',\n\t'#e7ba52',\n\t'#e7cb94',\n\t'#843c39',\n\t'#ad494a',\n\t'#d6616b',\n\t'#e7969c',\n\t'#7b4173',\n\t'#a55194',\n\t'#ce6dbd',\n\t'#de9ed6',\n]\n\nconst category20c = [\n\t'#3182bd',\n\t'#6baed6',\n\t'#9ecae1',\n\t'#c6dbef',\n\t'#e6550d',\n\t'#fd8d3c',\n\t'#fdae6b',\n\t'#fdd0a2',\n\t'#31a354',\n\t'#74c476',\n\t'#a1d99b',\n\t'#c7e9c0',\n\t'#756bb1',\n\t'#9e9ac8',\n\t'#bcbddc',\n\t'#dadaeb',\n\t'#636363',\n\t'#969696',\n\t'#bdbdbd',\n\t'#d9d9d9',\n]\n\nexport enum CategoricalColorScheme {\n\tcategory10 = 'category10',\n\tcategory20 = 'category20',\n\tcategory20b = 'category20b',\n\tcategory20c = 'category20c',\n}\n\nexport const colorSchemeMap = new Map<CategoricalColorScheme, any>()\ncolorSchemeMap.set(CategoricalColorScheme.category10, category10)\ncolorSchemeMap.set(CategoricalColorScheme.category20, category20)\ncolorSchemeMap.set(CategoricalColorScheme.category20b, category20b)\ncolorSchemeMap.set(CategoricalColorScheme.category20c, category20c)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scaleOrdinal } from 'd3-scale'\nimport { DomainScale } from '../DomainScale'\nimport { colorSchemeMap, CategoricalColorScheme } from '../colorSchemeMap'\n\nexport class OrdinalScale<RangeType> extends DomainScale<string[]> {\n\tprivate rangeValue?: RangeType[]\n\tprivate colorSchemeValue?: CategoricalColorScheme\n\n\t/**\n\t * The range of values to map to\n\t */\n\tpublic range(value?: RangeType[]): this {\n\t\tthis.rangeValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * The color scheme to use as the target ordinal domain\n\t */\n\tpublic colorScheme(value?: CategoricalColorScheme): this {\n\t\tthis.colorSchemeValue = value\n\t\treturn this\n\t}\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange()\n\t\tconst scale = (\n\t\t\tthis.rangeValue ? scaleOrdinal(this.rangeValue) : scaleOrdinal()\n\t\t)\n\t\t\t.domain(domain)\n\t\t\t.range(range)\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be defined')\n\t\t}\n\t\treturn { [this.nameValue]: scale }\n\t}\n\n\tprotected getRange() {\n\t\tif (this.colorSchemeValue) {\n\t\t\treturn colorSchemeMap.get(this.colorSchemeValue)\n\t\t} else if (this.rangeValue) {\n\t\t\treturn this.rangeValue\n\t\t} else {\n\t\t\tthrow new Error('either colorScheme or domain must be set')\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tDimension,\n\tScaleCreationContext,\n\tScales,\n\tScale,\n} from '@chart-parts/interfaces'\nimport { scalePoint } from 'd3-scale'\nimport { DomainRangeScale } from '../DomainRangeScale'\nimport { getBoundRange } from '../getBoundRange'\nimport { optionalArgument } from '../util'\n\nexport class PointScale extends DomainRangeScale<\n\tstring[],\n\t[number, number],\n\tDimension\n> {\n\tprivate alignValue?: number\n\tprivate paddingValue?: number\n\tprivate roundValue?: boolean\n\tprivate stepNameValue?: string\n\n\t/**\n\t * Bin alignment 0-beginning, 1=end\n\t */\n\tpublic align(value?: number): this {\n\t\tthis.alignValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * The outer and inner padding value\n\t */\n\tpublic padding(value?: number): this {\n\t\tthis.paddingValue = value\n\t\treturn this\n\t}\n\n\tpublic round(value?: boolean): this {\n\t\tthis.roundValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\tpublic stepName(value?: string): this {\n\t\tthis.stepNameValue = value\n\t\treturn this\n\t}\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst scale = scalePoint()\n\t\t\t.domain(this.getDomain(args))\n\t\t\t.range(this.getRange(args))\n\n\t\tif (this.paddingValue !== undefined) {\n\t\t\tscale.padding(this.paddingValue)\n\t\t}\n\n\t\tif (this.alignValue !== undefined) {\n\t\t\tscale.align(this.alignValue)\n\t\t}\n\n\t\tif (this.roundValue !== undefined) {\n\t\t\tscale.round(this.roundValue)\n\t\t}\n\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be defined')\n\t\t}\n\t\tconst result: Scales = { [this.nameValue]: scale }\n\t\tif (this.stepNameValue) {\n\t\t\tresult[this.stepNameValue as string] = scale.step as Scale<any, number>\n\t\t}\n\t\treturn result\n\t}\n\n\tprotected handleRangeBind(\n\t\targs: ScaleCreationContext,\n\t\trangeBind: Dimension,\n\t): [number, number] {\n\t\treturn getBoundRange(args, rangeBind)\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Dimension } from '@chart-parts/interfaces'\nimport { extent } from 'd3-array'\nimport { interpolateRound } from 'd3-interpolate'\nimport { DomainRangeScale } from '../DomainRangeScale'\nimport { getBoundRange } from '../getBoundRange'\nimport { optionalArgument } from '../util'\nexport type TimeValue = QuantitativeValue | Date\nexport type QuantitativeValue = number | { valueOf(): number }\nexport type QuantitativeSpan = [QuantitativeValue, QuantitativeValue]\n\nexport abstract class QuantitativeScale<\n\tDomainValue extends QuantitativeValue,\n\tRangeValue extends QuantitativeValue,\n> extends DomainRangeScale<\n\t[DomainValue, DomainValue],\n\t[RangeValue, RangeValue],\n\tDimension\n> {\n\tprotected defaultZero = false\n\tprotected clampValue?: boolean\n\tprotected niceValue?: boolean | number | string | Record<string, any>\n\tprotected zeroValue?: boolean\n\tprotected paddingValue?: number\n\tprotected roundValue?: boolean\n\n\t/**\n\t * A boolean indicating if output values should be clamped to the range (default false).\n\t * If clamping is disabled and the scale is passed a value outside the domain, the scale\n\t *  may return a value outside the range through extrapolation. If clamping is enabled,\n\t * the output value of the scale is always within the scale’s range.\n\t */\n\tpublic clamp(value?: boolean): this {\n\t\tthis.clampValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\t/**\n\t * Extends the domain so that it starts and ends on nice round values.\n\t */\n\tpublic nice(value?: boolean | number | string | Record<string, any>): this {\n\t\tthis.niceValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\t/**\n\t * Extends the domain so that it starts and ends on nice round values.\n\t */\n\tpublic round(value?: boolean): this {\n\t\tthis.roundValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\t/**\n\t * Adjusts the range of the scale to account for a pixel-padding on each end.\n\t * @param paddingValue The number of pixels to pad each end of the scale's range with.\n\t */\n\tpublic padding(paddingValue?: number): this {\n\t\tthis.paddingValue = paddingValue\n\t\treturn this\n\t}\n\n\t/**\n\t * Boolean flag indicating if the scale domain should include zero.\n\t * The default value is true for linear, sqrt and pow, and false otherwise.\n\t */\n\n\tpublic zero(value?: boolean): this {\n\t\tthis.zeroValue = optionalArgument(value, arguments.length, true, false)\n\t\treturn this\n\t}\n\n\tprotected getRange(args: ScaleCreationContext): [RangeValue, RangeValue] {\n\t\tconst range = super.getRange(args)\n\t\tif (this.paddingValue !== undefined) {\n\t\t\tconst [start, end]: any = range\n\t\t\tconst pad = this.paddingValue\n\t\t\tconst newStart = start > end ? start - pad : start + pad\n\t\t\tconst newEnd = end > start ? end - pad : end + pad\n\n\t\t\treturn [newStart, newEnd] as [RangeValue, RangeValue]\n\t\t} else {\n\t\t\treturn range\n\t\t}\n\t}\n\n\tprotected processDomainValues(\n\t\tvalues: QuantitativeValue[],\n\t): [DomainValue, DomainValue] {\n\t\tconst result = extent(values as any[]) as [DomainValue, DomainValue]\n\n\t\tif (this.getZero() && !this.domainContainsZero(result)) {\n\t\t\tconst [min, max] = result\n\t\t\tconst zero = 0 as DomainValue\n\t\t\treturn 0 < min ? [zero, max] : [min, zero]\n\t\t}\n\t\treturn result\n\t}\n\n\tprotected domainContainsZero(domain: [DomainValue, DomainValue]) {\n\t\treturn 0 >= domain[0] && 0 <= domain[1]\n\t}\n\n\tprotected getZero() {\n\t\treturn this.zeroValue !== undefined ? this.zeroValue : this.defaultZero\n\t}\n\n\tprotected handleRangeBind(\n\t\targs: ScaleCreationContext,\n\t\trangeBind: Dimension,\n\t): [RangeValue, RangeValue] {\n\t\treturn getBoundRange(args, rangeBind) as [RangeValue, RangeValue]\n\t}\n\n\tprotected addCommonProperties(scale: any) {\n\t\tif (this.niceValue === true) {\n\t\t\tscale.nice()\n\t\t} else if (this.niceValue !== undefined) {\n\t\t\tscale.nice(this.niceValue)\n\t\t}\n\t\tif (this.clampValue !== undefined) {\n\t\t\tscale.clamp(this.clampValue)\n\t\t}\n\t\tif (this.roundValue === true) {\n\t\t\tscale.interpolate(interpolateRound)\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scaleLinear } from 'd3-scale'\nimport { QuantitativeScale, QuantitativeValue } from './QuantitativeScale'\n\nexport class LinearScale extends QuantitativeScale<QuantitativeValue, number> {\n\tprotected defaultZero = true\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\t\tconst scale = scaleLinear().domain(domain).range(range)\n\n\t\tthis.addCommonProperties(scale)\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn {\n\t\t\t[this.nameValue]: scale,\n\t\t}\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scaleLog } from 'd3-scale'\nimport { QuantitativeScale, QuantitativeValue } from './QuantitativeScale'\n\nconst POS_SENTINEL = 1e-6\nconst NEG_SENTINEL = -1e-6\n\nexport class LogScale extends QuantitativeScale<QuantitativeValue, number> {\n\tprivate baseValue?: number\n\n\tpublic base(value?: number): this {\n\t\tthis.baseValue = value\n\t\treturn this\n\t}\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\t\tconst result = scaleLog().domain(domain).range(range)\n\t\tthis.addCommonProperties(result)\n\n\t\tif (this.baseValue !== undefined) {\n\t\t\tresult.base(this.baseValue)\n\t\t}\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn { [this.nameValue]: result }\n\t}\n\n\t/**\n\t * Use d3's default logscale domain as our default:\n\t * https://github.com/d3/d3-scale#scaleLog\n\t */\n\tprotected get defaultDomain(): [QuantitativeValue, QuantitativeValue] {\n\t\treturn [1, 10]\n\t}\n\n\t/**\n\t * Ensure that the domain is fully positive or negative\n\t * @param values The domain values\n\t */\n\tprotected processDomainValues(\n\t\trawValues: any[],\n\t): [QuantitativeValue, QuantitativeValue] {\n\t\tconst values = super.processDomainValues(rawValues)\n\t\tconst isPositive = values[0] > 0 || values[1] > 0\n\t\tconst isNegative = values[0] < 0 || values[1] < 0\n\t\tif (isPositive && isNegative) {\n\t\t\tthrow new Error(\n\t\t\t\t'logscale domain values must both be either positive or negative',\n\t\t\t)\n\t\t}\n\t\tconst zeroValue = isPositive ? POS_SENTINEL : NEG_SENTINEL\n\n\t\treturn values.map(v => (v === 0 ? zeroValue : v)) as [\n\t\t\tQuantitativeValue,\n\t\t\tQuantitativeValue,\n\t\t]\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scalePow } from 'd3-scale'\nimport { QuantitativeScale, QuantitativeValue } from './QuantitativeScale'\n\nexport class PowScale extends QuantitativeScale<QuantitativeValue, number> {\n\tprotected defaultZero = true\n\n\tprivate exponentValue?: number\n\n\tpublic exponent(value?: number): this {\n\t\tthis.exponentValue = value\n\t\treturn this\n\t}\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\t\tconst result = scalePow().domain(domain).range(range)\n\t\tthis.addCommonProperties(result)\n\n\t\tif (this.exponentValue !== undefined) {\n\t\t\tresult.exponent(this.exponentValue)\n\t\t}\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn { [this.nameValue]: result }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales, Scale } from '@chart-parts/interfaces'\nimport { scaleSequential } from 'd3-scale'\nimport { DomainScale } from '../DomainScale'\nimport { QuantitativeValue, QuantitativeSpan } from './QuantitativeScale'\n\nexport class SequantialScale extends DomainScale<QuantitativeSpan> {\n\tprivate clampValue?: boolean\n\tprivate interpolatorValue?: (t: QuantitativeValue) => any\n\n\tpublic interpolator(value?: (t: QuantitativeValue) => any): this {\n\t\tthis.interpolatorValue = value\n\t\treturn this\n\t}\n\n\t/**\n\t * A boolean indicating if output values should be clamped to the range (default false).\n\t * If clamping is disabled and the scale is passed a value outside the domain, the scale\n\t *  may return a value outside the range through extrapolation. If clamping is enabled,\n\t * the output value of the scale is always within the scale’s range.\n\t */\n\tpublic clamp(value?: boolean): this {\n\t\tthis.clampValue = value\n\t\treturn this\n\t}\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tif (!this.interpolatorValue) {\n\t\t\tthrow new Error('interpolator must be set')\n\t\t}\n\n\t\tconst domain = this.getDomain(args)\n\t\tconst result = scaleSequential(this.interpolatorValue).domain(domain)\n\n\t\tif (this.clampValue !== undefined) {\n\t\t\tresult.clamp(this.clampValue)\n\t\t}\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn {\n\t\t\t[this.nameValue]: result as Scale<QuantitativeValue, any>,\n\t\t} as any as Scales\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scaleSqrt } from 'd3-scale'\nimport { QuantitativeScale, QuantitativeValue } from './QuantitativeScale'\n\nexport class SqrtScale extends QuantitativeScale<QuantitativeValue, number> {\n\tprotected defaultZero = true\n\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\t\tconst result = scaleSqrt().domain(domain).range(range)\n\n\t\tthis.addCommonProperties(result)\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn { [this.nameValue]: result }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scaleTime } from 'd3-scale'\nimport { QuantitativeScale, TimeValue } from './QuantitativeScale'\n\nfunction setType(result: any) {\n\tresult.__scaletype__ = 'time'\n}\n\nexport class TimeScale extends QuantitativeScale<TimeValue, number> {\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\n\t\tconst result = scaleTime().domain(domain).range(range)\n\t\tthis.addCommonProperties(result)\n\t\tsetType(result)\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn { [this.nameValue]: result }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ScaleCreationContext, Scales } from '@chart-parts/interfaces'\nimport { scaleUtc } from 'd3-scale'\nimport { QuantitativeScale, TimeValue } from './QuantitativeScale'\n\nfunction setType(result: any) {\n\tresult.__scaletype__ = 'utc'\n}\n\nexport class UtcScale extends QuantitativeScale<TimeValue, number> {\n\tprotected createScale(args: ScaleCreationContext): Scales {\n\t\tconst domain = this.getDomain(args)\n\t\tconst range = this.getRange(args)\n\t\tconst result = scaleUtc().domain(domain).range(range)\n\t\tthis.addCommonProperties(result)\n\t\tsetType(result)\n\t\tif (!this.nameValue) {\n\t\t\tthrow new Error('scale name must be set')\n\t\t}\n\t\treturn { [this.nameValue]: result }\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { QuantileScale } from './QuantileScale'\nimport { QuantizeScale } from './QuantizeScale'\nimport { BandScale, OrdinalScale, PointScale } from './discrete'\nimport {\n\tLinearScale,\n\tLogScale,\n\tPowScale,\n\tSequantialScale,\n\tSqrtScale,\n\tTimeScale,\n\tUtcScale,\n} from './quantitative'\n\nexport * from './quantitative'\nexport * from './discrete'\nexport * from './QuantizeScale'\nexport * from './QuantileScale'\nexport { CategoricalColorScheme } from './colorSchemeMap'\n\n// Quantitative Scale Factories\nexport const linear = (name: string) => new LinearScale().name(name)\nexport const log = (name: string) => new LogScale().name(name)\nexport const pow = (name: string) => new PowScale().name(name)\nexport const sequential = (name: string) => new SequantialScale().name(name)\nexport const sqrt = (name: string) => new SqrtScale().name(name)\nexport const time = (name: string) => new TimeScale().name(name)\nexport const utc = (name: string) => new UtcScale().name(name)\n\n// Discrete Scale Factories\nexport const band = (name: string, bandwidth?: string) =>\n\tnew BandScale().name(name).bandwidthName(bandwidth)\nexport const ordinal = (name: string) => new OrdinalScale().name(name)\nexport const point = (name: string, step?: string) =>\n\tnew PointScale().name(name).stepName(step)\n\n// Other\nexport const quantize = (name: string) => new QuantizeScale().name(name)\nexport const quantile = (name: string) => new QuantileScale().name(name)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { Item } from './elements'\n\nexport interface ItemConstructor {\n\tITEM_TYPE: string\n\tnew (): Item\n}\n\nconst itemTypeRegistry = new Map<string, ItemConstructor>()\nconst restrictedPropNames = new Set<string>()\nrestrictedPropNames.add('marktype')\n\n/**\n * Registers an item type for use in parsing scene-graphs.\n *\n * @param itemType the name of the item type to register\n * @param ctor The item class representing the item type\n */\nexport function registerItemType(ctor: ItemConstructor) {\n\titemTypeRegistry.set(ctor.ITEM_TYPE, ctor)\n}\n\n/**\n * Creates a new Item-Type instance\n * @param itemType\n */\nexport function createItemType(\n\titemType: string,\n\tprops: { [key: string]: any } = {},\n) {\n\tif (!itemTypeRegistry.has(itemType)) {\n\t\tthrow new Error(`item type ${itemType} not found`)\n\t}\n\tconst ctor = itemTypeRegistry.get(itemType)\n\tif (ctor === undefined) {\n\t\tthrow new Error(`item type ${itemType} constructor not valid`)\n\t}\n\n\t// Create the new instance\n\tconst instance: any = new ctor()\n\n\t// Transfer properties over\n\tObject.keys(props).forEach(propName => {\n\t\tif (!restrictedPropNames.has(propName)) {\n\t\t\tinstance[propName] = props[propName]\n\t\t}\n\t})\n\treturn instance\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGNode, SGNodeType, Metadata } from '@chart-parts/interfaces'\n/**\n * A supertype for every node in the scene. Both marks and items extend this\n */\nexport abstract class SceneNode implements SGNode {\n\tpublic abstract readonly nodetype: SGNodeType\n\n\t/**\n\t * The parent node of this scene node\n\t */\n\tpublic parent?: SGNode\n\n\t/**\n\t * The type of parent we have\n\t */\n\tpublic parentType?: SGNodeType\n\n\t/**\n\t * Metadata about this mark\n\t */\n\tpublic metadata: Metadata = {} as any\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tStrokeCap,\n\tStrokeJoin,\n\tSGItem,\n\tSGNodeType,\n} from '@chart-parts/interfaces'\nimport { SceneNode } from '../SceneNode'\n\nexport abstract class Item extends SceneNode implements SGItem {\n\tpublic abstract readonly itemtype: string\n\n\tpublic nodetype: SGNodeType = SGNodeType.Item\n\n\t/**\n\t * The primary x-coordinate in pixels.\n\t */\n\tpublic x?: number\n\n\t/**\n\t * The secondary x-coordinate in pixels.\n\t */\n\tpublic x2?: number\n\n\t/**\n\t * The center x-coordinate. Incompatible with x and x2.\n\t */\n\tpublic xc?: number\n\n\t/**\n\t * The width of the mark in pixels, if supported.\n\t */\n\tpublic width?: number\n\n\t/**\n\t * The primary y-coordinate in pixels.\n\t */\n\tpublic y?: number\n\n\t/**\n\t * The secondary y-coordinate in pixels.\n\t */\n\tpublic y2?: number\n\n\t/**\n\t * The center y-coordinate. Incompatible with y and y2.\n\t */\n\tpublic yc?: number\n\n\t/**\n\t * The height of the mark in pixels, if supported.\n\t */\n\tpublic height?: number\n\n\t/**\n\t * The mark opacity from 0 (transparent) to 1 (opaque).\n\t */\n\tpublic opacity?: number\n\n\t/**\n\t * The fill color.\n\t */\n\tpublic fill? = 'none'\n\n\t/**\n\t * The fill opacity from 0 (transparent) to 1 (opaque).\n\t */\n\tpublic fillOpacity?: number\n\n\t/**\n\t * The stroke color.\n\t */\n\tpublic stroke? = 'none'\n\n\t/**\n\t * The stroke opacity from 0 (transparent) to 1 (opaque).\n\t */\n\tpublic strokeOpacity?: number\n\n\t/**\n\t * The stroke width in pixels.\n\t */\n\tpublic strokeWidth?: number\n\n\t/**\n\t * The stroke cap for line ending style. One of butt (default), round or square.\n\t */\n\tpublic strokeCap?: StrokeCap = StrokeCap.Butt\n\n\t/**\n\t * An array of [stroke, space] lengths for creating dashed or dotted lines.\n\t */\n\tpublic strokeDash?: [number, number]\n\n\t/**\n\t * The pixel offset at which to start the stroke dash array.\n\t */\n\tpublic strokeDashOffset?: number\n\n\t/**\n\t * The stroke line join method. One of miter (default), round or bevel.\n\t */\n\tpublic strokeJoin?: StrokeJoin = StrokeJoin.Miter\n\n\t/**\n\t * The miter limit at which to bevel a line join.\n\t */\n\tpublic strokeMiterLimit?: number\n\n\t/**\n\t * The mouse cursor used over the mark. Any valid CSS cursor type can be used.\n\t */\n\tpublic cursor?: string\n\n\t/**\n\t * A URL to load upon mouse click. If defined, the mark acts as a hyperlink.\n\t */\n\tpublic href?: string\n\n\t/**\n\t * The tooltip text to show upon mouse hover. If the value is an object (other than a Date or an array),\n\t * then all key-value pairs in the object will be shown in the tooltip, one per line\n\t * (e.g., \"key1: value1\\nkey2: value2\"). Array values will be shown in brackets [value1, value2, ...].\n\t *\n\t * Other values will be coerced to strings. Nested object values will not be recursively printed.\n\t */\n\tpublic tooltip?: any\n\n\t/**\n\t * An integer z-index indicating the layering order of sibling mark items. The default value is 0.\n\t * Higher values (1) will cause marks to be drawn on top of those with lower z-index values. Setting\n\t * the z-index as an encoding property only affects ordering among sibling mark items; it will not change\n\t * the layering relative to other mark definitions. Unlike the mark-level sort property, zindex changes the\n\t * rendering order only; it does not otherwise change mark item order (such as line or area point order).\n\t *\n\t * The most common use of zindex is to ensure that a mark is drawn over its siblings when selected, such as\n\t * by mouse hover.\n\t */\n\tpublic zIndex? = 0\n\n\tpublic ariaTitle?: string\n\tpublic ariaDescription?: string\n\tpublic tabIndex?: number\n\n\t/**\n\t * Event channels are a mapping of event names to their output channel.\n\t */\n\tpublic channels: { [name: string]: string } = {}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGArcItem } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class ArcItem extends Item implements SGArcItem {\n\tpublic static ITEM_TYPE = MarkType.Arc\n\tpublic readonly itemtype = ArcItem.ITEM_TYPE\n\n\tpublic startAngle?: number\n\tpublic endAngle?: number\n\tpublic padAngle?: number\n\tpublic innerRadius?: number\n\tpublic outerRadius?: number\n\tpublic cornerRadius? = 0\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tOrientation,\n\tInterpolation,\n\tSGAreaItem,\n} from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class AreaItem extends Item implements SGAreaItem {\n\tpublic static ITEM_TYPE = MarkType.Area\n\tpublic readonly itemtype = AreaItem.ITEM_TYPE\n\n\tpublic orient?: Orientation = Orientation.Vertical\n\tpublic interpolate: Interpolation = Interpolation.Linear\n\tpublic tension?: number\n\tpublic defined?: boolean\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGMark, SGGroupItem } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class GroupItem extends Item implements SGGroupItem {\n\tpublic static ITEM_TYPE = MarkType.Group\n\tpublic readonly itemtype = GroupItem.ITEM_TYPE\n\n\tpublic clip?: boolean\n\tpublic cornerRadius? = 0\n\tpublic items: Array<SGMark<any>> = []\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, Interpolation, SGLineItem } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class LineItem extends Item implements SGLineItem {\n\tpublic static ITEM_TYPE = MarkType.Line\n\tpublic readonly itemtype = LineItem.ITEM_TYPE\n\n\tpublic interpolate?: Interpolation = Interpolation.Linear\n\tpublic tension?: number\n\tpublic defined?: boolean\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGPathItem } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class PathItem extends Item implements SGPathItem {\n\tpublic static ITEM_TYPE = MarkType.Path\n\tpublic readonly itemtype = PathItem.ITEM_TYPE\n\n\tpublic path?: string\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGRectItem, MarkType } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class RectItem extends Item implements SGRectItem {\n\tpublic static ITEM_TYPE = MarkType.Rect\n\tpublic readonly itemtype = RectItem.ITEM_TYPE\n\n\tpublic cornerRadius? = 0\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGRuleItem } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class RuleItem extends Item implements SGRuleItem {\n\tpublic static ITEM_TYPE = MarkType.Rule\n\tpublic readonly itemtype = RuleItem.ITEM_TYPE\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SymbolType, SGSymbolItem } from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class SymbolItem extends Item implements SGSymbolItem {\n\tpublic static ITEM_TYPE = MarkType.Symbol\n\tpublic readonly itemtype = SymbolItem.ITEM_TYPE\n\n\tpublic size?: number\n\tpublic shape?: SymbolType | string = SymbolType.Circle\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport {\n\tMarkType,\n\tHorizontalAlignment,\n\tVerticalTextAlignment,\n\tTextDirection,\n\tSGTextItem,\n\tFontWeight,\n} from '@chart-parts/interfaces'\nimport { Item } from './Item'\n\nexport class TextItem extends Item implements SGTextItem {\n\tpublic static ITEM_TYPE = MarkType.Text\n\tpublic readonly itemtype = TextItem.ITEM_TYPE\n\n\tpublic align?: HorizontalAlignment = HorizontalAlignment.Left\n\tpublic angle? = 0\n\tpublic baseline?: VerticalTextAlignment = VerticalTextAlignment.Alphabetic\n\tpublic dir?: TextDirection = TextDirection.LTR\n\tpublic dx?: number\n\tpublic dy?: number\n\tpublic ellipsis? = '...'\n\tpublic font?: string\n\tpublic fontSize?: number\n\tpublic fontWeight?: FontWeight\n\tpublic fontVariant?: string | number\n\tpublic fontStyle?: string\n\tpublic limit? = 0\n\tpublic radius? = 0\n\tpublic text?: string\n\tpublic theta?: number\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { registerItemType } from '../../registry'\nimport { ArcItem } from './ArcItem'\nimport { AreaItem } from './AreaItem'\nimport { GroupItem } from './GroupItem'\nimport { LineItem } from './LineItem'\nimport { PathItem } from './PathItem'\nimport { RectItem } from './RectItem'\nimport { RuleItem } from './RuleItem'\nimport { SymbolItem } from './SymbolItem'\nimport { TextItem } from './TextItem'\n\n// Register the core item types\nregisterItemType(ArcItem)\nregisterItemType(AreaItem)\nregisterItemType(GroupItem)\nregisterItemType(LineItem)\nregisterItemType(PathItem)\nregisterItemType(RectItem)\nregisterItemType(RuleItem)\nregisterItemType(SymbolItem)\nregisterItemType(TextItem)\n\nexport * from './Item'\nexport {\n\tArcItem,\n\tAreaItem,\n\tGroupItem,\n\tLineItem,\n\tPathItem,\n\tRectItem,\n\tRuleItem,\n\tSymbolItem,\n\tTextItem,\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGMark, SGNodeType, MarkType } from '@chart-parts/interfaces'\nimport { SceneNode } from './SceneNode'\nimport { Item } from './items/Item'\n\nexport class Mark<T extends Item> extends SceneNode implements SGMark<T> {\n\tpublic readonly nodetype: SGNodeType = SGNodeType.Mark\n\tpublic marktype?: MarkType\n\tpublic items: T[] = []\n\tpublic clip?: boolean\n\tpublic interactive?: boolean\n\tpublic role?: string\n\tpublic name?: string\n\tpublic zIndex?: number\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGMark, SGNodeType } from '@chart-parts/interfaces'\nimport { Mark, Item, GroupItem } from './elements'\nimport { createItemType } from './registry'\n\nconst KNOWN_KEYS = [\n\t'marktype',\n\t'name',\n\t'role',\n\t'interactive',\n\t'clip',\n\t'items',\n\t'zindex',\n\n\t// layout\n\t'x',\n\t'y',\n\t'width',\n\t'height',\n\t'align',\n\t'baseline',\n\n\t// fill\n\t'fill',\n\t'fillOpacity',\n\t'opacity',\n\n\t// stroke\n\t'stroke',\n\t'strokeOpacity',\n\t'strokeWidth',\n\t'strokeCap',\n\n\t// stroke dash\n\t'strokeDash',\n\t'strokeDashOffset',\n\n\t// arc\n\t'startAngle',\n\t'endAngle',\n\t'innerRadius',\n\t'outerRadius',\n\n\t// arc, rect\n\t'cornerRadius',\n\t'padAngle',\n\n\t// area, line\n\t'interpolate',\n\t'tension',\n\t'orient',\n\t'defined',\n\n\t// image\n\t'url',\n\n\t// path\n\t'path',\n\n\t// rule\n\t'x2',\n\t'y2',\n\n\t// symbol\n\t'size',\n\t'shape',\n\n\t// text\n\t'text',\n\t'angle',\n\t'theta',\n\t'radius',\n\t'dx',\n\t'dy',\n\n\t// font\n\t'font',\n\t'fontSize',\n\t'fontWeight',\n\t'fontStyle',\n\t'fontVariant',\n]\n\nexport function sceneToJSON(\n\tscene: Mark<any>,\n\tindent?: string | number | undefined,\n) {\n\treturn JSON.stringify(scene, KNOWN_KEYS, indent)\n}\n\nexport function parseScene(json: string | Record<string, any>): SGMark<any> {\n\tconst scene = typeof json === 'string' ? JSON.parse(json) : json\n\treturn initializeMark(scene) as Mark<any>\n}\n\n/**\n * Unpack a raw scenegraph Mark node into the scenegraph object model\n * @param rawMark The raw mark object\n */\nfunction initializeMark(rawMark: any): SGMark<any> {\n\tconst { marktype, role } = rawMark\n\n\t// Construct the output mark\n\tconst result = new Mark()\n\tresult.marktype = marktype\n\tresult.role = role\n\tresult.items = (rawMark.items || []).map((rawItem: any) => {\n\t\tconst parentType = marktype ? SGNodeType.Mark : SGNodeType.Item\n\n\t\t// Initialize the data for this child node\n\t\tconst item: Item | Mark<any> =\n\t\t\tparentType === SGNodeType.Mark\n\t\t\t\t? initializeItem(marktype, rawItem)\n\t\t\t\t: initializeMark(rawItem)\n\n\t\t// Set parentage information\n\t\titem.parent = result\n\t\titem.parentType = parentType\n\t\treturn item\n\t})\n\tif (Object.prototype.hasOwnProperty.call(rawMark, 'clip')) {\n\t\tresult.clip = rawMark.clip\n\t}\n\tif (Object.prototype.hasOwnProperty.call(rawMark, 'interactive')) {\n\t\tresult.interactive = rawMark.interactive\n\t}\n\treturn result\n}\n\n/**\n * Unpack a raw scenegraph Item node into the scenegraph object model\n * @param marktype The mark type of the item\n * @param rawItem The raw item object\n */\nfunction initializeItem(marktype: string, rawItem: any) {\n\tconst result = createItemType(marktype, rawItem)\n\n\t// If this is a group item, populate the nested marks\n\tif (result.itemtype === GroupItem.ITEM_TYPE) {\n\t\tconst group = result as GroupItem\n\t\tconst items = (rawItem.items || []).map((item: any) => initializeMark(item))\n\t\tgroup.items = items\n\t}\n\n\treturn result\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkType, SGItem, SGMark } from '@chart-parts/interfaces'\nimport { createItem, createMark } from './factory'\n\nexport class MarkBuilder {\n\tprivate itemsValue: SGItem[] = []\n\tprivate clipValue?: boolean\n\tprivate interactiveValue?: boolean\n\tprivate roleValue?: string\n\tprivate nameValue?: string\n\tprivate zIndexValue?: number\n\n\tpublic constructor(public markType: MarkType) {}\n\n\tpublic items(...values: any[]): MarkBuilder {\n\t\tthis.itemsValue.push(\n\t\t\t...values.map(itemProps => createItem(this.markType, itemProps)),\n\t\t)\n\t\treturn this\n\t}\n\n\tpublic clip(value?: boolean): MarkBuilder {\n\t\tthis.clipValue = value\n\t\treturn this\n\t}\n\n\tpublic interactive(value?: boolean): MarkBuilder {\n\t\tthis.interactiveValue = value\n\t\treturn this\n\t}\n\n\tpublic role(value?: string): MarkBuilder {\n\t\tthis.roleValue = value\n\t\treturn this\n\t}\n\n\tpublic name(value?: string): MarkBuilder {\n\t\tthis.nameValue = value\n\t\treturn this\n\t}\n\n\tpublic zIndex(value?: number): MarkBuilder {\n\t\tthis.zIndexValue = value\n\t\treturn this\n\t}\n\n\tpublic build(): SGMark<any> {\n\t\tconst result = createMark(this.markType, this.itemsValue)\n\t\tresult.clip = this.clipValue\n\t\tresult.interactive = this.interactiveValue\n\t\tresult.role = this.roleValue\n\t\tresult.name = this.nameValue\n\t\tresult.zIndex = this.zIndexValue\n\t\treturn result\n\t}\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { SGItem, MarkType } from '@chart-parts/interfaces'\nimport { MarkBuilder } from './MarkBuilder'\nimport * as Elements from './elements'\nimport { createItemType } from './registry'\n\n/**\n *\n * @param markType The type of mark item to create\n * @param item The mark items to add\n */\nexport function createMark(markType: MarkType, items: SGItem[]) {\n\titems.forEach((item, index) => {\n\t\tif (item.itemtype !== markType) {\n\t\t\tthrow new Error(\n\t\t\t\t`Mark type must match the type of it's child items. Mark ${markType}, child ${item.itemtype}@${index}`,\n\t\t\t)\n\t\t}\n\t})\n\tconst result = new Elements.Mark()\n\tresult.marktype = markType\n\tresult.items = items as Elements.Item[]\n\treturn result\n}\n\nexport function createItem(\n\titemType: MarkType,\n\tprops: { [key: string]: any } = {},\n): SGItem {\n\treturn createItemType(itemType, props)\n}\n\nexport function buildMark(markType: MarkType) {\n\treturn new MarkBuilder(markType)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { createGlobalStyle } from 'styled-components'\n\nexport default createGlobalStyle`\nhtml {\n  font-family: \"Josefin Sans\", -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\",\n  \"Helvetica Neue\", Arial, sans-serif;\n  -ms-text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n}\nbody {\n  margin: 0;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  font-family: \"Josefin Sans\", -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\",\n  \"Helvetica Neue\", Arial, sans-serif;\n}\n\n\n#___gatsby {\n  flex: 1;\n  display: flex;\n}\n\n#___gatsby > div{\n  flex: 1;\n  display: flex;\n}\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n  display: block;\n}\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block;\n}\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\nprogress {\n  vertical-align: baseline;\n}\n[hidden],\ntemplate {\n  display: none;\n}\nabbr[title] {\n  border-bottom: none;\n  text-decoration: underline;\n  text-decoration: underline dotted;\n}\nb,\nstrong {\n  font-weight: inherit;\n  font-weight: bolder;\n}\ndfn {\n  font-style: italic;\n}\nh1 {\n  font-size: 2em;\n  margin: .67em 0;\n}\nmark {\n  background-color: #ff0;\n  color: #000;\n}\nsmall {\n  font-size: 80%;\n}\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\nsub {\n  bottom: -.25em;\n}\nsup {\n  top: -.5em;\n}\nimg {\n  border-style: none;\n}\nsvg:not(:root) {\n  overflow: hidden;\n}\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\nfigure {\n  margin: 1em 40px;\n}\nhr {\n  box-sizing: content-box;\n  height: 0;\n  overflow: visible;\n}\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font: inherit;\n  margin: 0;\n}\noptgroup {\n  font-weight: 700;\n}\nbutton,\ninput {\n  overflow: visible;\n}\nbutton,\nselect {\n  text-transform: none;\n}\n[type=reset],\n[type=submit],\nbutton,\nhtml [type=button] {\n  -webkit-appearance: button;\n}\n[type=button]::-moz-focus-inner,\n[type=reset]::-moz-focus-inner,\n[type=submit]::-moz-focus-inner,\nbutton::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n[type=button]:-moz-focusring,\n[type=reset]:-moz-focusring,\n[type=submit]:-moz-focusring,\nbutton:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\nfieldset {\n  border: 1px solid silver;\n  margin: 0 2px;\n  padding: .35em .625em .75em;\n}\nlegend {\n  box-sizing: border-box;\n  color: inherit;\n  display: table;\n  max-width: 100%;\n  padding: 0;\n  white-space: normal;\n}\ntextarea {\n  overflow: auto;\n}\n[type=checkbox],\n[type=radio] {\n  box-sizing: border-box;\n  padding: 0;\n}\n[type=number]::-webkit-inner-spin-button,\n[type=number]::-webkit-outer-spin-button {\n  height: auto;\n}\n[type=search] {\n  -webkit-appearance: textfield;\n  outline-offset: -2px;\n}\n[type=search]::-webkit-search-cancel-button,\n[type=search]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n::-webkit-input-placeholder {\n  color: inherit;\n  opacity: .54;\n}\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  font: inherit;\n}\nhtml {\n  font: 112.5%/1.45em georgia, serif;\n  box-sizing: border-box;\n  overflow-y: scroll;\n}\n* {\n  box-sizing: inherit;\n}\n*:before {\n  box-sizing: inherit;\n}\n*:after {\n  box-sizing: inherit;\n}\nbody {\n  color: hsla(0, 0%, 0%, 0.8);\n  font-family: georgia, serif;\n  font-weight: normal;\n  word-wrap: break-word;\n  font-kerning: normal;\n  -moz-font-feature-settings: \"kern\", \"liga\", \"clig\", \"calt\";\n  -ms-font-feature-settings: \"kern\", \"liga\", \"clig\", \"calt\";\n  -webkit-font-feature-settings: \"kern\", \"liga\", \"clig\", \"calt\";\n  font-feature-settings: \"kern\", \"liga\", \"clig\", \"calt\";\n}\nimg {\n  max-width: 100%;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nh1 {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  color: inherit;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n  font-weight: bold;\n  text-rendering: optimizeLegibility;\n  font-size: 2.25rem;\n  line-height: 1.1;\n}\nh2 {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  color: inherit;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n  font-weight: bold;\n  text-rendering: optimizeLegibility;\n  font-size: 1.62671rem;\n  line-height: 1.1;\n}\nh3 {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  color: inherit;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n  font-weight: bold;\n  text-rendering: optimizeLegibility;\n  font-size: 1.38316rem;\n  line-height: 1.1;\n}\nh4 {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  color: inherit;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n  font-weight: bold;\n  text-rendering: optimizeLegibility;\n  font-size: 1rem;\n  line-height: 1.1;\n}\nh5 {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  color: inherit;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n  font-weight: bold;\n  text-rendering: optimizeLegibility;\n  font-size: 0.85028rem;\n  line-height: 1.1;\n}\nh6 {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  color: inherit;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n  font-weight: bold;\n  text-rendering: optimizeLegibility;\n  font-size: 0.78405rem;\n  line-height: 1.1;\n}\nhgroup {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nul {\n  margin-left: 1.45rem;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  list-style-position: outside;\n  list-style-image: none;\n}\nol {\n  margin-left: 1.45rem;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  list-style-position: outside;\n  list-style-image: none;\n}\ndl {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\ndd {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\np {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nfigure {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\npre {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  font-size: 0.85rem;\n  line-height: 1.42;\n  background: hsla(0, 0%, 0%, 0.04);\n  border-radius: 3px;\n  overflow: auto;\n  word-wrap: normal;\n  padding: 1.45rem;\n}\ntable {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n  font-size: 1rem;\n  line-height: 1.45rem;\n  border-collapse: collapse;\n  width: 100%;\n}\nfieldset {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nblockquote {\n  margin-left: 1.45rem;\n  margin-right: 1.45rem;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nform {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nnoscript {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\niframe {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nhr {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: calc(1.45rem - 1px);\n  background: hsla(0, 0%, 0%, 0.2);\n  border: none;\n  height: 1px;\n}\naddress {\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n  padding-right: 0;\n  padding-top: 0;\n  margin-bottom: 1.45rem;\n}\nb {\n  font-weight: bold;\n}\nstrong {\n  font-weight: bold;\n}\ndt {\n  font-weight: bold;\n}\nth {\n  font-weight: bold;\n}\nli {\n  margin-bottom: calc(1.45rem / 2);\n}\nol li {\n  padding-left: 0;\n}\nul li {\n  padding-left: 0;\n}\nli > ol {\n  margin-left: 1.45rem;\n  margin-bottom: calc(1.45rem / 2);\n  margin-top: calc(1.45rem / 2);\n}\nli > ul {\n  margin-left: 1.45rem;\n  margin-bottom: calc(1.45rem / 2);\n  margin-top: calc(1.45rem / 2);\n}\nblockquote *:last-child {\n  margin-bottom: 0;\n}\nli *:last-child {\n  margin-bottom: 0;\n}\np *:last-child {\n  margin-bottom: 0;\n}\nli > p {\n  margin-bottom: calc(1.45rem / 2);\n}\ncode {\n  font-size: 0.85rem;\n  line-height: 1.45rem;\n}\nkbd {\n  font-size: 0.85rem;\n  line-height: 1.45rem;\n}\nsamp {\n  font-size: 0.85rem;\n  line-height: 1.45rem;\n}\nabbr {\n  border-bottom: 1px dotted hsla(0, 0%, 0%, 0.5);\n  cursor: help;\n}\nacronym {\n  border-bottom: 1px dotted hsla(0, 0%, 0%, 0.5);\n  cursor: help;\n}\nabbr[title] {\n  border-bottom: 1px dotted hsla(0, 0%, 0%, 0.5);\n  cursor: help;\n  text-decoration: none;\n}\nthead {\n  text-align: left;\n}\ntd,\nth {\n  text-align: left;\n  border-bottom: 1px solid hsla(0, 0%, 0%, 0.12);\n  font-feature-settings: \"tnum\";\n  -moz-font-feature-settings: \"tnum\";\n  -ms-font-feature-settings: \"tnum\";\n  -webkit-font-feature-settings: \"tnum\";\n  padding-left: 0.96667rem;\n  padding-right: 0.96667rem;\n  padding-top: 0.725rem;\n  padding-bottom: calc(0.725rem - 1px);\n}\nth:first-child,\ntd:first-child {\n  padding-left: 0;\n}\nth:last-child,\ntd:last-child {\n  padding-right: 0;\n}\ntt,\ncode {\n  background-color: hsla(0, 0%, 0%, 0.04);\n  border-radius: 3px;\n  font-family: \"Roboto Mono\", monospace, Consolas, \"Roboto Mono\", \"Droid Sans Mono\",\n    \"Liberation Mono\", Menlo, Courier, monospace;\n  padding: 0;\n  padding-top: 0.2em;\n  padding-bottom: 0.2em;\n}\npre code {\n  background: none;\n  line-height: 1.42;\n}\ncode:before,\ncode:after,\ntt:before,\ntt:after {\n  letter-spacing: -0.2em;\n  content: \" \";\n}\npre code:before,\npre code:after,\npre tt:before,\npre tt:after {\n  content: \"\";\n}\n@media only screen and (max-width: 480px) {\n  html {\n    font-size: 100%;\n  }\n}\n\n\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { ChartingProvider } from '@chart-parts/react'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\nimport { StaticQuery, graphql } from 'gatsby'\nimport React from 'react'\nimport { Helmet } from 'react-helmet'\nimport styled from 'styled-components'\nimport { SiteMetadata } from '../types'\nimport theme from '../util/theme'\nimport { Header, HEIGHT } from './header/header'\nimport GlobalStyle from './styles'\n\nconst renderer = new Renderer()\n\ninterface LayoutQueryResult {\n\tsite: {\n\t\tsiteMetadata: SiteMetadata\n\t}\n}\n\nexport interface LayoutProps {\n\tsidebar?: JSX.Element\n\ttitle?: string\n}\n\nconst Layout: React.FC<LayoutProps> = ({ sidebar = null, children, title }) => (\n\t<StaticQuery\n\t\tquery={graphql`\n\t\t\tquery SiteTitleQuery {\n\t\t\t\tsite {\n\t\t\t\t\tsiteMetadata {\n\t\t\t\t\t\ttitle\n\t\t\t\t\t\tkeywords\n\t\t\t\t\t\tdescription\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t`}\n\t\trender={({ site: { siteMetadata } }: LayoutQueryResult) => {\n\t\t\treturn (\n\t\t\t\t<React.StrictMode>\n\t\t\t\t\t<Helmet\n\t\t\t\t\t\ttitle={title || siteMetadata.title}\n\t\t\t\t\t\tmeta={getMeta(siteMetadata)}\n\t\t\t\t\t\tlink={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\thref: 'https://fonts.googleapis.com/css?family=Merriweather:300,400&display=swap',\n\t\t\t\t\t\t\t\trel: 'stylesheet',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<html lang=\"en\" />\n\t\t\t\t\t</Helmet>\n\t\t\t\t\t<BodyContent>\n\t\t\t\t\t\t<GlobalStyle />\n\t\t\t\t\t\t<Header showLinks={true} />\n\t\t\t\t\t\t<ContentContainer>\n\t\t\t\t\t\t\t<ChartingProvider value={renderer}>\n\t\t\t\t\t\t\t\t{sidebar ? (\n\t\t\t\t\t\t\t\t\t<SidebarContainer>{sidebar}</SidebarContainer>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<Content>{children}</Content>\n\t\t\t\t\t\t\t</ChartingProvider>\n\t\t\t\t\t\t</ContentContainer>\n\t\t\t\t\t</BodyContent>\n\t\t\t\t</React.StrictMode>\n\t\t\t)\n\t\t}}\n\t/>\n)\n\nfunction getMeta({ description, keywords }: SiteMetadata) {\n\treturn [\n\t\t{ name: 'description', content: description },\n\t\t{ name: 'keywords', content: keywords.join(', ') },\n\t]\n}\n\nconst BodyContent = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n`\n\nconst ContentContainer = styled.div`\n\tdisplay: flex;\n\theight: 100%;\n\tflex-direction: row;\n\talign-items: stretch;\n\tflex: 1;\n\tpadding: 0;\n\tmargin-top: ${HEIGHT}px;\n`\n\nconst Content = styled.div`\n\tmargin: auto;\n\tpadding: 0px 1.0875rem 1.45rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 5;\n\tpadding: 1.45rem;\n\toverflow: scroll;\n`\n\nconst SidebarContainer = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\theight: 100%;\n\tpadding: 1rem;\n\tbackground: ${theme.backgrounds.sidebar};\n`\n\nexport default Layout\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["a","b","NaN","ascendingBisect","bisectRight","right","left","center","f","delta","compare","x","lo","hi","length","mid","d","ascendingComparator","i","_marked","numbers","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","value","e","_e","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","values","valueof","_iterator","_step","index","_iterator2","_step2","_value","_context","prev","undefined","t0","finish","t1","stop","start","arguments","Math","max","ceil","range","e10","sqrt","e5","e2","count","reverse","ticks","tickIncrement","isFinite","r0","round","r1","_r","_r2","power","floor","log","LN10","error","pow","tickStep","step0","abs","step1","unit","identity","normalize","isNaN","bimap","domain","interpolate","d0","d1","polymap","j","min","r","bisect","copy","source","target","clamp","unknown","transformer","transform","untransform","piecewise","output","input","rescale","t","scale","map","invert","y","_","rangeRound","u","continuous","initRange","this","initInterpolator","interpolator","linearish","tickFormat","specifier","nice","prestep","i0","i1","maxIter","linear","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","p","k","z","push","Infinity","interval","x0","x1","number","implicit","ordinal","Map","key","get","set","has","transformPow","exponent","transformSqrt","transformSquare","powish","apply","quantize","_ref","_ref2","invertExtent","indexOf","thresholds","k10","_ref3","_ref4","sequential","sequentialLog","sequentialSymlog","constant","sequentialPow","sequentialSqrt","transformSymlog","c","sign","log1p","transformSymexp","expm1","symlogish","symlog","precision","type","date","Date","calendar","tickInterval","year","month","week","day","hour","minute","second","format","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","time","utcTime","UTC","Color","_darker","_brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","m","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","h","Hsl","hslConvert","hsl","hsl2rgb","m1","m2","channels","assign","displayable","formatHsl","brighter","darker","factory","extend","parent","definition","create","locale","formatPrefix","thousands","grouping","currency","toLocaleString","replace","formatDecimalParts","toExponential","coefficient","re","formatSpecifier","match","Error","FormatSpecifier","fill","align","symbol","zero","width","comma","prefixExponent","formatDecimal","join","toFixed","toPrecision","_p","formatRounded","toUpperCase","_x","prefixes","group","Number","substring","currencyPrefix","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","padding","genericArray","nb","na","basis","v0","v1","v2","v3","t2","t3","hue","gamma","nogamma","exponential","setTime","isNumberArray","ArrayBuffer","isView","DataView","rgbSpline","spline","colors","rgbGamma","end","rgbBasis","rgbBasisClosed","reA","reB","am","bm","bs","bi","lastIndex","q","one","valueOf","timeFormat","timeParse","utcFormat","utcParse","dateTime","periods","days","shortDays","months","shortMonths","parse","localDate","H","M","S","L","setFullYear","utcDate","setUTCFullYear","newDate","formatLocale","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","getDay","getMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","getHours","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","getUTCDay","getUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","getUTCHours","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","string","w","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","Z","Q","V","getUTCFullYear","getUTCDate","getFullYear","getDate","W","U","X","numberRe","percentRe","requoteRe","requote","names","getMilliseconds","getMinutes","getSeconds","dISO","getTimezoneOffset","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","UTCdISO","setHours","setDate","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","newInterval","floori","offseti","field","offset","previous","filter","every","millisecond","setMonth","ticker","tickIntervals","duration","bisector","_tickIntervals","_ticker","utcMonth","utcWeek","utcDay","utcHour","utcMinute","_ticker2","utcTicks","utcTickInterval","_ticker3","_ticker4","timeTicks","timeTickInterval","setUTCHours","setUTCDate","setUTCMinutes","setUTCSeconds","setUTCMonth","utcWeekday","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcYear","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","timeoutProvider","setTimeout","_setTimeout","args","_i","delegate","clearTimeout","_clearTimeout","handle","reportUnhandledError","onUnhandledError","config","noop","COMPLETE_NOTIFICATION","createNotification","kind","Subscriber","_super","destination","_this","isStopped","add","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","unsubscribe","closed","Subscription","observerOrNext","isFunction","context_1","bind","wrapForErrorHandling","defaultErrorHandler","handler","instance","notification","subscriber","onStoppedNotification","UnsubscriptionError","errors","message","initialTeardown","_parentage","_teardowns","empty","e_1","_a","e_2","_b","_parentage_1","_parentage_1_1","remove","e_1_1","_teardowns_1","_teardowns_1_1","teardown_1","execTeardown","e_2_1","teardown","_hasParent","_addParent","includes","_removeParent","arrRemove","EMPTY","EMPTY_SUBSCRIPTION","isSubscription","Promise","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","item","splice","createErrorClass","createImpl","ctorFunc","stack","context","errorContext","cb","isRoot","errorThrown","captureError","_extendStatics","setPrototypeOf","__proto__","__extends","__","__values","__read","ar","__spreadArray","to","il","module","exports","nativeReverse","array","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","keys","object","pop","skipTempReset","rootRecord","rval","exception","loc","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","observable","pipeFromArray","fns","reduce","Observable","subscribe","_subscribe","lift","operator","isObserver","_trySubscribe","sink","promiseCtor","getPromiseCtor","subscription","pipe","operations","toPromise","ObjectUnsubscribedError","Subject","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","copy_1","copy_1_1","shift","_checkFinalizedStatuses","_innerSubscribe","asObservable","MarkSpec","_channels","_encodings","applyHandler","applyEncoding","encoding","_child","_table","_name","_role","_idGenerator","_facet","SceneNodeSpec","_scales","_marks","_axes","addScale","removeScale","addMark","removeMark","addAxis","removeAxis","SceneNodeBuilder","onChange","spec","markBuilders","axisBuilders","scales","creators","scaleCreator","build","builders","builder","axes","MarkBuilder","table","role","idGenerator","entries","nameVal","handlerVal","encode","first","entryEncoding","facet","MarkType","child","callback","console","warn","_childSubscription","cause","ChartOptionsManager","options","getPadding","paddingType","ariaTitle","ariaDescription","chartWidth","DEFAULT_WIDTH","chartHeight","height","DEFAULT_HEIGHT","paddingLeft","paddingRight","paddingTop","origin","shape","paddingBottom","DEFAULT_AXIS_COLOR","DEFAULT_AXIS_TEXT_COLOR","DEFAULT_AXIS_FONT","AxisSpec","orient","_thickness","_domain","_domainColor","_domainWidth","_ticks","_tickColor","_tickOffset","_tickRound","_tickSize","_tickWidth","_labels","_labelFont","_labelFontSize","_labelColor","_labelPadding","_bandPosition","_scale","_orient","_tickCount","_values","_labelAlign","_labelFontWeight","_labelAngle","_labelFormat","AxisBuilder","domainWidth","domainColor","tickColor","tickCount","tickOffset","tickRound","tickSize","tickWidth","bandPosition","labels","labelFont","labelFontSize","labelColor","labelPadding","labelFontWeight","labelAngle","labelFormat","thickness","scene","opts","optsManager","markWithName","MarkEncodingKey","chartSpace","markType","axis","orientation","SceneFrame","node","data","view","viewTL","viewBR","channelId","channelHandlers","boundDataItem","parentId","pushNode","getRecomputedScales","pushMark","registerChannels","pushData","facetKey","dataFrame","id","pushView","areCoordsEqual","pushBoundDataItem","dataItem","ctx","viewBounds","eventName","registerHandler","crossValue","AxisOrientation","Domain","createContext","maxRange","minRange","domainMinRange","domainMaxRange","domainCross","isScenegraphElementGenerated","createScenegraphElement","rangeProperty","rangeEndProperty","crossProperty","buildMark","items","stroke","strokeWidth","TickLabels","tick","fontSize","font","fontWeight","text","label","labelAlign","HorizontalAlignment","getHorizontalAlignment","baseline","labelBaseline","VerticalTextAlignment","getBaseline","crossPropertyValue","topOrLeft","position","theta","PI","createTickLabel","getTickValues","av","labelFormatter","getTicksFromScaleTicks","getDomainScaleValue","getTicksFromScaleDomain","bandwidth","TickLines","tickCrossStart","getTickCrossStart","tickCrossEnd","getTickCrossEnd","__scaletype__","isTimeScale","getLabelFormatter","crossStart","getCrossStart","crossEnd","getCrossEnd","rangeStart","getRangeStart","crossEndProperty","createTickItem","components","getContext","frame","axisSpace","space","top","bottom","getThickness","axisFrame","axisThickness","availableSpace","viewHeight","viewWidth","getScaleSize","getScaleTL","getScaleBR","scaleName","horizontal","buildAxis","component","createPopulatedContext","groupSize","getGroupSize","getGroupOrigin","buildAxes","remainingSpace","hard","soft","axisWidth","fontPad","getAxisSpace","availableWidth","availableHeight","getRemainingSpace","createBoundItem","row","encodings","getItemId","getEncodingContext","metadata","metadataEncoding","props","transferEncodings","createItem","createItemFromMark","viewSize","itemSpace","getItemSpace","drawRect","nextView","itemFrame","processNode","x2","y2","processMark","markFrame","boundData","sourceTable","facetSourceTable","groupBy","markSourceTable","getKey","groupByKeys","keyGetter","facetMap","markMap","facets","markRow","newFacet","keyRowName","createFacetedData","getBoundData","createItemPerDataRow","newData","createItemPerFacet","createItems","createMark","parentFrame","viewFrame","markItems","marks","createScenegraph","root","optionsManager","rootFrame","Orientation","Interpolation","VerticalAlignment","SymbolType","TextDirection","StrokeCap","StrokeJoin","SGNodeType","Dimension","VSvgTransformType","xc","yc","computeDimension","low","high","span","resultSpan","originX","resultWidth","pi","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","atan2","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","Linear","defined","curve","line","buffer","defined0","lineStart","lineEnd","point","area","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","_line","_point","draw","size","kr","circle","Rectangle","cornerRadius","cr","cmdlen","regexp","segmentCache","temp","current","drawArc","coords","seg","rx","ry","large","sweep","rotateX","th","sin_th","cos_th","px","py","pl","a00","a01","a10","a11","sfactor_sq","sfactor","th0","th_arc","segs","th2","th3","segments","bez","halfSqrt3","drawCircle","radius","drawCross","drawDiamond","drawSquare","drawTriangleUp","drawTriangleDown","drawTriangleLeft","drawTriangleRight","getRadius","builtins","byArea","byWidth","cross","diamond","square","symbols","symbolName","customSymbol","custom","symbolPath","parsed","split","command","chunks","cmd","cmdLength","chunk","param","concat","drawCustom","pathValue","tempX","tempY","tempControlX","tempControlY","controlX","controlY","beginPath","renderPath","def","rectShape","arcShape","padRadius","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","d3Arc","areahShape","d3Area","areavShape","lineShape","d3Lines","symbolWithArea","d3Symbol","symbolWithWidth","that","Basis","BasisClosed","BasisOpen","Bundle","beta","_basis","_beta","_x2","_x3","_x4","_y2","_y3","_y4","_y","bundle","_k","Cardinal","tension","cardinal","CardinalOpen","CardinalClosed","_x5","_y5","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","s0","s1","slope2","MonotoneX","MonotoneY","ReflectContext","Natural","controlPoints","Step","_t","_t0","lookup","curveBundle","curveCardinal","curveCardinalOpen","curveCardinalClosed","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinear","monotone","vertical","natural","curves","curveFactory","rectangle","xOffset","yOffset","translate","assertTypeIs","itemType","marktype","roleClass","emitMarkGroup","children","attrs","className","commonProps","fillOpacity","strokeOpacity","strokeJoin","strokeLinejoin","strokeCap","strokeLinecap","strokeDash","strokeDasharray","strokeDashOffset","strokeDashoffset","tabIndex","ArcRenderer","render","TARGET_MARK_TYPE","nodes","transforms","AreaRenderer","interp","areaItems","ai","firstItem","areaItem","variant","GroupRenderer","lambda","mappedItems","defs","groupRect","groupRectCommonProps","originY","rectItem","groupRectShape","renderGroupRectangle","renderedChild","renderMark","renderChildren","groupDefs","groupChildren","renderGroup","clip","clipId","clipPath","renderGroupClip","nextId","groupWrapper","LineRenderer","lineItem","PathRenderer","RectRenderer","RuleRenderer","SymbolRenderer","alignments","calculateBaseline","alignment","getTextTransforms","angle","calculateTextOrigin","TextRenderer","alignmentBaseline","textAnchor","style","fontFamily","fontStyle","fontVariant","itemRendererRegistry","registerRenderer","markRenderer","renderer","DEFAULT_ORIGIN","VirtualSvgConverter","backgroundColor","Orchestrator","prerenderer","renderScenegraph","rawScene","scenegraph","parseScene","intermediate","renderScene","tables","sg","vdom","createElementFor","handlers","vdomTransforms","reactAttrs","getTransformAttribute","eventId","reactEventName","event","childrenElements","labelledBy","titleId","descId","React","Renderer","SceneBuilderContext","ChartRendererContext","Action","scheduler","work","schedule","delay","intervalProvider","setInterval","_setInterval","clearInterval","_clearInterval","AsyncAction","pending","recycleAsyncId","requestAsyncId","_id","flush","_scheduler","execute","_execute","_delay","errorValue","errored","actions","animationFrameProvider","request","requestAnimationFrame","cancel","cancelAnimationFrame","timestamp","_requestAnimationFrame","_cancelAnimationFrame","AnimationFrameAction","_scheduled","dateTimestampProvider","now","Scheduler","schedulerActionCtor","AnimationFrameScheduler","action","_active","AsyncScheduler","SchedulerAction","animationFrameScheduler","operate","init","hasLift","liftedSource","OperatorSubscriber","onNext","onComplete","onError","onFinalize","Chart","memo","chartOptions","title","description","useMemo","useChartOptions","pipeline","useContext","useState","setBuilder","useChartScenes","frameNode","rendered","setRendered","executeRender","useCallback","renderOutput","useEffect","useScene","Axis","excluded","sourceKeys","api","newAxis","useAxisProps","createDomainScale","createScale","propsToCheck","createDomainRangeScale","createQuantitativeScale","LinearScale","SqrtScale","BandScale","utc","bandWidth","paddingOuter","paddingInner","bandWidthName","band","OrdinalScale","colorScheme","PointScale","stepNameProp","stepName","QuantizeScale","QuantileScale","createMarkComponent","customHook","Result","newMark","useCommonMarkProperties","strokeMiterLimit","cursor","href","tooltip","zIndex","useMarkEncodings","onCopy","onCut","onPaste","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","useMarkChannels","pushdown","currentScene","setCurrentScene","useMarkInScene","Area","Group","Line","Rect","Rule","Text","dir","ellipsis","limit","createSymbolMark","Circle","ChartingProvider","Provider","DomainScale","nameValue","domainValue","bindDomainValue","processDomainValues","getDomain","tableBind","fieldBind","getDomainFromTableBinding","defaultDomain","domainValues","bindDomain","splitIndex","optionalArgument","argLength","defaultWithoutArg","defaultWithArg","DomainRangeScale","rangeValue","bindRangeValue","reversed","reverseValue","getRange","determineRange","reverseRange","bindRange","handleRangeBind","defaultRange","niceValue","zeroValue","scaleQuantize","applyNice","extent","domainContainsZero","ordinalRange","pointish","getBoundRange","rangeBind","CategoricalColorScheme","bandwidthName","bandwidthValue","paddingValue","paddingInnerValue","paddingOuterValue","alignValue","roundValue","bandscale","scaleBand","colorSchemeMap","category10","category20","category20b","category20c","colorSchemeValue","scaleOrdinal","stepNameValue","scalePoint","QuantitativeScale","defaultZero","clampValue","getZero","addCommonProperties","interpolateRound","scaleLinear","LogScale","baseValue","scaleLog","rawValues","isPositive","isNegative","PowScale","exponentValue","scalePow","SequantialScale","interpolatorValue","scaleSequential","scaleSqrt","TimeScale","scaleTime","setType","UtcScale","scaleUtc","itemTypeRegistry","restrictedPropNames","Set","registerItemType","ITEM_TYPE","createItemType","propName","SceneNode","Item","nodetype","ArcItem","itemtype","AreaItem","GroupItem","LineItem","PathItem","RectItem","RuleItem","SymbolItem","TextItem","Mark","json","initializeMark","JSON","rawMark","rawItem","parentType","initializeItem","interactive","itemsValue","itemProps","clipValue","interactiveValue","roleValue","zIndexValue","Elements","createGlobalStyle","BodyContent","styled","ContentContainer","HEIGHT","Content","SidebarContainer","theme","sidebar","query","keywords","siteMetadata","site","Helmet","meta","content","link","rel","lang","showLinks","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_slicedToArray","_s","_arr","_n","_d","unsupportedIterableToArray"],"sourceRoot":""}