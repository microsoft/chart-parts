<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>AggregateBuilder | @chart-parts/transform</title><meta name="description" content="Documentation for @chart-parts/transform"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@chart-parts/transform</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@chart-parts/transform</a></li><li><a href="AggregateBuilder.html">AggregateBuilder</a></li></ul><h1>Interface AggregateBuilder</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>The aggregate transform groups and summarizes an input data stream to produce a derived output stream.
Aggregate transforms can be used to compute counts, sums, averages and other descriptive statistics over
groups of data objects.</p>
</div></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><a href="DatasetTransform.html" class="tsd-signature-type" data-tsd-kind="Interface">DatasetTransform</a><ul class="tsd-hierarchy"><li><span class="target">AggregateBuilder</span></li></ul></li></ul></section><section class="tsd-panel"><h3>Implemented by</h3><ul class="tsd-hierarchy"><li><a href="../classes/AggregateBuilderImpl.html" class="tsd-signature-type" data-tsd-kind="Class">AggregateBuilderImpl</a></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="AggregateBuilder.html#build" class="tsd-kind-icon">build</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#compute" class="tsd-kind-icon">compute</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#cross" class="tsd-kind-icon">cross</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#drop" class="tsd-kind-icon">drop</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#groupBy" class="tsd-kind-icon">group<wbr/>By</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#key" class="tsd-kind-icon">key</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a name="build" class="tsd-anchor"></a><h3>build</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">build<span class="tsd-signature-symbol">(</span>df<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, from<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, ds<span class="tsd-signature-symbol">: </span><a href="DatasetManager.html" class="tsd-signature-type" data-tsd-kind="Interface">DatasetManager</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from <a href="DatasetTransform.html">DatasetTransform</a>.<a href="DatasetTransform.html#build">build</a></p><ul><li>Defined in <a href="https://github.com/microsoft/chart-parts/blob/bca3bad/packages/util-transform/src/facade/interfaces.ts#L15">facade/interfaces.ts:15</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Build the transformation</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>df: <span class="tsd-signature-type">any</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The vega dataflow instance</p>
</div></div></li><li><h5>from: <span class="tsd-signature-type">any</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The vega-dataflow node that is the parent of this node</p>
</div></div></li><li><h5>ds: <a href="DatasetManager.html" class="tsd-signature-type" data-tsd-kind="Interface">DatasetManager</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The chart-parts dataset</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a name="compute" class="tsd-anchor"></a><h3>compute</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">compute<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>fields<span class="tsd-signature-symbol">: </span><a href="AggregateComputeField.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateComputeField</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/microsoft/chart-parts/blob/bca3bad/packages/util-transform/src/facade/aggregate.ts#L144">facade/aggregate.ts:144</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The computed aggregate field specifications</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>fields: <a href="AggregateComputeField.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateComputeField</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a name="cross" class="tsd-anchor"></a><h3>cross</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">cross<span class="tsd-signature-symbol">(</span>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/microsoft/chart-parts/blob/bca3bad/packages/util-transform/src/facade/aggregate.ts#L150">facade/aggregate.ts:150</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Boolean    Indicates if the full cross-product of all groupby values should be included in the aggregate output (default false). If set to true, all possible combinations of groupby field values will be considered and zero count groups will be generated and returned for combinations that do not occur in the data itself. Cross-product output act as if the drop parameter is false. In the case of streaming updates, the number of output groups will increase if new groupby field values are observed; all prior groups will be retained. This parameter can be useful for generating facets that include groups for all possible partitions of the data.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>value: <span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a name="drop" class="tsd-anchor"></a><h3>drop</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">drop<span class="tsd-signature-symbol">(</span>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/microsoft/chart-parts/blob/bca3bad/packages/util-transform/src/facade/aggregate.ts#L155">facade/aggregate.ts:155</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<pre><code><span class="hl-0">Indicates</span><span class="hl-1"> </span><span class="hl-2">if</span><span class="hl-1"> </span><span class="hl-3">empty</span><span class="hl-1"> (</span><span class="hl-0">zero</span><span class="hl-1"> </span><span class="hl-0">count</span><span class="hl-1">) </span><span class="hl-0">groups</span><span class="hl-1"> </span><span class="hl-0">should</span><span class="hl-1"> </span><span class="hl-0">be</span><span class="hl-1"> </span><span class="hl-3">dropped</span><span class="hl-1"> (</span><span class="hl-0">default</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">). </span><span class="hl-0">When</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1"> </span><span class="hl-0">data</span><span class="hl-1"> </span><span class="hl-0">stream</span><span class="hl-1"> </span><span class="hl-3">updates</span><span class="hl-1"> (</span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-0">example</span><span class="hl-1">, </span><span class="hl-4">in</span><span class="hl-1"> </span><span class="hl-0">response</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">interactive</span><span class="hl-1"> </span><span class="hl-0">filtering</span><span class="hl-1">), </span><span class="hl-0">aggregation</span><span class="hl-1"> </span><span class="hl-0">groups</span><span class="hl-1"> </span><span class="hl-0">may</span><span class="hl-1"> </span><span class="hl-0">become</span><span class="hl-1"> </span><span class="hl-0">empty</span><span class="hl-1">. </span><span class="hl-0">By</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1">, </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">group</span><span class="hl-1"> </span><span class="hl-0">is</span><span class="hl-1"> </span><span class="hl-0">removed</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">output</span><span class="hl-1">. </span><span class="hl-0">However</span><span class="hl-1">, </span><span class="hl-4">in</span><span class="hl-1"> </span><span class="hl-0">some</span><span class="hl-1"> </span><span class="hl-3">cases</span><span class="hl-1"> (</span><span class="hl-0">such</span><span class="hl-1"> </span><span class="hl-2">as</span><span class="hl-1"> </span><span class="hl-5">histograms</span><span class="hl-1">), </span><span class="hl-0">one</span><span class="hl-1"> </span><span class="hl-0">may</span><span class="hl-1"> </span><span class="hl-0">wish</span><span class="hl-1"> </span><span class="hl-0">to</span><span class="hl-1"> </span><span class="hl-0">retain</span><span class="hl-1"> </span><span class="hl-0">empty</span><span class="hl-1"> </span><span class="hl-0">groups</span><span class="hl-1">.</span>
</code></pre>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>value: <span class="tsd-signature-type">boolean</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a name="groupBy" class="tsd-anchor"></a><h3>group<wbr/>By</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">group<wbr/>By<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span>fields<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/microsoft/chart-parts/blob/bca3bad/packages/util-transform/src/facade/aggregate.ts#L138">facade/aggregate.ts:138</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The data fields to group by. If not specified, a single group containing all data objects will be used.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagRest">Rest</span> <span class="tsd-signature-symbol">...</span>fields: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a name="key" class="tsd-anchor"></a><h3>key</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface"><li class="tsd-signature tsd-kind-icon">key<span class="tsd-signature-symbol">(</span>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/microsoft/chart-parts/blob/bca3bad/packages/util-transform/src/facade/aggregate.ts#L161">facade/aggregate.ts:161</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>value: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>key    Field    An optional key field used to optimize groupby key calculation. If specified, unique keys for each aggregation cell will not be generated from the groupby fields themselves, but instead use this single key field only. Using a key is helpful to speed up processing in situations where there are multiple groupby fields, but a single field is sufficient to distinguish each aggregation cell. For example, for a histogram it is faster to key solely on a bin0 property, and this is safe when the bin1 property (also included as a groupby field) contains redundant information with respect to grouping. This parameter should be used carefully, and only when one is certain that the key field uniquely distinguishes all combinations of groupby field values.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="AggregateBuilder.html" class="tsd-signature-type" data-tsd-kind="Interface">AggregateBuilder</a></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface"><a href="AggregateBuilder.html" class="tsd-kind-icon">Aggregate<wbr/>Builder</a><ul><li class="tsd-kind-method tsd-parent-kind-interface tsd-is-inherited"><a href="AggregateBuilder.html#build" class="tsd-kind-icon">build</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#compute" class="tsd-kind-icon">compute</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#cross" class="tsd-kind-icon">cross</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#drop" class="tsd-kind-icon">drop</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#groupBy" class="tsd-kind-icon">group<wbr/>By</a></li><li class="tsd-kind-method tsd-parent-kind-interface"><a href="AggregateBuilder.html#key" class="tsd-kind-icon">key</a></li></ul></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="../assets/main.js"></script></body></html>