{"version":3,"sources":["webpack:///../client/interfaces/lib/index.js","webpack:///../processing/scenegraph/lib/elements/items/Item.js","webpack:///../client/react/lib/marks/BaseMark.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///../processing/vsvg/lib/element_renderers/util.js","webpack:///./src/util/theme.ts","webpack:///./src/configs/typography.js","webpack:///../util/scales/lib/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///../processing/scenegraph/lib/index.js","webpack:///../processing/vsvg/lib/element_renderers/interfaces.js","webpack:///./src/components/layout.tsx","webpack:///../processing/vsvg/lib/path/index.js","webpack:///../util/scales/lib/quantitative/QuantitativeScale.js","webpack:///../client/react/lib/scales/quantitative/QuantitativeScale.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header.tsx","webpack:///../client/react/lib/Context.js","webpack:///./src/util/convertGraphqlToc.ts","webpack:///../processing/scenegraph/lib/registry.js","webpack:///../client/builder/lib/index.js","webpack:///../renderers/react-svg/lib/index.js","webpack:///./src/examples/charts/bar-chart.tsx","webpack:///./src/examples/charts/grouped-bar-chart.tsx","webpack:///./src/examples/charts/stacked-bar-chart.tsx","webpack:///./src/examples/charts/index.ts","webpack:///./src/examples/mark-testers/util/chart.tsx","webpack:///./src/examples/mark-testers/util/slider.tsx","webpack:///./src/examples/mark-testers/util/constants.ts","webpack:///./src/examples/mark-testers/util/dropdown.tsx","webpack:///./src/examples/mark-testers/util/toggle.tsx","webpack:///./src/examples/mark-testers/util/single-mark-tester.tsx","webpack:///./src/examples/mark-testers/util/palette.ts","webpack:///./src/examples/mark-testers/arc-tester.tsx","webpack:///./src/examples/mark-testers/area-tester-horizontal.tsx","webpack:///./src/examples/mark-testers/area-tester-vertical.tsx","webpack:///./src/examples/mark-testers/group-tester.tsx","webpack:///./src/examples/mark-testers/line-tester.tsx","webpack:///./src/examples/mark-testers/rect-tester.tsx","webpack:///./src/examples/mark-testers/index.ts","webpack:///./src/examples/mark-testers/image-tester.tsx","webpack:///./src/examples/mark-testers/path-tester.tsx","webpack:///./src/examples/mark-testers/shape-tester.tsx","webpack:///./src/examples/mark-testers/rule-tester.tsx","webpack:///./src/examples/mark-testers/text-tester.tsx","webpack:///./src/examples/index.ts","webpack:///./src/util/processImagesInMarkdownAst.ts","webpack:///./src/util/renderHtmlAst.ts","webpack:///./src/components/sidebar/createTree.ts","webpack:///./src/components/sidebar/link_tree.tsx","webpack:///./src/components/sidebar/index.tsx","webpack:///../client/react/lib/index.js","webpack:///../processing/scenegraph/lib/elements/SceneNode.js","webpack:///../client/builder/lib/SceneNodeBuilder.js","webpack:///../util/scales/lib/DomainRangeScale.js","webpack:///../util/scales/lib/DomainScale.js","webpack:///../util/scales/lib/getBoundRange.js","webpack:///../client/react/lib/scales/DomainScale.js","webpack:///../processing/orchestrator/lib/index.js","webpack:///../processing/scenegraph/lib/elements/index.js","webpack:///../processing/scenegraph/lib/factory.js","webpack:///../processing/vsvg/lib/element_renderers/index.js","webpack:///../processing/vsvg/lib/element_renderers/registry.js","webpack:///../processing/scene/lib/scene/processNode.js","webpack:///../client/builder/lib/MarkBuilder.js","webpack:///../client/react/lib/interfaces.js","webpack:///../util/scales/lib/quantitative/index.js","webpack:///../util/scales/lib/discrete/index.js","webpack:///../util/scales/lib/colorSchemeMap.js","webpack:///../client/react/lib/scales/DomainRangeScale.js","webpack:///../util/transform/lib/interfaces.js","webpack:///../client/react/lib/Chart.js","webpack:///../processing/orchestrator/lib/Orchestrator.js","webpack:///../processing/scenegraph/lib/parse.js","webpack:///../client/interfaces/lib/common-types.js","webpack:///../client/interfaces/lib/scenegraph.js","webpack:///../client/interfaces/lib/specification/index.js","webpack:///../client/interfaces/lib/specification/scene.js","webpack:///../client/interfaces/lib/specification/axes.js","webpack:///../client/interfaces/lib/util/index.js","webpack:///../client/interfaces/lib/util/getItemSpace.js","webpack:///../client/interfaces/lib/vdom/index.js","webpack:///../client/interfaces/lib/vdom/svg.js","webpack:///../client/interfaces/lib/defaults.js","webpack:///../processing/scenegraph/lib/elements/items/index.js","webpack:///../processing/scenegraph/lib/elements/items/ArcItem.js","webpack:///../processing/scenegraph/lib/elements/items/AreaItem.js","webpack:///../processing/scenegraph/lib/elements/items/GroupItem.js","webpack:///../processing/scenegraph/lib/elements/items/ImageItem.js","webpack:///../processing/scenegraph/lib/elements/items/LineItem.js","webpack:///../processing/scenegraph/lib/elements/items/PathItem.js","webpack:///../processing/scenegraph/lib/elements/items/RectItem.js","webpack:///../processing/scenegraph/lib/elements/items/RuleItem.js","webpack:///../processing/scenegraph/lib/elements/items/SymbolItem.js","webpack:///../processing/scenegraph/lib/elements/items/TextItem.js","webpack:///../processing/scenegraph/lib/elements/items/TrailItem.js","webpack:///../processing/scenegraph/lib/elements/items/ShapeItem.js","webpack:///../processing/scenegraph/lib/elements/Mark.js","webpack:///../processing/scenegraph/lib/MarkBuilder.js","webpack:///../processing/vsvg/lib/index.js","webpack:///../processing/vsvg/lib/VirtualSvgConverter.js","webpack:///../processing/vsvg/lib/element_renderers/ArcRenderer.js","webpack:///../util/shapes/lib/index.js","webpack:///../util/shapes/lib/Rectangle.js","webpack:///../util/shapes/lib/Trail.js","webpack:///../util/shapes/lib/symbols.js","webpack:///../util/shapes/lib/parse.js","webpack:///../util/shapes/lib/render.js","webpack:///../util/shapes/lib/arc.js","webpack:///../processing/vsvg/lib/path/curves.js","webpack:///../processing/vsvg/lib/element_renderers/AreaRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/GroupRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/ImageRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/LineRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/PathRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/RectRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/RuleRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/SymbolRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/TextRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/TrailRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/ShapeRenderer.js","webpack:///../processing/scene/lib/index.js","webpack:///../processing/scene/lib/scene/index.js","webpack:///../processing/scene/lib/scene/ChartOptionsManager.js","webpack:///../processing/scene/lib/scene/SceneFrame.js","webpack:///../processing/scene/lib/scene/marks/buildMarkItem.js","webpack:///../processing/scene/lib/scene/marks/createBoundItem.js","webpack:///../processing/scene/lib/scene/axes/index.js","webpack:///../processing/scene/lib/scene/axes/buildAxis.js","webpack:///../processing/scene/lib/scene/axes/components/index.js","webpack:///../processing/scene/lib/scene/axes/components/domain/index.js","webpack:///../processing/scene/lib/scene/axes/components/domain/crossValue.js","webpack:///../processing/scene/lib/scene/axes/components/tickLines/index.js","webpack:///../processing/scene/lib/scene/axes/components/tickLines/getTickValues.js","webpack:///../processing/scene/lib/scene/axes/components/tickLines/getLabelFormatter.js","webpack:///../processing/scene/lib/scene/axes/components/tickLabels/index.js","webpack:///../processing/scene/lib/scene/axes/getContext.js","webpack:///../client/react/lib/ChartSpec.js","webpack:///../client/builder/lib/AxisBuilder.js","webpack:///../client/react/lib/Axis.js","webpack:///../client/react/lib/scales/index.js","webpack:///../client/react/lib/scales/Scale.js","webpack:///../client/react/lib/scales/quantitative/index.js","webpack:///../client/react/lib/scales/quantitative/LinearScale.js","webpack:///../util/scales/lib/quantitative/LinearScale.js","webpack:///../util/scales/lib/quantitative/LogScale.js","webpack:///../util/scales/lib/quantitative/PowScale.js","webpack:///../util/scales/lib/quantitative/SequentialScale.js","webpack:///../util/scales/lib/quantitative/SqrtScale.js","webpack:///../util/scales/lib/quantitative/TimeScale.js","webpack:///../util/scales/lib/quantitative/UtcScale.js","webpack:///../util/scales/lib/discrete/BandScale.js","webpack:///../util/scales/lib/discrete/OrdinalScale.js","webpack:///../util/scales/lib/discrete/PointScale.js","webpack:///../client/react/lib/scales/quantitative/LogScale.js","webpack:///../client/react/lib/scales/quantitative/PowScale.js","webpack:///../client/react/lib/scales/quantitative/SequentialScale.js","webpack:///../client/react/lib/scales/quantitative/SqrtScale.js","webpack:///../client/react/lib/scales/quantitative/TimeScale.js","webpack:///../client/react/lib/scales/quantitative/UtcScale.js","webpack:///../client/react/lib/scales/discrete/index.js","webpack:///../client/react/lib/scales/discrete/BandScale.js","webpack:///../client/react/lib/scales/discrete/OrdinalScale.js","webpack:///../client/react/lib/marks/index.js","webpack:///../client/react/lib/marks/Arc.js","webpack:///../client/react/lib/marks/Area.js","webpack:///../client/react/lib/marks/Group.js","webpack:///../client/react/lib/marks/Image.js","webpack:///../client/react/lib/marks/Line.js","webpack:///../client/react/lib/marks/Path.js","webpack:///../client/react/lib/marks/Rect.js","webpack:///../client/react/lib/marks/Rule.js","webpack:///../client/react/lib/marks/Shape.js","webpack:///../client/react/lib/marks/Symbol.js","webpack:///../client/react/lib/marks/Text.js","webpack:///../client/react/lib/marks/Trail.js","webpack:///../client/react/lib/marks/SymbolTypes.js","webpack:///../renderers/react-svg/lib/Renderer.js","webpack:///../util/transform/lib/index.js","webpack:///../util/transform/lib/layout/index.js","webpack:///../util/transform/lib/layout/StackTransform.js"],"names":["__export","m","p","exports","hasOwnProperty","Object","defineProperty","value","__webpack_require__","e","t","n","r","interfaces_1","Item","_this","_SceneNode_1$SceneNod","apply","this","arguments","nodetype","SGNodeType","fill","stroke","strokeCap","StrokeCap","Butt","strokeJoin","StrokeJoin","Miter","zIndex","channels","SceneNode","React","Context_1","builder_1","BaseMark","render","createElement","SceneNodeBuilderConsumer","api","apiInstance","node","addMark","SceneNodeBuilderProvider","props","children","mark","createMark","_this$props","table","name","role","result","markType","handle","encode","encodings","singleton","_this2","eventHandlers","assign","keys","forEach","propKey","startsWith","encodingProps","captureCommonEncodings","encodeCustomProperties","entries","reduce","prev","_ref","propValue","Error","PureComponent","StaticQueryContext","react__WEBPACK_IMPORTED_MODULE_0___default","a","createContext","StaticQuery","Consumer","staticQueryData","data","query","graphql","propTypes","prop_types__WEBPACK_IMPORTED_MODULE_1___default","object","string","isRequired","func","assertTypeIs","itemType","marktype","emitMarkGroup","type","attrs","className","commonProps","item","fillOpacity","strokeWidth","strokeOpacity","strokeLinejoin","strokeLinecap","strokeDash","strokeDasharray","strokeDashOffset","strokeDashoffset","topts","dist_default","typography_theme_github_dist_default","options","__webpack_exports__","text","fontFamily","bodyFontFamily","join","lineHeight","baseLineHeight","highlight","palette","primary","alt","alt2","alt3","grey","whitish","backgrounds","sidebar","header","quantitative_1","discrete_1","colorSchemeMap_1","CategoricalColorScheme","linear","LinearScale","log","LogScale","pow","PowScale","sequential","SequantialScale","sqrt","SqrtScale","time","TimeScale","utc","UtcScale","band","bandwidth","BandScale","bandwidthName","ordinal","OrdinalScale","point","step","PointScale","stepName","module","default","registry_1","registerItemType","translate","x","y","VSvgTransformType","rotate","angle","BodyContent","styled_components__WEBPACK_IMPORTED_MODULE_4__","div","withConfig","displayName","ContentContainer","Content","SidebarContainer","_util_theme__WEBPACK_IMPORTED_MODULE_6__","_ref$sidebar","logoTo","react__WEBPACK_IMPORTED_MODULE_1__","gatsby__WEBPACK_IMPORTED_MODULE_3__","_ref2","_ref3","description","keywords","siteMetadata","site","title","Fragment","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","meta","content","_header__WEBPACK_IMPORTED_MODULE_5__","_public_static_d_1361144656_json__WEBPACK_IMPORTED_MODULE_0__","shapes_1","curves_1","arc","context","arcShape","area","items","first","interp","interpolate","Interpolation","Linear","orient","Orientation","Horizontal","areahShape","areavShape","curve","tension","line","lineShape","rectangle","xOffset","yOffset","rectShape","build","trail","trailShape","symbol","symbolShape","DomainRangeScale_1","d3_array_1","getBoundRange_1","QuantitativeScale","_DomainRangeScale_1$D","defaultZero","clamp","clampValue","nice","niceValue","padding","paddingValue","zero","zeroValue","getRange","args","range","call","start","end","pad","processDomainValues","values","extent","getZero","domainContainsZero","min","max","domain","handleRangeBind","rangeBind","getBoundRange","addCommonProperties","scale","DomainRangeScale","ProdPageRenderer","location","pageResources","_loader__WEBPACK_IMPORTED_MODULE_3__","getResourcesForPathname","pathname","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","shape","c","i","o","s","Container","styled_components__WEBPACK_IMPORTED_MODULE_3__","_util_theme__WEBPACK_IMPORTED_MODULE_4__","InnerContainer","Links","Title","h1","TitleLink","gatsby__WEBPACK_IMPORTED_MODULE_2__","Link","OuterLink","_ref$logoTo","_ref2$site$siteMetada","githubUrl","to","_public_static_d_613551944_json__WEBPACK_IMPORTED_MODULE_0__","_a","SceneNodeBuilder","Provider","convertGraphqlToc","input","edges","map","pathItems","frontmatter","path","split","filter","slice","order","itemTypeRegistry","Map","restrictedPropNames","Set","add","ctor","set","ITEM_TYPE","createItemType","has","get","instance","propName","MarkBuilder_1","SceneNodeBuilder_1","AxisBuilder_1","MarkBuilder","group","markWithName","MarkType","Group","scene","cb","dimensions","origin","width","DEFAULT_WIDTH","height","DEFAULT_HEIGHT","child","Arc","Area","image","Image","Line","Path","rect","Rect","rule","Rule","Shape","Symbol","Text","Trail","axis","orientation","AxisBuilder","u","renderer","react_svg_lib","Renderer","category","amount","bar_chart_BarChart","BarChart","_React$Component","state","hoverRowIndex","react","lib","Chart","Dimension","Height","bandWidth","Width","Axis","interfaces_lib","AxisOrientation","Bottom","Left","onMouseEnter","evt","index","setState","onMouseLeave","_ref4","d","_ref5","_ref6","_ref7","y2","_ref8","_ref9","tables","_ref10","_ref11","_ref12","_ref13","baseline","VerticalTextAlignment","align","HorizontalAlignment","Center","Component","grouped_bar_chart_renderer","grouped_bar_chart_data","position","grouped_bar_chart_GroupedBarChart","colorScheme","category20","facetKey","row","facetName","categoryHeight","pos","x2","color","rowHeight","_ref14","_ref15","Right","Middle","_ref16","stacked_bar_chart_renderer","stackedData","transform_lib","StackTransform","groupBy","field","sort","transform","charts","bar-chart","grouped-bar-chart","stacked-bar-chart","StackedBarChart","category10","thickness","y0","y1","b","pipeline","SGChart","_ref$width","_ref$height","_ref$origin","renderScenegraph","styled_components_browser_esm","NameColumn","InputColumn","slider_Slider","_ref$min","_ref$max","_ref$value","_ref$step","_ref$onChange","onChange","v","target","dropdown_Container","dropdown_NameColumn","dropdown_InputColumn","dropdown_Dropdown","optionDom","key","toggle_Container","toggle_NameColumn","toggle_InputColumn","toggle_Toggle","checked","single_mark_tester_Container","ChartContainer","ControlsContainer","single_mark_tester_SingleMarkTester","SingleMarkTester","scenegraph","initialScenegraph","inheritsLoose_default","_proto","prototype","_this$props$sliders","sliders","_this$props$dropdowns","dropdowns","_this$props$toggles","toggles","chartWidth","chartHeight","chartOrigin","sliderElements","getParam","_this2$setParam","setParam","parseFloat","dropdownElements","_this2$setParam2","toggleElements","_this2$setParam3","update","updateScenegraph","CRIMSON","GREY","BASE_ITEM","area_tester_horizontal_BASE_ITEM","area_tester_vertical_BASE_ITEM","Vertical","group_tester_BASE_ITEM","line_tester_BASE_ITEM","rect_tester_BASE_ITEM","mark_testers","arc-tester","startAngle","endAngle","padAngle","innerRadius","outerRadius","area-tester-horizontal","interval","area_tester_horizontal_chartHeight","area-tester-vertical","area_tester_vertical_interval","area_tester_vertical_chartWidth","group-tester","clip","cornerRadius","image-tester","line-tester","path-tester","shape-tester","rect-tester","rule-tester","text-tester","size","font","fontSize","groupMark","firstGroup","symbolMark","symbolItem","textMark","textItem","examples","ast","renderAst","components","Compiler","renderHtmlAst","checkNode","tagName","properties","imageSrc","src","gatsby_browser_entry","withPrefix","processImagesInMarkdownAst","err","childrenOf","tree","k","link_tree_LinkTree","LinkTree","onExpandCollapseClick","expanded","hasBeenManuallyToggled","componentDidMount","activePath","childKeys","linkStyle","getLinkStyle","CurrentLevel","renderIcon","style","pathKey","renderChildren","_this$props2","depth","marginLeft","theme","fontWeight","length","IconSpacer","ExpandedIcon","onClick","CollapsedIcon","_this$props3","childNodes","ck","span","fa","FaAngleDown","FaAngleRight","sidebar_Container","rootItem","rootTree","current","splice","pi","pruneTree","newChildren","push","createTree","subtree","scales_1","metadata","markBuilders","axisBuilders","scales","_len","creators","Array","_key","_this$markBuilders","axes","_this$axisBuilders","marks","DomainScale_1","reverse","arg","rangeValue","isArray","bindRangeValue","reversed","reverseValue","determineRange","reverseRange","concat","bindRange","DomainScale","nameValue","tableValue","domainValue","bindDomainValue","createScale","getDomain","getDomainFromTableBinding","bind","domainValues","bindDomain","_args$viewBounds","viewBounds","addScale","Elements","itemtype","Mark","createItem","buildMark","ArcRenderer_1","AreaRenderer_1","GroupRenderer_1","ImageRenderer_1","LineRenderer_1","PathRenderer_1","RectRenderer_1","RuleRenderer_1","SymbolRenderer_1","TextRenderer_1","TrailRenderer_1","ShapeRenderer_1","registerRenderer","ArcRenderer","AreaRenderer","GroupRenderer","ImageRenderer","LineRenderer","PathRenderer","RectRenderer","RuleRenderer","ShapeRenderer","SymbolRenderer","TextRenderer","TrailRenderer","itemRendererRegistry","markRenderer","renderMark","nodes","buildMarkItem_1","axes_1","scenegraph_1","processNode","parentFrame","space","frame","pushNode","_axes_1$buildAxes","buildAxes","remainingSpace","markFrame","pushView","markItems","buildMarkItem","channelsValue","encodingsValue","singletonValue","roleValue","MarkEncodingKey","handler","nameVal","handlerVal","encoding","entryEncoding","facet","facetValue","callback","childNode","pv","propVal","category20b","category20c","colorSchemeMap","CompareOrder","ascending","descending","Offset","center","normalize","createSorter","sorts","_iterator","_isArray","_i","iterator","next","done","_sort$order","valueA","valueB","__rest","indexOf","getOwnPropertySymbols","orchestrator_1","ChartSpec_1","shallowequal","receiveSpec","spec","rendered","renderScene","Orchestrator","shouldComponentUpdate","ChartSpec","onSpecReady","vsvg_1","scene_1","prerenderer","VirtualSvgConverter","rawScene","parseScene","intermediate","console","sg","createScenegraph","vdom","root","channelHandlers","elements_1","KNOWN_KEYS","sceneToJSON","indent","JSON","stringify","json","initializeMark","rawMark","rawItem","parentType","GroupItem","parent","interactive","parse","Basis","Bundle","Cardinal","CatmullRom","Monotone","Natural","stepAfter","stepBefore","VerticalAlignment","Top","Alphabetic","SymbolType","Circle","Square","Cross","Diamond","TriangleUp","TriangleDown","TriangleRight","TriangleLeft","TextDirection","LTR","RTL","Round","Bevel","xc","yc","opacity","strokeMiterLimit","cursor","href","tooltip","defined","url","aspect","dir","dx","dy","ellipsis","fontVariant","fontStyle","limit","radius","theta","getItemSpace","computeDimension","low","high","resultSpan","Math","abs","_computeDimension","originX","resultWidth","_computeDimension2","originY","resultHeight","ArcItem_1","ArcItem","AreaItem_1","AreaItem","GroupItem_1","ImageItem_1","ImageItem","LineItem_1","LineItem","PathItem_1","PathItem","RectItem_1","RectItem","RuleItem_1","RuleItem","SymbolItem_1","SymbolItem","TextItem_1","TextItem","TrailItem_1","TrailItem","ShapeItem_1","ShapeItem","_Item_1$Item","factory_1","itemsValue","_this$itemsValue","itemProps","clipValue","interactiveValue","zIndexValue","element_renderers_1","interfaces_2","DEFAULT_ORIGIN","_options$width","_options$height","_options$backgroundCo","backgroundColor","_options$origin","_origin$","_origin$2","id","nextId","defs","transforms","util_1","path_1","TARGET_MARK_TYPE","d3_shape_1","Rectangle_1","Trail_1","symbols_1","cr","def","Rectangle","x1","x0","d3_path_1","w","h","moveTo","lineTo","quadraticCurveTo","closePath","PI","prevX","prevY","prevR","ready","isLastDefined","isDefined","r2","ux","uy","ud","rx","ry","atan2","parse_1","render_1","tau","halfSqrt3","builtins","circle","draw","cross","diamond","square","triangle-up","triangle-down","triangle-right","triangle-left","symbolName","symbolPath","custom","parsed","cmdlen","l","q","regexp","pathstr","replace","command","chunks","trim","cmd","charAt","cmdLength","toLowerCase","chunk","param","arc_1","temp","drawArc","coords","segments","bez","bezierCurveTo","tempX","tempY","tempControlX","tempControlY","previous","controlX","controlY","beginPath","len","match","segmentCache","bezierCache","large","sweep","rotateX","ox","oy","th","sin_th","sin","cos_th","cos","px","py","pl","a00","a01","a10","a11","sfactor_sq","sfactor","th0","th_arc","segs","ceil","th2","th3","bezier","params","cx","cy","th1","cos_th0","sin_th0","cos_th1","sin_th1","th_half","sin_th_h2","x3","y3","lookup","basis","curveBasis","basis-closed","curveBasisClosed","basis-open","curveBasisOpen","bundle","curveBundle","cardinal","curveCardinal","cardinal-open","curveCardinalOpen","cardinal-closed","curveCardinalClosed","catmull-rom","curveCatmullRom","catmull-rom-closed","curveCatmullRomClosed","catmull-rom-open","curveCatmullRomOpen","curveLinear","linear-closed","curveLinearClosed","monotone","horizontal","curveMonotoneY","vertical","curveMonotoneX","natural","curveNatural","curveStep","step-after","curveStepAfter","step-before","curveStepBefore","entry","curveFactory","areaItems","ai","areaItem","index_1","lambda","mappedItems","groupRect","groupRectCommonProps","rectItem","groupRectShape","toString","_renderChildren","renderedChild","groupDefs","groupChildren","_renderGroupClip","clipId","clipPath","renderGroupClip","groupWrapper","lineItem","_item$x","_item$y","alignments","left","right","alignmentBaseline","alignment","textAnchor","_ref$radius","_ref$theta","getTextTransforms","ChartOptionsManager_1","SceneFrame_1","processNode_1","optionsManager","ChartOptionsManager","chartSpace","rootFrame","SceneFrame","undefined","getPadding","paddingType","paddingLeft","paddingTop","paddingRight","paddingBottom","view","viewTL","viewBR","channelId","boundDataItem","getRecomputedScales","pushMark","registerChannels","pushData","dataFrame","pushBoundDataItem","dataItem","xBounds","yBounds","creator","newScales","eventName","registerHandler","createBoundItem_1","boundData","sourceTable","partitionOn","getFacetKey","partitionMap","partitions","newPartition","createBoundItem","partition","_frame$pushData","viewSize","availableWidth","availableHeight","_space$origin","_space$origin$x","_space$origin$y","_space$shape","_space$shape$width","_space$shape$height","groupDrawRect","top","bottom","itemFrame","buildAxis_1","axisSpace","hard","soft","fontPad","labelFontSize","buildAxis","_frame$view","_frame$view$width","_frame$view$height","components_1","getContext_1","getContext","component","groupSize","availableSpace","_availableSpace$heigh2","_availableSpace$width2","_availableSpace$heigh","_availableSpace$width","isScenegraphElementGenerated","createScenegraphElement","domain_1","tickLines_1","tickLabels_1","Domain","TickLines","TickLabels","crossValue_1","maxRange","minRange","domainMinRange","domainMaxRange","domainCross","crossValue","_scenegraph_1$buildMa","rangeProperty","rangeEndProperty","crossProperty","domainColor","domainWidth","getTickValues_1","getLabelFormatter_1","tickCrossStart","tickSize","topOrLeft","tickCrossEnd","tickWidth","labelFormatter","getLabelFormatter","ticks","getTickValues","tick","_context$axis","tickColor","crossStart","crossEnd","rangeStart","crossEndProperty","av","tickCount","tickRound","round","label","bandPosition","d3_time_format_1","d3_format_1","labelFormat","__scaletype__","timeFormat","format","labels","_result","labelPadding","labelFont","labelColor","labelFontWeight","labelAlign","labelBaseline","labelAngle","crossPropertyValue","axisFrame","axisThickness","viewHeight","viewWidth","scaleName","sceneNodeBuilder","sceneBuilder","updateSpec","componentDidUpdate","DEFAULT_COLOR","DEFAULT_TEXT_COLOR","DEFAULT_STROKE","DEFAULT_TICK_SIZE","DEFAULT_FONT_SIZE","DEFAULT_FONT","DEFAULT_LABEL_PADDING","DEFAULT_BAND_POSITION","DEFAULT_THICKNESS","orientValue","thicknessValue","domainColorValue","domainWidthValue","ticksValue","tickColorValue","tickOffsetValue","tickRoundValue","tickSizeValue","tickWidthValue","labelsValue","labelFontValue","labelFontSizeValue","labelColorValue","labelPaddingValue","bandPositionValue","tickCountValue","tickOffset","tickValues","labelFontWeightValue","labelAngleValue","labelFormatValue","labelAlignValue","receiveApi","newAxis","Scale","create","isReversed","d3_scale_1","_QuantitativeScale_1$","scaleLinear","base","baseValue","scaleLog","exponent","exponentValue","scalePow","interpolator","interpolatorValue","scaleSequential","scaleSqrt","scaleTime","scaleUtc","bandwidthValue","paddingInner","paddingInnerValue","paddingOuter","paddingOuterValue","alignValue","bandscale","scaleBand","colorSchemeValue","scaleOrdinal","roundValue","stepNameValue","scalePoint","_BaseMark_1$BaseMark","nodeBuilder","SymbolOfType","getShape","handlers","createElementFor","_vdom$attrs","_vdom$transforms","vdomTransforms","_vdom$channels","_vdom$metadata","reactAttrs","eventId","reactEventName","eventArg","offsetVal","outputFields","stackCenter","_this$outputFields","fieldVal","last","sum","stackNormalize","_this$outputFields2","_iterator2","_isArray2","_i2","stackZero","_this$outputFields3","lastPos","lastNeg","_iterator3","_isArray3","_i3","groupByVal","_len2","_key2","sortVal","offset","output","innerData","rawGroups","partitionGroups","groups","computeMaxesAndSums","processDataStacks","_loop","_isArray4","_i4","_iterator4","groupKey","gb","newGroup","sorter","_iterator5","_isArray5","_i5","groupMax","groupSum","_iterator6","_isArray6","_i6","stacker","g"],"mappings":"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","file":"3-ea855c671f00681bf68f.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./common-types\"));\n__export(require(\"./scenegraph\"));\n__export(require(\"./specification\"));\n__export(require(\"./util\"));\n__export(require(\"./vdom\"));\n__export(require(\"./defaults\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst SceneNode_1 = require(\"../SceneNode\");\nclass Item extends SceneNode_1.SceneNode {\n    constructor() {\n        super(...arguments);\n        this.nodetype = interfaces_1.SGNodeType.Item;\n        /**\n         * The fill color.\n         */\n        this.fill = 'none';\n        /**\n         * The stroke color.\n         */\n        this.stroke = 'none';\n        /**\n         * The stroke cap for line ending style. One of butt (default), round or square.\n         */\n        this.strokeCap = interfaces_1.StrokeCap.Butt;\n        /**\n         * The stroke line join method. One of miter (default), round or bevel.\n         */\n        this.strokeJoin = interfaces_1.StrokeJoin.Miter;\n        /**\n         * An integer z-index indicating the layering order of sibling mark items. The default value is 0.\n         * Higher values (1) will cause marks to be drawn on top of those with lower z-index values. Setting\n         * the z-index as an encoding property only affects ordering among sibling mark items; it will not change\n         * the layering relative to other mark definitions. Unlike the mark-level sort property, zindex changes the\n         * rendering order only; it does not otherwise change mark item order (such as line or area point order).\n         *\n         * The most common use of zindex is to ensure that a mark is drawn over its siblings when selected, such as\n         * by mouse hover.\n         */\n        this.zIndex = 0;\n        /**\n         * Event channels are a mapping of event names to their output channel.\n         */\n        this.channels = {};\n    }\n}\nexports.Item = Item;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst Context_1 = require(\"../Context\");\nconst builder_1 = require(\"@markable/builder\");\nconst interfaces_1 = require(\"../interfaces\");\nclass BaseMark extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, api => {\n            this.apiInstance = api;\n            const node = this.addMark();\n            return (React.createElement(Context_1.SceneNodeBuilderProvider, { value: node }, this.props.children));\n        }));\n    }\n    get channels() {\n        const eventHandlers = this.props.eventHandlers || {};\n        const channels = Object.assign({}, eventHandlers);\n        Object.keys(this.props).forEach(propKey => {\n            if (propKey.startsWith('on')) {\n                channels[propKey] = this.props[propKey];\n            }\n        });\n        return channels;\n    }\n    get encodings() {\n        const encodingProps = Object.assign({}, interfaces_1.captureCommonEncodings(this.props), this.encodeCustomProperties());\n        return Object.entries(encodingProps).reduce((prev, [name, propValue]) => {\n            prev[name] = (typeof propValue === 'function'\n                ? propValue\n                : (() => propValue));\n            return prev;\n        }, {});\n    }\n    get api() {\n        if (!this.apiInstance) {\n            throw new Error('api must be defined');\n        }\n        return this.apiInstance;\n    }\n    addMark() {\n        return this.api.mark(this.createMark());\n    }\n    createMark() {\n        const { table, name, role } = this.props;\n        let result = builder_1.mark(this.markType)\n            .handle(this.channels)\n            .encode(this.encodings);\n        if (table) {\n            result = result.table(table);\n        }\n        const singleton = this.props.singleton;\n        if (singleton) {\n            result = result.singleton(singleton);\n        }\n        if (name) {\n            result = result.name(name);\n        }\n        if (role) {\n            result = result.role(role);\n        }\n        return result;\n    }\n}\nexports.BaseMark = BaseMark;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Perform an invariant assertion that a mark is of a given type\n * @param mark The mark to inspect\n * @param itemType The expected item type\n */\nfunction assertTypeIs(mark, itemType) {\n    if (mark.marktype !== itemType) {\n        throw new Error(`\n            Tried to render a mark with the incorrect mark renderer. \n            Mark must be of type ${itemType}.\n        `);\n    }\n}\nexports.assertTypeIs = assertTypeIs;\nfunction roleClass(role) {\n    return `role-${role || 'mark'}`;\n}\n/**\n *\n * @param marktype\n * @param children\n */\nfunction emitMarkGroup(marktype, role, children) {\n    const markGroup = {\n        type: 'g',\n        attrs: {\n            className: `mark-${marktype} ${roleClass(role)}`,\n        },\n        children,\n    };\n    return [markGroup];\n}\nexports.emitMarkGroup = emitMarkGroup;\n/**\n * Copies shared vsvg props from the given mark into the vsvg node\n * @param item The mark item to copy from\n * @param result The vsvg node to copy into\n */\nfunction commonProps(item) {\n    const result = {};\n    if (item.fill !== undefined) {\n        result.fill = item.fill;\n    }\n    if (item.fillOpacity !== undefined) {\n        result.fillOpacity = item.fillOpacity;\n    }\n    if (item.stroke !== undefined) {\n        result.stroke = item.stroke;\n    }\n    result.strokeWidth = item.strokeWidth || 1;\n    if (item.strokeOpacity !== undefined) {\n        result.strokeOpacity = item.strokeOpacity;\n    }\n    if (item.strokeJoin !== undefined) {\n        result.strokeLinejoin = item.strokeJoin;\n    }\n    if (item.strokeCap !== undefined) {\n        result.strokeLinecap = item.strokeCap;\n    }\n    if (item.strokeDash !== undefined) {\n        result.strokeDasharray = item.strokeDash;\n    }\n    if (item.strokeDashOffset !== undefined) {\n        result.strokeDashoffset = item.strokeDashOffset;\n    }\n    return result;\n}\nexports.commonProps = commonProps;\n","import typography from '../configs/typography'\n\nconst { options: topts } = typography\n\nexport default {\n  text: {\n    fontFamily: topts.bodyFontFamily.join(', ') as string,\n    lineHeight: topts.baseLineHeight as number,\n    highlight: '#2D882D',\n  },\n  palette: {\n    primary: '#AA3939',\n    highlight: '#FFF3B0',\n    alt: '#335C67',\n    alt2: '#E09F3E',\n    alt3: '#540B0E',\n    grey: '#444',\n    whitish: '#FEFEFE',\n  },\n  backgrounds: {\n    sidebar: '#F6F6F6',\n    header: '#AA3939',\n  },\n}\n","import Typography from 'typography'\nimport theme from 'typography-theme-github'\n\nconst typography = new Typography(theme)\n\nexport default typography\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst quantitative_1 = require(\"./quantitative\");\nconst discrete_1 = require(\"./discrete\");\n__export(require(\"./quantitative\"));\n__export(require(\"./discrete\"));\nvar colorSchemeMap_1 = require(\"./colorSchemeMap\");\nexports.CategoricalColorScheme = colorSchemeMap_1.CategoricalColorScheme;\n// Quantitative Scale Factories\nexports.linear = (name) => new quantitative_1.LinearScale().name(name);\nexports.log = (name) => new quantitative_1.LogScale().name(name);\nexports.pow = (name) => new quantitative_1.PowScale().name(name);\nexports.sequential = (name) => new quantitative_1.SequantialScale().name(name);\nexports.sqrt = (name) => new quantitative_1.SqrtScale().name(name);\nexports.time = (name) => new quantitative_1.TimeScale().name(name);\nexports.utc = (name) => new quantitative_1.UtcScale().name(name);\n// Discrete Scale Factories\nexports.band = (name, bandwidth) => new discrete_1.BandScale().name(name).bandwidthName(bandwidth);\nexports.ordinal = (name) => new discrete_1.OrdinalScale().name(name);\nexports.point = (name, step) => new discrete_1.PointScale().name(name).stepName(step);\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"./registry\");\nexports.registerItemType = registry_1.registerItemType;\n__export(require(\"./parse\"));\n__export(require(\"./factory\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nfunction translate(x, y) {\n    return { type: interfaces_1.VSvgTransformType.translate, value: [x, y] };\n}\nexports.translate = translate;\nfunction rotate(angle) {\n    return { type: interfaces_1.VSvgTransformType.rotate, value: angle };\n}\nexports.rotate = rotate;\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport { SiteMetadata } from '../types'\nimport Header from './header'\nimport theme from '../util/theme'\nimport './layout.css'\n\ninterface LayoutQueryResult {\n  site: {\n    siteMetadata: SiteMetadata\n  }\n}\n\nexport interface LayoutProps {\n  sidebar?: JSX.Element\n  logoTo?: string\n}\n\nconst Layout: React.SFC<LayoutProps> = ({\n  sidebar = null,\n  logoTo,\n  children,\n}) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            keywords\n            description\n          }\n        }\n      }\n    `}\n    render={({ site: { siteMetadata } }: LayoutQueryResult) => {\n      const { title } = siteMetadata\n      return (\n        <>\n          <Helmet title={title} meta={getMeta(siteMetadata)} />\n          <BodyContent>\n            <Header />\n            <ContentContainer>\n              {sidebar ? <SidebarContainer>{sidebar}</SidebarContainer> : null}\n              <Content>{children}</Content>\n            </ContentContainer>\n          </BodyContent>\n        </>\n      )\n    }}\n  />\n)\n\nfunction getMeta({ description, keywords }: SiteMetadata) {\n  return [\n    { name: 'description', content: description },\n    { name: 'keywords', content: keywords.join(', ') },\n  ]\n}\n\nconst BodyContent = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n`\n\nconst ContentContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  flex: 1;\n  padding: 0;\n  margin: 0;\n`\n\nconst Content = styled.div`\n  margin: auto;\n  padding: 0px 1.0875rem 1.45rem;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 5;\n  padding: 1.45rem;\n  overflow: scroll;\n`\n\nconst SidebarContainer = styled.div`\n  display: flex;\n  flex: 1;\n  padding: 1rem;\n  background: ${theme.backgrounds.sidebar};\n`\n\nexport default Layout\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst shapes_1 = require(\"@markable/shapes\");\nconst curves_1 = require(\"./curves\");\nfunction arc(item, context) {\n    return shapes_1.arcShape.context(context)(item);\n}\nexports.arc = arc;\nfunction area(items, context) {\n    const first = items[0];\n    const interp = first.interpolate || interfaces_1.Interpolation.Linear;\n    const isHorizontal = first.orient === interfaces_1.Orientation.Horizontal;\n    const variant = isHorizontal ? shapes_1.areahShape : shapes_1.areavShape;\n    return variant\n        .curve(curves_1.default(interp, first.orient, first.tension))\n        .context(context)(items);\n}\nexports.area = area;\nfunction line(items, context) {\n    const item = items[0];\n    const interp = item.interpolate || 'linear';\n    return shapes_1.lineShape\n        .curve(curves_1.default(interp, undefined, item.tension))\n        .context(context)(items);\n}\nexports.line = line;\nfunction rectangle(item, xOffset, yOffset, context) {\n    return shapes_1.rectShape.build(item, xOffset, yOffset, context);\n}\nexports.rectangle = rectangle;\nfunction trail(items, context) {\n    return shapes_1.trailShape.build(items, context);\n}\nexports.trail = trail;\nfunction symbol(item, context) {\n    return shapes_1.symbolShape.context(context)(item);\n}\nexports.symbol = symbol;\n/*\nTODO: Handle Custom shape marks\nexport function shape(item: ShapeItem, context: Path) {\n    return (item.mark.shape || item.shape).context(context)(item)\n}\n*/\n/*\n*/\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nconst d3_array_1 = require(\"d3-array\");\nconst getBoundRange_1 = require(\"../getBoundRange\");\nclass QuantitativeScale extends DomainRangeScale_1.DomainRangeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = false;\n    }\n    /**\n     * A boolean indicating if output values should be clamped to the range (default false).\n     * If clamping is disabled and the scale is passed a value outside the domain, the scale\n     *  may return a value outside the range through extrapolation. If clamping is enabled,\n     * the output value of the scale is always within the scales range.\n     */\n    clamp(value) {\n        this.clampValue = value;\n        return this;\n    }\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     */\n    nice(value = true) {\n        this.niceValue = value;\n        return this;\n    }\n    /**\n     * Adjusts the range of the scale to account for a pixel-padding on each end.\n     * @param paddingValue The number of pixels to pad each end of the scale's range with.\n     */\n    padding(paddingValue) {\n        this.paddingValue = paddingValue;\n        return this;\n    }\n    /**\n     * Boolean flag indicating if the scale domain should include zero.\n     * The default value is true for linear, sqrt and pow, and false otherwise.\n     */\n    zero(value) {\n        this.zeroValue = value;\n        return this;\n    }\n    getRange(args) {\n        const range = super.getRange(args);\n        if (this.paddingValue !== undefined) {\n            const [start, end] = range;\n            const pad = this.paddingValue;\n            const newStart = start > end ? start - pad : start + pad;\n            const newEnd = end > start ? end - pad : end + pad;\n            return [newStart, newEnd];\n        }\n        else {\n            return range;\n        }\n    }\n    processDomainValues(values) {\n        const result = d3_array_1.extent(values);\n        if (this.getZero() && !this.domainContainsZero(result)) {\n            const [min, max] = result;\n            const zero = 0;\n            return 0 < min ? [zero, max] : [min, zero];\n        }\n        return result;\n    }\n    domainContainsZero(domain) {\n        return 0 >= domain[0] && 0 <= domain[1];\n    }\n    getZero() {\n        return this.zeroValue || this.defaultZero;\n    }\n    handleRangeBind(args, rangeBind) {\n        return getBoundRange_1.getBoundRange(args, rangeBind);\n    }\n    addCommonProperties(scale) {\n        if (this.niceValue === true) {\n            scale.nice();\n        }\n        else if (this.niceValue !== undefined) {\n            scale.nice(this.niceValue);\n        }\n        if (this.clampValue !== undefined) {\n            scale.clamp(this.clampValue);\n        }\n    }\n}\nexports.QuantitativeScale = QuantitativeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nclass QuantitativeScale extends DomainRangeScale_1.DomainRangeScale {\n}\nexports.QuantitativeScale = QuantitativeScale;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport styled from 'styled-components'\nimport theme from '../util/theme'\n\nexport interface HeaderProps {\n  logoTo?: string\n}\n\nconst Header: React.SFC<HeaderProps> = ({ logoTo = '/' }) => (\n  <StaticQuery\n    query={graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            githubUrl\n          }\n        }\n      }\n    `}\n    render={({\n      site: {\n        siteMetadata: { title, githubUrl },\n      },\n    }: any) => {\n      return (\n        <Container>\n          <InnerContainer>\n            <Title>\n              <TitleLink to={logoTo}>{title}</TitleLink>\n            </Title>\n            <Links>\n              <OuterLink to=\"/\">Home</OuterLink>\n              <OuterLink to=\"/documentation\">Docs</OuterLink>\n              <OuterLink to=\"/blog\">Blog</OuterLink>\n              <OuterLink to={githubUrl}>Github</OuterLink>\n            </Links>\n          </InnerContainer>\n        </Container>\n      )\n    }}\n  />\n)\n\nconst Container = styled.div`\n  background: ${theme.backgrounds.header};\n`\n\nconst InnerContainer = styled.div`\n  margin: 0 auto;\n  max-width: 960;\n  padding: 1.45rem 1.0875rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`\n\nconst Links = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`\n\nconst Title = styled.h1`\n  margin: 0;\n`\n\nconst TitleLink = styled(Link)`\n  color: white;\n  text-decoration: none;\n  font-family: ${theme.text.fontFamily};\n  font-weight: 100;\n`\n\nconst OuterLink = styled(Link)`\n  color: white;\n  margin-left: 8px;\n  margin-right: 8px;\n  font-family: ${theme.text.fontFamily};\n  font-weight: 100;\n`\n\nexport default Header\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst builder_1 = require(\"@markable/builder\");\n_a = React.createContext(new builder_1.SceneNodeBuilder()), exports.SceneNodeBuilderConsumer = _a.Consumer, exports.SceneNodeBuilderProvider = _a.Provider;\n","import { SidebarItem } from '../components/sidebar'\n\nexport default function convertGraphqlToc(input: {\n  edges: Array<{\n    node: {\n      frontmatter: {\n        path: string\n        title: string\n        order: number\n      }\n    }\n  }>\n}): SidebarItem[] {\n  return input.edges.map(e => {\n    const pathItems = e.node.frontmatter.path\n      .split('/')\n      .filter(t => !!t)\n      .slice(1)\n\n    return {\n      path: e.node.frontmatter.path,\n      pathItems,\n      title: e.node.frontmatter.title,\n      area: pathItems[0],\n      order: e.node.frontmatter.order,\n    }\n  })\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst itemTypeRegistry = new Map();\nconst restrictedPropNames = new Set();\nrestrictedPropNames.add('marktype');\n/**\n * Registers an item type for use in parsing scene-graphs.\n *\n * @param itemType the name of the item type to register\n * @param ctor The item class representing the item type\n */\nfunction registerItemType(ctor) {\n    itemTypeRegistry.set(ctor.ITEM_TYPE, ctor);\n}\nexports.registerItemType = registerItemType;\n/**\n * Creates a new Item-Type instance\n * @param itemType\n */\nfunction createItemType(itemType, props = {}) {\n    if (!itemTypeRegistry.has(itemType)) {\n        throw new Error(`item type ${itemType} not found`);\n    }\n    const ctor = itemTypeRegistry.get(itemType);\n    if (ctor === undefined) {\n        throw new Error(`item type ${itemType} constructor not valid`);\n    }\n    // Create the new instance\n    const instance = new ctor();\n    // Transfer properties over\n    Object.keys(props).forEach(propName => {\n        if (!restrictedPropNames.has(propName)) {\n            ;\n            instance[propName] = props[propName];\n        }\n    });\n    return instance;\n}\nexports.createItemType = createItemType;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst MarkBuilder_1 = require(\"./MarkBuilder\");\nconst SceneNodeBuilder_1 = require(\"./SceneNodeBuilder\");\nconst AxisBuilder_1 = require(\"./AxisBuilder\");\n__export(require(\"./MarkBuilder\"));\n__export(require(\"./SceneNodeBuilder\"));\n/**\n * A factory function for creating a new scene\n */\nfunction scene(cb, dimensions, origin = [0, 0]) {\n    return new SceneNodeBuilder_1.SceneNodeBuilder().mark(group('root')\n        .role('frame')\n        .singleton(true)\n        .zIndex(0)\n        .encode({\n        x: () => origin[0],\n        y: () => origin[1],\n        width: () => (dimensions && dimensions.width) || interfaces_1.DEFAULT_WIDTH,\n        height: () => (dimensions && dimensions.height) || interfaces_1.DEFAULT_HEIGHT,\n    })\n        .child(cb));\n}\nexports.scene = scene;\n/**\n * A factory function for creating a new mark\n * @param type The mark type to create\n */\nfunction mark(type) {\n    return new MarkBuilder_1.MarkBuilder(type);\n}\nexports.mark = mark;\n//\n// Utility functions for creating typed marks\n//\n/**\n * Initiates construction of a new _arc_ typed mark\n * @param name\n */\nfunction arc(name) {\n    return markWithName(interfaces_1.MarkType.Arc, name);\n}\nexports.arc = arc;\nfunction area(name) {\n    return markWithName(interfaces_1.MarkType.Area, name);\n}\nexports.area = area;\nfunction group(name) {\n    return markWithName(interfaces_1.MarkType.Group, name);\n}\nexports.group = group;\nfunction image(name) {\n    return markWithName(interfaces_1.MarkType.Image, name);\n}\nexports.image = image;\nfunction line(name) {\n    return markWithName(interfaces_1.MarkType.Line, name);\n}\nexports.line = line;\nfunction path(name) {\n    return markWithName(interfaces_1.MarkType.Path, name);\n}\nexports.path = path;\nfunction rect(name) {\n    return markWithName(interfaces_1.MarkType.Rect, name);\n}\nexports.rect = rect;\nfunction rule(name) {\n    return markWithName(interfaces_1.MarkType.Rule, name);\n}\nexports.rule = rule;\nfunction shape(name) {\n    return markWithName(interfaces_1.MarkType.Shape, name);\n}\nexports.shape = shape;\nfunction symbol(name) {\n    return markWithName(interfaces_1.MarkType.Symbol, name);\n}\nexports.symbol = symbol;\nfunction text(name) {\n    return markWithName(interfaces_1.MarkType.Text, name);\n}\nexports.text = text;\nfunction trail(name) {\n    return markWithName(interfaces_1.MarkType.Trail, name);\n}\nexports.trail = trail;\nfunction markWithName(markType, name) {\n    const result = mark(markType);\n    return name ? result.name(name) : result;\n}\n/**\n * Creates a new Axis builder\n * @param scale The name of the scale to align the axis with\n * @param orientation The positioning of the axis in the view-space\n */\nfunction axis(scale, orientation) {\n    return new AxisBuilder_1.AxisBuilder(scale, orientation);\n}\nexports.axis = axis;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Renderer\"));\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Axis,\n  Chart,\n  Rect,\n  LinearScale,\n  BandScale,\n  Dimension,\n  Text,\n} from '@markable/react'\nimport {\n  AxisOrientation,\n  VerticalTextAlignment,\n  HorizontalAlignment,\n} from '@markable/interfaces'\nimport { Renderer } from '@markable/react-svg-renderer'\n\nconst renderer = new Renderer()\n\nconst data = [\n  { category: 'A', amount: 28 },\n  { category: 'B', amount: 55 },\n  { category: 'C', amount: 43 },\n  { category: 'D', amount: 91 },\n  { category: 'E', amount: 81 },\n  { category: 'F', amount: 53 },\n  { category: 'G', amount: 19 },\n  { category: 'H', amount: 87 },\n]\n\nexport interface BarChartState {\n  hoverRowIndex: number | undefined\n}\n\n/**\n * Adapted from https://vega.github.io/vega/examples/bar-chart/\n */\nexport default class BarChart extends React.Component<{}, BarChartState> {\n  constructor(props: {}) {\n    super(props)\n    this.state = { hoverRowIndex: undefined }\n  }\n\n  public render() {\n    const { hoverRowIndex } = this.state\n    return (\n      <Chart width={400} height={200} renderer={renderer} data={{ data }}>\n        <LinearScale\n          name=\"y\"\n          table=\"data\"\n          domain=\"amount\"\n          range={Dimension.Height}\n          nice\n        />\n        <BandScale\n          table=\"data\"\n          name=\"x\"\n          bandWidth=\"band\"\n          domain=\"category\"\n          padding={0.05}\n          range={Dimension.Width}\n        />\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" />\n        <Rect\n          table=\"data\"\n          onMouseEnter={(evt: any, { index }) => {\n            if (hoverRowIndex !== index) {\n              this.setState({ hoverRowIndex: index })\n            }\n          }}\n          onMouseLeave={(evt: any, { index }) => {\n            if (hoverRowIndex === index) {\n              this.setState({ hoverRowIndex: undefined })\n            }\n          }}\n          x={({ d }, { x }) => x(d.category)}\n          y={({ d }, { y }) => y(d.amount)}\n          width={(d, { band }) => band()}\n          y2={(d, { y }) => y(0)}\n          fill={({ index }) =>\n            hoverRowIndex === index ? 'firebrick' : 'steelblue'\n          }\n        />\n        {hoverRowIndex === undefined ? null : (\n          <Text\n            singleton\n            text={d => d.tables.data[hoverRowIndex].amount}\n            fill=\"black\"\n            x={({ tables }, { x, band }) =>\n              x(tables.data[hoverRowIndex].category) + band() / 2\n            }\n            y={({ tables }, { y }) => y(tables.data[hoverRowIndex].amount) - 3}\n            baseline={VerticalTextAlignment.Bottom}\n            align={HorizontalAlignment.Center}\n          />\n        )}\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  HorizontalAlignment,\n  VerticalTextAlignment,\n} from '@markable/interfaces'\nimport {\n  Chart,\n  LinearScale,\n  BandScale,\n  Dimension,\n  OrdinalScale,\n  CategoricalColorScheme,\n  Group,\n  Rect,\n  Text,\n} from '@markable/react'\nimport { Renderer } from '@markable/react-svg-renderer'\nconst renderer = new Renderer()\n\nconst data = [\n  { category: 'A', position: 0, value: 0.1 },\n  { category: 'A', position: 1, value: 0.6 },\n  { category: 'A', position: 2, value: 0.9 },\n  { category: 'A', position: 3, value: 0.4 },\n  { category: 'B', position: 0, value: 0.7 },\n  { category: 'B', position: 1, value: 0.2 },\n  { category: 'B', position: 2, value: 1.1 },\n  { category: 'B', position: 3, value: 0.8 },\n  { category: 'C', position: 0, value: 0.6 },\n  { category: 'C', position: 1, value: 0.1 },\n  { category: 'C', position: 2, value: 0.2 },\n  { category: 'C', position: 3, value: 0.7 },\n]\n\n/**\n * Adapted from https://vega.github.io/vega/examples/grouped-bar-chart/q\n */\nexport default class GroupedBarChart extends React.Component<{}> {\n  public render() {\n    return (\n      <Chart\n        width={300}\n        height={240}\n        padding={5}\n        data={{ data }}\n        renderer={renderer}\n      >\n        <BandScale\n          name=\"y\"\n          table=\"data\"\n          bandWidth=\"categoryHeight\"\n          range={Dimension.Height}\n          domain=\"category\"\n          padding={0.2}\n        />\n        <LinearScale\n          name=\"x\"\n          table=\"data\"\n          range={Dimension.Width}\n          domain=\"value\"\n          nice\n          zero\n        />\n        <OrdinalScale\n          name=\"color\"\n          table=\"data\"\n          domain=\"position\"\n          colorScheme={CategoricalColorScheme.category20}\n        />\n        <Group\n          name=\"chartgroup\"\n          table=\"data\"\n          facetKey={row => row.category}\n          facetName=\"facet\"\n          y={({ d }, { y }) => y(d[0].category)}\n          height={(d, { categoryHeight }) => categoryHeight()}\n        >\n          <BandScale\n            name=\"pos\"\n            bandWidth=\"rowHeight\"\n            range={Dimension.Height}\n            table=\"facet\"\n            domain=\"position\"\n          />\n          <Rect\n            name=\"bars\"\n            table=\"facet\"\n            x={({ d }, { x }) => x(d.value)}\n            y={({ d }, { pos }) => pos(d.position)}\n            x2={(d, { x }) => x(0)}\n            fill={({ d }, { color }) => color(d.position)}\n            height={(d, { rowHeight }) => rowHeight()}\n          />\n          <Text\n            table=\"facet\"\n            x={({ d }, { x }) => x(d.value) - 3}\n            y={({ d }, { pos, rowHeight }) =>\n              pos(d.position) + rowHeight() * 0.5\n            }\n            fill={'white'}\n            align={HorizontalAlignment.Right}\n            baseline={VerticalTextAlignment.Middle}\n            text={({ d }) => d.value}\n          />\n        </Group>\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Chart,\n  Rect,\n  LinearScale,\n  Axis,\n  BandScale,\n  Dimension,\n  OrdinalScale,\n  CategoricalColorScheme,\n} from '@markable/react'\nimport { Renderer } from '@markable/react-svg-renderer'\nimport { StackTransform } from '@markable/transform'\nimport { AxisOrientation } from '@markable/interfaces'\n\nconst renderer = new Renderer()\nconst data = [\n  { x: 0, y: 28, c: 0 },\n  { x: 0, y: 55, c: 1 },\n  { x: 1, y: 43, c: 0 },\n  { x: 1, y: 91, c: 1 },\n  { x: 2, y: 81, c: 0 },\n  { x: 2, y: 53, c: 1 },\n  { x: 3, y: 19, c: 0 },\n  { x: 3, y: 87, c: 1 },\n  { x: 4, y: 52, c: 0 },\n  { x: 4, y: 48, c: 1 },\n  { x: 5, y: 24, c: 0 },\n  { x: 5, y: 49, c: 1 },\n  { x: 6, y: 87, c: 0 },\n  { x: 6, y: 66, c: 1 },\n  { x: 7, y: 17, c: 0 },\n  { x: 7, y: 27, c: 1 },\n  { x: 8, y: 68, c: 0 },\n  { x: 8, y: 16, c: 1 },\n  { x: 9, y: 49, c: 0 },\n  { x: 9, y: 15, c: 1 },\n]\nconst stackedData = new StackTransform()\n  .groupBy((r: any) => r.x)\n  .field((r: any) => r.y)\n  .sort({ field: (r: any) => r.c })\n  .transform(data)\n\nexport interface StackedBarChartState {\n  hoverRowIndex?: number\n}\n\n/**\n * Adapted from https://vega.github.io/vega/examples/stacked-bar-chart/\n */\nexport default class StackedBarChart extends React.Component<\n  {},\n  StackedBarChartState\n> {\n  constructor(props: {}) {\n    super(props)\n    this.state = {}\n  }\n  public render() {\n    return (\n      <Chart\n        width={500}\n        height={200}\n        data={{ data: stackedData }}\n        renderer={renderer}\n      >\n        {/* Scale Definitions */}\n        <BandScale\n          name=\"x\"\n          table=\"data\"\n          bandWidth=\"width\"\n          range={Dimension.Width}\n          domain=\"x\"\n        />\n        <LinearScale\n          name=\"y\"\n          table=\"data\"\n          range={Dimension.Height}\n          domain=\"y1\"\n          nice\n          zero\n        />\n        <OrdinalScale\n          name=\"color\"\n          table=\"data\"\n          domain=\"c\"\n          colorScheme={CategoricalColorScheme.category10}\n        />\n\n        {/* Axes */}\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" thickness={20} />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" thickness={30} />\n\n        {/* Marks */}\n        <Rect\n          onMouseEnter={(evt, { index }) => {\n            if (this.state.hoverRowIndex !== index) {\n              this.setState({ hoverRowIndex: index })\n            }\n          }}\n          onMouseLeave={(evt, { index }) => {\n            if (this.state.hoverRowIndex === index) {\n              this.setState({ hoverRowIndex: undefined })\n            }\n          }}\n          table=\"data\"\n          x={({ d }, { x }) => x(d.x)}\n          width={(d, { width }) => width() - 1}\n          y={({ d }, { y }) => y(d.y0)}\n          y2={({ d }, { y }) => y(d.y1)}\n          fill={({ d }, { color }) => color(d.c)}\n          fillOpacity={({ index }) =>\n            this.state.hoverRowIndex === index ? 0.5 : 1\n          }\n        />\n      </Chart>\n    )\n  }\n}\n","import BarChart from './bar-chart'\nimport GroupedBarChart from './grouped-bar-chart'\nimport StackedBarChart from './stacked-bar-chart'\n\nexport default {\n  'bar-chart': BarChart,\n  'grouped-bar-chart': GroupedBarChart,\n  'stacked-bar-chart': StackedBarChart,\n}\n","import * as React from 'react'\nimport { Orchestrator } from '@markable/orchestrator'\nimport { Renderer } from '@markable/react-svg-renderer'\n\nconst pipeline = new Orchestrator(new Renderer())\nexport interface SGChartProps {\n  data: any\n  width?: number\n  height?: number\n  origin?: [number, number]\n}\nexport const SGChart: React.SFC<SGChartProps> = ({\n  data,\n  width = 200,\n  height = 200,\n  origin = [0, 0] as [number, number],\n}) => pipeline.renderScenegraph(data, { width, height, origin })\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { nameColumnWidth } from './constants'\n\nconst Container = styled.div`\n  display: flex;\n`\nconst NameColumn = styled.div`\n  width: ${nameColumnWidth}px;\n`\nconst InputColumn = styled.input`\n  flex: 2;\n`\n\nexport interface SliderProps {\n  name: string\n  min?: number\n  max?: number\n  value?: number\n  step?: number\n  onChange?: (value: number | string) => void\n}\n\nexport const Slider: React.SFC<SliderProps> = ({\n  name,\n  min = 0,\n  max = 200,\n  value = 0,\n  step = 1,\n  onChange = (v: any) => null,\n}) => {\n  const handleChange = (evt: any) => onChange(evt.target.value)\n  return (\n    <Container>\n      <NameColumn>{name}</NameColumn>\n      <InputColumn\n        type=\"range\"\n        name={name}\n        value={value}\n        min={min}\n        max={max}\n        step={step}\n        onChange={handleChange}\n      />\n      <div>{value}</div>\n    </Container>\n  )\n}\n","export const nameColumnWidth = 120\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { nameColumnWidth } from './constants'\n\nconst Container = styled.div`\n  display: flex;\n`\nconst NameColumn = styled.div`\n  width: ${nameColumnWidth}px;\n`\nconst InputColumn = styled.div`\n  flex: 2;\n`\n\nexport interface DropdownProps {\n  name: string\n  value: string\n  options: string[]\n  onChange: (v: string) => void\n}\nexport const Dropdown: React.SFC<DropdownProps> = ({\n  name,\n  value,\n  options,\n  onChange = (v: any) => null,\n}) => {\n  const handleChange = (evt: any) => onChange(evt.target.value)\n  const optionDom = options.map(o => (\n    <option key={o} value={o}>\n      {o}\n    </option>\n  ))\n  return (\n    <Container>\n      <NameColumn>{name}</NameColumn>\n      <InputColumn>\n        <select name={name} onChange={handleChange} value={value}>\n          {optionDom}\n        </select>\n      </InputColumn>\n    </Container>\n  )\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { nameColumnWidth } from './constants'\n\nconst Container = styled.div`\n  display: flex;\n`\nconst NameColumn = styled.div`\n  width: ${nameColumnWidth}px;\n`\nconst InputColumn = styled.input`\n  flex: 2;\n`\n\nexport interface ToggleProps {\n  name: string\n  value?: boolean\n  onChange?: (value: boolean) => void\n}\n\nexport const Toggle: React.SFC<ToggleProps> = ({\n  name,\n  value,\n  onChange = (v: any) => null,\n}) => {\n  const handleChange = (evt: any) => onChange(evt.target.checked)\n  return (\n    <Container>\n      <NameColumn>{name}</NameColumn>\n      <InputColumn\n        type=\"checkbox\"\n        name={name}\n        checked={value}\n        onChange={handleChange}\n      />\n      <div>{value}</div>\n    </Container>\n  )\n}\n","// tslint:disable jsx-no-lambda jsx-no-lambda-props react-component-classes-should-implement-scu\nimport * as React from 'react'\nimport styled from 'styled-components'\nimport { SGChart } from './chart'\nimport { Slider } from './slider'\nimport { Dropdown } from './dropdown'\nimport { Toggle } from './toggle'\n\nexport interface SingleMarkTesterState {\n  scenegraph: any\n}\n\nexport interface SliderSpec {\n  name: string\n  min?: number\n  max?: number\n  step?: number\n}\n\nexport interface DropdownSpec {\n  name: string\n  options: string[]\n}\n\nexport interface ToggleSpec {\n  name: string\n}\n\nexport interface SingleMarkTesterProps {\n  initialScenegraph: any\n  sliders?: SliderSpec[]\n  dropdowns?: DropdownSpec[]\n  toggles?: ToggleSpec[]\n  chartWidth?: number\n  chartHeight?: number\n  chartOrigin?: [number, number]\n  updateScenegraph?: (update?: any, scenegraph?: any) => any\n  getParam?: (name: string, scenegraph: any) => any\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 600px;\n`\nconst ChartContainer = styled.div`\n  border: 1px solid grey;\n  margin-right: 25px;\n`\nconst ControlsContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`\n\nexport class SingleMarkTester extends React.Component<\n  SingleMarkTesterProps,\n  SingleMarkTesterState\n> {\n  constructor(props: SingleMarkTesterProps) {\n    super(props)\n    this.state = { scenegraph: props.initialScenegraph }\n  }\n\n  public render() {\n    const {\n      sliders = [],\n      dropdowns = [],\n      toggles = [],\n      chartWidth,\n      chartHeight,\n      chartOrigin,\n    } = this.props\n    const sliderElements = sliders.map(({ name, min, max, step }) => (\n      <Slider\n        key={name}\n        name={name}\n        min={min}\n        max={max}\n        step={step}\n        value={this.getParam(name)}\n        onChange={v =>\n          this.setParam({ [name]: typeof v === 'string' ? parseFloat(v) : v })\n        }\n      />\n    ))\n    const dropdownElements = dropdowns.map(({ name, options }) => (\n      <Dropdown\n        key={name}\n        name={name}\n        options={options}\n        value={this.getParam(name)}\n        onChange={v => this.setParam({ [name]: v }) as any}\n      />\n    ))\n    const toggleElements = toggles.map(({ name }) => (\n      <Toggle\n        key={name}\n        name={name}\n        value={this.getParam(name)}\n        onChange={v => this.setParam({ [name]: v })}\n      />\n    ))\n    return (\n      <Container>\n        <ChartContainer>\n          <SGChart\n            data={this.state.scenegraph}\n            width={chartWidth}\n            height={chartHeight}\n            origin={chartOrigin}\n          />\n        </ChartContainer>\n        <ControlsContainer>\n          {toggleElements}\n          {sliderElements}\n          {dropdownElements}\n        </ControlsContainer>\n      </Container>\n    )\n  }\n\n  private getParam(name: string) {\n    return this.props.getParam\n      ? this.props.getParam(name, this.state.scenegraph)\n      : this.state.scenegraph.items[0][name]\n  }\n\n  private setParam(update: any) {\n    const scenegraph = this.updateScenegraph(update, this.state.scenegraph)\n    this.setState({ ...this.state, scenegraph })\n  }\n\n  private updateScenegraph(update: any, scenegraph: any) {\n    if (this.props.updateScenegraph) {\n      return this.props.updateScenegraph(update, scenegraph)\n    } else {\n      return {\n        ...scenegraph,\n        items: [\n          {\n            ...scenegraph.items[0],\n            ...update,\n          },\n        ],\n      }\n    }\n  }\n}\n","// Go Cougs\nexport const CRIMSON = '#981e32'\nexport const GREY = '#8d959a'\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n}\n\nconst ArcTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'arc',\n      items: [\n        {\n          ...BASE_ITEM,\n          startAngle: -0.73,\n          endAngle: 0.73,\n          padAngle: 0,\n          innerRadius: 0,\n          outerRadius: 50,\n          strokeWidth: 4,\n          x: 100,\n          y: 100,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'startAngle', min: -6.28, max: 6.28, step: 0.1 },\n      { name: 'endAngle', min: -6.28, max: 6.28, step: 0.1 },\n      { name: 'padAngle', min: -6.28, max: 6.28, step: 0.1 },\n      { name: 'innerRadius', max: 100 },\n      { name: 'outerRadius', max: 100 },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n  />\n)\n\nexport default ArcTester\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { Orientation } from '@markable/interfaces'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  strokeWidth: 2,\n  tension: 0,\n  orient: Orientation.Horizontal,\n\n  // Base x2 value\n  x2: 0,\n}\n\nconst chartHeight = 250\nconst interval = chartHeight / 4\n\nconst AreaTesterHorizontal: React.SFC = () => (\n  <SingleMarkTester\n    chartWidth={420}\n    chartHeight={chartHeight}\n    chartOrigin={[10, 0]}\n    initialScenegraph={{\n      marktype: 'area',\n      items: [\n        {\n          y: interval * 0,\n          x: 98.18,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval,\n          x: 20,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval * 2,\n          x: 47.27,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval * 3,\n          x: 76.36,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval * 4,\n          x: 25.4545,\n          ...BASE_ITEM,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x2', min: 0, max: 400 },\n      { name: 'tension', min: 0, max: 1, step: 0.1 },\n      { name: 'strokeWidth', max: 10 },\n      { name: 'strokeOpacity', max: 1, min: 0, step: 0.1 },\n      { name: 'fillOpacity', max: 1, min: 0, step: 0.1 },\n    ]}\n    dropdowns={[\n      {\n        name: 'interpolate',\n        options: [\n          'basis',\n          'cardinal',\n          'catmull-rom',\n          'linear',\n          'monotone',\n          'natural',\n          'step',\n          'step-after',\n          'step-before',\n        ],\n      },\n    ]}\n    toggles={[{ name: 'defined' }]}\n    updateScenegraph={(update, scenegraph) => {\n      scenegraph.items.forEach((item: any) => {\n        Object.keys(update).forEach(key => (item[key] = update[key]))\n      })\n      return scenegraph\n    }}\n  />\n)\n\nexport default AreaTesterHorizontal\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\nimport { Orientation } from '@markable/interfaces'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  strokeWidth: 2,\n  tension: 0,\n  orient: Orientation.Vertical,\n\n  // Y baseline\n  y2: 200,\n}\nconst chartHeight = 250\nconst chartWidth = 420\nconst interval = chartWidth / 5\n\nconst AreaTesterVertical: React.SFC = () => (\n  <SingleMarkTester\n    chartWidth={chartWidth}\n    chartHeight={chartHeight}\n    chartOrigin={[10, 0]}\n    initialScenegraph={{\n      marktype: 'area',\n      items: [\n        {\n          x: interval * 0,\n          y: 98.18,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval,\n          y: 0,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval * 2,\n          y: 47.27,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval * 3,\n          y: 76.36,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval * 4,\n          y: 25.4545,\n          ...BASE_ITEM,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'y2', max: 200, min: 0 },\n      { name: 'tension', min: 0, max: 1, step: 0.1 },\n      { name: 'strokeWidth', max: 10 },\n      { name: 'strokeOpacity', max: 1, min: 0, step: 0.1 },\n      { name: 'fillOpacity', max: 1, min: 0, step: 0.1 },\n    ]}\n    dropdowns={[\n      {\n        name: 'interpolate',\n        options: [\n          'basis',\n          'cardinal',\n          'catmull-rom',\n          'linear',\n          'monotone',\n          'natural',\n          'step',\n          'step-after',\n          'step-before',\n        ],\n      },\n    ]}\n    toggles={[{ name: 'defined' }]}\n    updateScenegraph={(update, scenegraph) => {\n      scenegraph.items.forEach((item: any) => {\n        Object.keys(update).forEach(key => (item[key] = update[key]))\n      })\n      return scenegraph\n    }}\n  />\n)\n\nexport default AreaTesterVertical\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n}\n\nconst GroupTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'group',\n      items: [\n        {\n          ...BASE_ITEM,\n          clip: false,\n          x: 25,\n          x2: 150,\n          y: 25,\n          y2: 150,\n          width: 150,\n          height: 150,\n          cornerRadius: 0,\n          strokeWidth: 4,\n          items: [\n            {\n              marktype: 'rect',\n              items: [\n                {\n                  x: 75,\n                  y: -10,\n                  width: 10,\n                  height: 20,\n                  stroke: palette.CRIMSON,\n                  strokeWidth: 2,\n                  fill: 'white',\n                },\n                {\n                  x: -5,\n                  y: 50,\n                  width: 50,\n                  height: 50,\n                  stroke: palette.CRIMSON,\n                  strokeWidth: 2,\n                  fill: 'white',\n                },\n                {\n                  x: 100,\n                  y: 100,\n                  width: 75,\n                  height: 85,\n                  stroke: palette.CRIMSON,\n                  strokeWidth: 2,\n                  fill: 'white',\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    }}\n    toggles={[{ name: 'clip' }]}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'width', min: 25, max: 150 },\n      { name: 'height', min: 25, max: 150 },\n      { name: 'cornerRadius', max: 20 },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n  />\n)\n\nexport default GroupTester\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  strokeOpacity: 1,\n  strokeWidth: 1,\n}\n\nconst LineTester: React.SFC = () => (\n  <SingleMarkTester\n    chartWidth={420}\n    chartOrigin={[10, 0]}\n    initialScenegraph={{\n      marktype: 'line',\n      items: [\n        {\n          x: 0,\n          y: 98.18,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 80,\n          y: 0,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 160,\n          y: 47.27,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 240,\n          y: 76.36,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 400,\n          y: 25.4545,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'tension', min: 0, max: 1, step: 0.1 },\n      { name: 'strokeWidth', max: 10 },\n      { name: 'strokeOpacity', max: 1, min: 0, step: 0.1 },\n    ]}\n    dropdowns={[\n      {\n        name: 'interpolate',\n        options: [\n          'basis',\n          'cardinal',\n          'catmull-rom',\n          'linear',\n          'monotone',\n          'natural',\n          'step',\n          'step-after',\n          'step-before',\n        ],\n      },\n    ]}\n    updateScenegraph={(update, scenegraph) => {\n      scenegraph.items.forEach((item: any) => {\n        Object.keys(update).forEach(key => (item[key] = update[key]))\n      })\n      return scenegraph\n    }}\n  />\n)\n\nexport default LineTester\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n}\n\nconst RectTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'rect',\n      items: [\n        {\n          ...BASE_ITEM,\n          x: 50,\n          y: 50,\n          width: 75,\n          height: 75,\n          cornerRadius: 0,\n          stroke: palette.CRIMSON,\n          fill: palette.GREY,\n          strokeWidth: 4,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'width' },\n      { name: 'height' },\n      { name: 'cornerRadius', max: 15 },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n  />\n)\n\nexport default RectTester\n","import ArcTester from './arc-tester'\nimport AreaTesterHorizontal from './area-tester-horizontal'\nimport AreaTesterVertical from './area-tester-vertical'\nimport GroupTester from './group-tester'\nimport ImageTester from './image-tester'\nimport LineTester from './line-tester'\nimport PathTester from './path-tester'\nimport ShapeTester from './shape-tester'\nimport RectTester from './rect-tester'\nimport RuleTester from './rule-tester'\nimport TextTester from './text-tester'\n\nexport default {\n  'arc-tester': ArcTester,\n  'area-tester-horizontal': AreaTesterHorizontal,\n  'area-tester-vertical': AreaTesterVertical,\n  'group-tester': GroupTester,\n  'image-tester': ImageTester,\n  'line-tester': LineTester,\n  'path-tester': PathTester,\n  'shape-tester': ShapeTester,\n  'rect-tester': RectTester,\n  'rule-tester': RuleTester,\n  'text-tester': TextTester,\n}\n","import * as React from 'react'\n\nconst ImageTester: React.SFC = () => <div>TODO</div>\n\nexport default ImageTester\n","import * as React from 'react'\n\nconst PathTester: React.SFC = () => <div>TODO</div>\n\nexport default PathTester\n","import * as React from 'react'\n\nconst ShapeTester: React.SFC = () => <div>TODO</div>\n\nexport default ShapeTester\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst RuleTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'rule',\n      items: [\n        {\n          x: 50,\n          y: 50,\n          x2: 100,\n          y2: 100,\n          stroke: palette.CRIMSON,\n          strokeWidth: 4,\n          strokeCap: 'butt',\n          strokeDash: '[1,0]',\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'x2' },\n      { name: 'y2' },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n    dropdowns={[\n      { name: 'strokeCap', options: ['butt', 'round', 'square'] },\n      {\n        name: 'strokeDash',\n        options: ['1,0', '8,8', '4,4', '4,2', '2,1', '1,1'],\n      },\n    ]}\n  />\n)\n\nexport default RuleTester\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\n\nconst TextTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'group',\n      items: [\n        {\n          width: 200,\n          height: 200,\n          items: [\n            {\n              marktype: 'symbol',\n              items: [\n                {\n                  fill: 'firebrick',\n                  size: 25,\n                  x: 100,\n                  y: 100,\n                },\n              ],\n            },\n            {\n              marktype: 'text',\n              items: [\n                {\n                  text: 'Text Label',\n                  x: 100,\n                  y: 100,\n                  font: 'sans-serif',\n                  fontSize: 18,\n                  fill: 'black',\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'dx', min: -20, max: 20 },\n      { name: 'dy', min: -20, max: 20 },\n      { name: 'angle', min: -180, max: 180 },\n      { name: 'fontSize', min: 1, max: 36 },\n      { name: 'limit', min: 0, max: 150 },\n      { name: 'radius', max: 50 },\n      { name: 'theta', max: 6.28, step: 0.1 },\n    ]}\n    dropdowns={[\n      { name: 'align', options: ['left', 'center', 'right'] },\n      {\n        name: 'baseline',\n        options: ['alphabetic', 'top', 'middle', 'bottom'],\n      },\n      { name: 'font', options: ['sans-serif', 'serif', 'monospace'] },\n      { name: 'fontWeight', options: ['normal', 'bold'] },\n      { name: 'fontStyle', options: ['normal', 'italic'] },\n    ]}\n    getParam={(name, scenegraph) =>\n      // Get item parameters off of the textmark's first item, which is nested a bit\n      scenegraph.items[0].items[1].items[0][name]\n    }\n    updateScenegraph={(update, scenegraph) => {\n      const groupMark = scenegraph\n      const firstGroup = scenegraph.items[0]\n      const symbolMark = firstGroup.items[0]\n      const symbolItem = symbolMark.items[0]\n      const textMark = firstGroup.items[1]\n      const textItem = textMark.items[0]\n      return {\n        ...groupMark,\n        items: [\n          {\n            ...firstGroup,\n            items: [\n              {\n                ...symbolMark,\n                items: [\n                  {\n                    ...symbolItem,\n                    x: update.x || symbolItem.x,\n                    y: update.y || symbolItem.y,\n                  },\n                ],\n              },\n              {\n                ...textMark,\n                items: [\n                  {\n                    ...textItem,\n                    ...update,\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      }\n    }}\n  />\n)\n\nexport default TextTester\n","import charts from './charts'\nimport markTesters from './mark-testers'\n\nexport default {\n  ...charts,\n  ...markTesters,\n}\n","import { withPrefix } from 'gatsby'\n\nexport interface MarkdownAstNode {\n  tagName?: string\n  type: string\n  properties?: { [key: string]: any }\n  children: MarkdownAstNode[]\n  data: any\n}\n\nexport default function processImagesInMarkdownAst(ast: MarkdownAstNode): void {\n  checkNode(ast)\n}\n\nfunction checkNode(node: MarkdownAstNode) {\n  if (!node) {\n    return\n  }\n  if (node.tagName === 'img') {\n    const properties = node.properties as { [key: string]: any }\n    const imageSrc: string = (properties && properties.src) || ''\n    if (imageSrc.startsWith('/images')) {\n      properties.src = withPrefix(imageSrc)\n    }\n  }\n  const children = node.children || []\n  children.forEach(child => checkNode(child))\n}\n","import { createElement } from 'react'\nimport components from '../examples'\nimport processImages from './processImagesInMarkdownAst'\n// tslint:disable-next-line\nconst log = require('debug')('site:renderHtmlAst')\n\n// tslint:disable-next-line\nconst rehypeReact = require('rehype-react')\nconst renderAst = new rehypeReact({\n  createElement,\n  components,\n}).Compiler\n\nexport default function renderHtmlAst(node: any) {\n  try {\n    processImages(node)\n    return renderAst(node)\n  } catch (err) {\n    // tslint:disable-next-line\n    log('error rendering doc page', err)\n  }\n}\n","import { SidebarItem, TreeNode } from './interfaces'\n\n/**\n * Creates a nested tree of sidebar items given a flat array of items\n * @param items The sidebar items to create the tree from\n */\nexport function createTree(items: SidebarItem[]) {\n  const tree: { [key: string]: TreeNode } = {}\n\n  // Insert each item into the tree\n  items.forEach(i => insertItemIntoTree(i, tree))\n  Object.keys(tree).forEach(key => {\n    const subtree = tree[key]\n    pruneTree(subtree)\n  })\n\n  return Object.keys(tree)\n    .map(k => tree[k])\n    .filter(t => !!t)\n    .sort((a, b) => (a as any).item.order - (b as any).item.order)\n}\n\nfunction pruneTree(tree: TreeNode): TreeNode {\n  if (isLeaf(tree)) {\n    return tree\n  }\n  const children = childrenOf(tree).map(c => pruneTree(c))\n\n  const newChildren: TreeNode[] = []\n  children.forEach(child => {\n    if (child.item === undefined) {\n      newChildren.push(...childrenOf(child))\n    } else {\n      newChildren.push(child)\n    }\n  })\n\n  tree.children = childHash(newChildren)\n  return tree\n}\n\nfunction childHash(children: TreeNode[]) {\n  const result: { [key: string]: TreeNode } = {}\n  children.forEach(child => (result[child.pathKey] = child))\n  return result\n}\n\nfunction childrenOf(tree: TreeNode) {\n  return Object.keys(tree.children).map(k => tree.children[k])\n}\n\nfunction isLeaf(tree: TreeNode) {\n  return childrenOf(tree).length === 0\n}\n\nfunction insertItemIntoTree(\n  item: SidebarItem,\n  tree: { [key: string]: TreeNode }\n) {\n  // Split the path up into \"items\" which will be used to create the three\n  const pathItems = item.path\n    .split('/')\n    .filter(t => !!t)\n    .slice(1)\n\n  const rootItem = pathItems[0]\n  let rootTree = tree[rootItem]\n  if (!rootTree) {\n    rootTree = tree[rootItem] = {\n      item: undefined as any,\n      pathKey: rootItem,\n      children: {},\n    }\n  }\n\n  if (pathItems.length === 1) {\n    rootTree.item = item\n  } else {\n    insertPathItemIntoTree(item, pathItems, rootTree)\n  }\n}\n\nfunction insertPathItemIntoTree(\n  item: SidebarItem,\n  pathItems: string[],\n  tree: TreeNode\n) {\n  // skip the first item since it's been added to the root hash already\n  let current = tree\n  pathItems.splice(1).forEach((pi, index) => {\n    if (!current.children[pi]) {\n      current.children[pi] = {\n        item: undefined as any,\n        pathKey: pi,\n        children: {},\n      }\n    }\n    current = current.children[pi]\n  })\n  current.item = item\n}\n","// tslint:disable no-var-requires no-submodule-imports\nimport * as React from 'react'\nimport { TreeNode } from './interfaces'\nimport { Link as RawLink } from 'gatsby'\nimport styled from 'styled-components'\nimport theme from '../../util/theme'\nimport {\n  FaAngleDown as ExpandedIconRaw,\n  FaAngleRight as CollapsedIconRaw,\n} from 'react-icons/fa'\n\nexport interface LinkTreeProps {\n  node: TreeNode\n  depth: number\n  expanded?: boolean\n  activePath: string\n}\n\nconst ToggleSize = 15\n\nexport interface LinkTreeState {\n  expanded: boolean\n  hasBeenManuallyToggled: boolean\n}\n\nexport default class LinkTree extends React.Component<\n  LinkTreeProps,\n  LinkTreeState\n> {\n  constructor(props: LinkTreeProps) {\n    super(props)\n    this.state = { expanded: !!props.expanded, hasBeenManuallyToggled: false }\n  }\n\n  public componentDidMount() {\n    const { activePath, node } = this.props\n    if (activePath.startsWith(node.item.path)) {\n      this.setState({ expanded: true })\n    }\n  }\n\n  public render(): JSX.Element | null {\n    const { node } = this.props\n    const { item, children } = node\n    if (!item) {\n      return null\n    }\n\n    const childKeys = Object.keys(children)\n    const linkStyle = this.getLinkStyle()\n\n    return (\n      <Container>\n        <CurrentLevel>\n          {this.renderIcon(childKeys)}\n          <Link to={item.path} {...{ style: linkStyle }}>\n            {item.title || node.pathKey}\n          </Link>\n        </CurrentLevel>\n        {this.renderChildren(childKeys)}\n      </Container>\n    )\n  }\n\n  private getLinkStyle(): React.CSSProperties {\n    const {\n      activePath,\n      depth,\n      node: { item },\n    } = this.props\n\n    const marginLeft = 15 + depth * 15\n    const fontSize = 16 - depth * 2\n    const linkStyle: React.CSSProperties = {\n      marginLeft,\n      fontSize,\n    }\n\n    if (activePath === item.path) {\n      linkStyle.color = theme.text.highlight\n      linkStyle.fontWeight = 500\n    }\n\n    return linkStyle\n  }\n\n  private renderIcon(childKeys: string[]) {\n    if (childKeys.length === 0) {\n      return <IconSpacer />\n    } else if (this.state.expanded) {\n      return (\n        <ExpandedIcon onClick={this.onExpandCollapseClick} size={ToggleSize} />\n      )\n    } else {\n      return (\n        <CollapsedIcon onClick={this.onExpandCollapseClick} size={ToggleSize} />\n      )\n    }\n  }\n\n  private renderChildren(childKeys: string[]) {\n    const { node, depth, activePath } = this.props\n    const { expanded } = this.state\n    if (!expanded) {\n      return null\n    }\n\n    // Get the nodes for the children and sort them\n    const childNodes = childKeys.map(ck => node.children[ck])\n    childNodes.sort((a, b) => (a.item.order || 0) - (b.item.order || 0))\n\n    return childNodes.map(c => (\n      <LinkTree\n        key={c.pathKey}\n        node={c}\n        depth={depth + 1}\n        activePath={activePath}\n      />\n    ))\n  }\n\n  private onExpandCollapseClick = () => {\n    this.setState({\n      expanded: !this.state.expanded,\n      hasBeenManuallyToggled: true,\n    })\n  }\n}\n\nconst Container = styled.div``\n\nconst IconSpacer = styled.span`\n  width: 15px;\n`\n\nconst CurrentLevel = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`\n\nconst ExpandedIcon = styled(ExpandedIconRaw)`\n  color: #999;\n  cursor: pointer;\n  width: 15px;\n`\n\nconst CollapsedIcon = styled(CollapsedIconRaw)`\n  color: #999;\n  cursor: pointer;\n  width: 15px;\n`\n\nconst Link = styled(RawLink)`\n  font-family: ${theme.text.fontFamily};\n  line-height: ${theme.text.lineHeight * 1.5};\n  font-weight: 100;\n  font-size: 16px;\n  display: flex;\n  flex-direction: column;\n`\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { SidebarItem, TreeNode } from './interfaces'\nimport { createTree } from './createTree'\nimport LinkTree from './link_tree'\n\nexport { SidebarItem } from './interfaces'\n\nexport interface SidebarProps {\n  items: SidebarItem[]\n  activePath: string\n}\n\nconst Sidebar: React.SFC<SidebarProps> = ({ items, activePath }) => {\n  const tree: TreeNode[] = createTree(items)\n  return (\n    <Container>\n      {tree\n        .map(subtree => {\n          return !subtree.item ? null : (\n            <LinkTree\n              key={subtree.pathKey}\n              node={subtree}\n              depth={0}\n              activePath={activePath}\n            />\n          )\n        })\n        .filter(t => !!t)}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n`\n\nexport default Sidebar\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Chart\"));\n__export(require(\"./Axis\"));\n__export(require(\"./interfaces\"));\n__export(require(\"./scales\"));\n__export(require(\"./marks\"));\nvar interfaces_1 = require(\"@markable/interfaces\");\nexports.Dimension = interfaces_1.Dimension;\nvar scales_1 = require(\"@markable/scales\");\nexports.CategoricalColorScheme = scales_1.CategoricalColorScheme;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A supertype for every node in the scene. Both marks and items extend this\n */\nclass SceneNode {\n    constructor() {\n        /**\n         * Metadata about this mark\n         */\n        this.metadata = {};\n    }\n}\nexports.SceneNode = SceneNode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass SceneNodeBuilder {\n    constructor() {\n        this.markBuilders = [];\n        this.axisBuilders = [];\n        /**\n         * The scales defined for children of this node\n         */\n        this.scales = [];\n    }\n    /**\n     * Adds a scale-creator to the scene configuration\n     * @param name The name of the scale-creator to add\n     * @param table The name of the bound datatable to use\n     * @param creator The scale-creator\n     */\n    scale(...creators) {\n        creators.forEach(c => this.scales.push(typeof c.build === 'function' ? c.build() : c));\n        return this;\n    }\n    mark(...builders) {\n        this.markBuilders.push(...builders);\n        return this;\n    }\n    axes(...builders) {\n        this.axisBuilders.push(...builders);\n        return this;\n    }\n    /**\n     * Builds the scene object\n     */\n    build() {\n        const { scales, markBuilders, axisBuilders } = this;\n        return {\n            marks: markBuilders.map(m => m.build()),\n            axes: axisBuilders.map(m => m.build()),\n            scales,\n        };\n    }\n}\nexports.SceneNodeBuilder = SceneNodeBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainScale_1 = require(\"./DomainScale\");\nconst reverse = require('lodash/reverse');\nclass DomainRangeScale extends DomainScale_1.DomainScale {\n    range(arg) {\n        if (typeof arg === 'function') {\n            this.rangeValue = arg;\n        }\n        else if (Array.isArray(arg)) {\n            this.rangeValue = () => arg;\n        }\n        else if (typeof arg !== undefined) {\n            this.bindRangeValue = arg;\n        }\n        else {\n            this.rangeValue = undefined;\n            this.bindRangeValue = undefined;\n        }\n        return this;\n    }\n    reverse(reversed) {\n        this.reverseValue = reversed === undefined ? true : reversed;\n        return this;\n    }\n    getRange(args) {\n        const range = this.determineRange(args);\n        const result = this.reverseValue ? this.reverseRange(range) : range;\n        return result;\n    }\n    reverseRange(range) {\n        const result = [...range];\n        return reverse(result);\n    }\n    determineRange(args) {\n        if (this.rangeValue) {\n            return this.rangeValue(args);\n        }\n        else {\n            const bindRange = this.bindRangeValue;\n            if (!bindRange) {\n                throw new Error('Either bindRange or range must be set');\n            }\n            return this.handleRangeBind(args, bindRange);\n        }\n    }\n}\nexports.DomainRangeScale = DomainRangeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass DomainScale {\n    name(value) {\n        this.nameValue = value;\n        return this;\n    }\n    table(value) {\n        this.tableValue = value;\n        return this;\n    }\n    domain(arg) {\n        if (typeof arg === 'function') {\n            this.domainValue = arg;\n        }\n        else if (Array.isArray(arg)) {\n            this.domainValue = () => arg;\n        }\n        else if (arg !== undefined && typeof arg === 'string') {\n            this.bindDomainValue = arg;\n        }\n        else {\n            this.domainValue = undefined;\n            this.bindDomainValue = undefined;\n        }\n        return this;\n    }\n    build() {\n        if (!this.nameValue) {\n            throw new Error('scale name must be defined');\n        }\n        return (args) => this.createScale(args);\n    }\n    processDomainValues(values) {\n        return values;\n    }\n    getDomain(args) {\n        return this.domainValue\n            ? this.domainValue(args)\n            : this.getDomainFromTableBinding(args);\n    }\n    getDomainFromTableBinding(args) {\n        if (!this.tableValue) {\n            throw new Error('table must be defined');\n        }\n        if (!this.bindDomainValue) {\n            throw new Error('domain must be defined');\n        }\n        const bind = this.bindDomainValue;\n        const data = args.data[this.tableValue] || [];\n        const domainValues = data.map((d) => d[bind]);\n        const result = this.processDomainValues(domainValues);\n        return result;\n    }\n    get bindDomainArray() {\n        const bindDomain = this.bindDomainValue;\n        if (!bindDomain) {\n            throw new Error('Either bindDomain or domain must be set');\n        }\n        return typeof bindDomain === 'string'\n            ? [bindDomain]\n            : bindDomain;\n    }\n}\nexports.DomainScale = DomainScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nfunction getBoundRange(args, rangeBind) {\n    const { viewBounds: { x, y }, } = args;\n    // If an origin is defined, this will use the origin in the scale calculatinos\n    return rangeBind === interfaces_1.Dimension.Height ? y : x;\n}\nexports.getBoundRange = getBoundRange;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable max-classes-per-file\nconst React = require(\"react\");\nconst Context_1 = require(\"../Context\");\nclass DomainScale extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, (api) => {\n            this.apiInstance = api;\n            this.addScale();\n            return null;\n        }));\n    }\n    get api() {\n        if (!this.apiInstance) {\n            throw new Error('api must be defined');\n        }\n        return this.apiInstance;\n    }\n    addScale() {\n        this.api.scale(this.createScale());\n    }\n}\nexports.DomainScale = DomainScale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Orchestrator\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./items\"));\n__export(require(\"./Mark\"));\n__export(require(\"./SceneNode\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Elements = require(\"./elements\");\nconst registry_1 = require(\"./registry\");\nconst MarkBuilder_1 = require(\"./MarkBuilder\");\n/**\n *\n * @param markType The type of mark item to create\n * @param item The mark items to add\n */\nfunction createMark(markType, items) {\n    items.forEach((item, index) => {\n        if (item.itemtype !== markType) {\n            throw new Error(`Mark type must match the type of it's child items. Mark ${markType}, child ${item.itemtype}@${index}`);\n        }\n    });\n    const result = new Elements.Mark();\n    result.marktype = markType;\n    result.items = items;\n    return result;\n}\nexports.createMark = createMark;\nfunction createItem(itemType, props = {}) {\n    return registry_1.createItemType(itemType, props);\n}\nexports.createItem = createItem;\nfunction buildMark(markType) {\n    return new MarkBuilder_1.MarkBuilder(markType);\n}\nexports.buildMark = buildMark;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst registry_1 = require(\"./registry\");\nconst ArcRenderer_1 = require(\"./ArcRenderer\");\nconst AreaRenderer_1 = require(\"./AreaRenderer\");\nconst GroupRenderer_1 = require(\"./GroupRenderer\");\nconst ImageRenderer_1 = require(\"./ImageRenderer\");\nconst LineRenderer_1 = require(\"./LineRenderer\");\nconst PathRenderer_1 = require(\"./PathRenderer\");\nconst RectRenderer_1 = require(\"./RectRenderer\");\nconst RuleRenderer_1 = require(\"./RuleRenderer\");\nconst SymbolRenderer_1 = require(\"./SymbolRenderer\");\nconst TextRenderer_1 = require(\"./TextRenderer\");\nconst TrailRenderer_1 = require(\"./TrailRenderer\");\nconst ShapeRenderer_1 = require(\"./ShapeRenderer\");\nregistry_1.registerRenderer(interfaces_1.MarkType.Arc, new ArcRenderer_1.ArcRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Area, new AreaRenderer_1.AreaRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Group, new GroupRenderer_1.GroupRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Image, new ImageRenderer_1.ImageRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Line, new LineRenderer_1.LineRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Path, new PathRenderer_1.PathRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Rect, new RectRenderer_1.RectRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Rule, new RuleRenderer_1.RuleRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Shape, new ShapeRenderer_1.ShapeRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Symbol, new SymbolRenderer_1.SymbolRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Text, new TextRenderer_1.TextRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Trail, new TrailRenderer_1.TrailRenderer());\n__export(require(\"./registry\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst itemRendererRegistry = new Map();\nfunction registerRenderer(markType, markRenderer) {\n    itemRendererRegistry.set(markType, markRenderer);\n}\nexports.registerRenderer = registerRenderer;\nfunction renderMark(mark, context) {\n    if (!mark.marktype) {\n        throw new Error(`Unhandled mark type \"${mark.marktype}\"`);\n    }\n    const renderer = itemRendererRegistry.get(mark.marktype);\n    return renderer ? renderer.render(mark, context) : { nodes: [] };\n}\nexports.renderMark = renderMark;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst buildMarkItem_1 = require(\"./marks/buildMarkItem\");\nconst axes_1 = require(\"./axes\");\nconst scenegraph_1 = require(\"@markable/scenegraph\");\n/**\n * Processes a scene specification node into the SceneGraph model\n * @param node The scene node to process\n * @param scaleFrame The scales available for the given scene node\n */\nfunction processNode(node, parentFrame) {\n    // Push the new node, which registers channels and recomputes scales\n    const frame = parentFrame.pushNode(node);\n    // Build out the axes, which may or may not update the frame\n    const { remainingSpace, axes } = axes_1.buildAxes(node, frame);\n    // Construct the items for the marks\n    const markFrame = frame.pushView(remainingSpace.shape);\n    const markItems = node.marks.map(mark => buildMarkItem_1.buildMarkItem(mark, markFrame));\n    // Emit the result - if axes are present, wrap the marks in a group to put them in the correct space\n    if (axes.length > 0) {\n        return [...axes, createMarkGroup(markItems, remainingSpace)];\n    }\n    else {\n        return markItems;\n    }\n}\nexports.processNode = processNode;\nfunction createMarkGroup(items, space) {\n    return scenegraph_1.buildMark(interfaces_1.MarkType.Group)\n        .role('marks')\n        .items(Object.assign({}, space.origin, space.shape, { items }))\n        .build();\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-this-assignment unified-signatures\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst SceneNodeBuilder_1 = require(\"./SceneNodeBuilder\");\nclass MarkBuilder {\n    constructor(type) {\n        this.type = type;\n        this.channelsValue = {};\n        this.encodingsValue = {};\n    }\n    table(table) {\n        this.tableValue = table;\n        return this;\n    }\n    singleton(value) {\n        this.singletonValue = value;\n        return this;\n    }\n    role(role) {\n        this.roleValue = role;\n        return this;\n    }\n    name(name) {\n        this.nameValue = name;\n        return this;\n    }\n    zIndex(zIndex) {\n        if (zIndex !== undefined) {\n            this.encode(interfaces_1.MarkEncodingKey.zIndex, () => zIndex);\n        }\n        else {\n            delete this.encodingsValue.zIndex;\n        }\n        return this;\n    }\n    handle(name, handler) {\n        if (typeof name === 'string') {\n            if (!handler) {\n                throw new Error(`handler function must be defined for handler ${name}`);\n            }\n            this.channelsValue[name] = handler;\n        }\n        else {\n            const channels = name;\n            Object.entries(channels).forEach(([nameVal, handlerVal]) => (this.channelsValue[nameVal] = handlerVal));\n        }\n        return this;\n    }\n    // #endregion\n    // Polymorphic function definition\n    encode(first, encoding) {\n        if (typeof first === 'string') {\n            // Handle encode(key, encoding) invocations\n            const key = first;\n            if (!encoding) {\n                throw new Error(`encoding must be defined for key ${key}`);\n            }\n            this.encodingsValue[key] = encoding;\n        }\n        else {\n            // Handle encode(map) invocations\n            const encodings = first;\n            Object.entries(encodings).forEach(([name, entryEncoding]) => (this.encodingsValue[name] = entryEncoding));\n            return this;\n        }\n        return this;\n    }\n    facet(facet) {\n        if (facet !== undefined && this.type !== interfaces_1.MarkType.Group) {\n            throw new Error('faceting can only be applied to group type marks');\n        }\n        this.facetValue = facet;\n        return this;\n    }\n    /**\n     * Pushes a new scene node onto the graph\n     */\n    child(callback) {\n        this.childNode = new SceneNodeBuilder_1.SceneNodeBuilder();\n        callback(this.childNode);\n        return this;\n    }\n    build() {\n        const { type, tableValue: table, channelsValue: channels, encodingsValue: encodings, roleValue: role, nameValue: name, facetValue: facet, singletonValue: singleton, childNode, } = this;\n        if (!type) {\n            throw new Error('mark type must be set');\n        }\n        return {\n            table,\n            type,\n            channels,\n            encodings,\n            role,\n            name,\n            facet,\n            singleton,\n            child: childNode && childNode.build(),\n        };\n    }\n}\nexports.MarkBuilder = MarkBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction captureCommonEncodings(props) {\n    const result = {};\n    const transferProp = (name) => {\n        const propVal = props[name];\n        if (propVal !== undefined) {\n            result[name] = propVal;\n        }\n    };\n    [\n        'x',\n        'x2',\n        'xc',\n        'width',\n        'y',\n        'y2',\n        'yc',\n        'height',\n        'opacity',\n        'fill',\n        'fillOpacity',\n        'stroke',\n        'strokeOpacity',\n        'strokeWidth',\n        'strokeCap',\n        'strokeDash',\n        'strokeDashOffset',\n        'strokeJoin',\n        'strokeMiterLimit',\n        'cursor',\n        'href',\n        'tooltip',\n        'zIndex',\n    ].map(pv => transferProp(pv));\n    return result;\n}\nexports.captureCommonEncodings = captureCommonEncodings;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./LinearScale\"));\n__export(require(\"./LogScale\"));\n__export(require(\"./PowScale\"));\n__export(require(\"./SequentialScale\"));\n__export(require(\"./SqrtScale\"));\n__export(require(\"./TimeScale\"));\n__export(require(\"./UtcScale\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./BandScale\"));\n__export(require(\"./OrdinalScale\"));\n__export(require(\"./PointScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst category10 = [\n    '#1f77b4',\n    '#ff7f0e',\n    '#2ca02c',\n    '#d62728',\n    '#9467bd',\n    '#8c564b',\n    '#e377c2',\n    '#7f7f7f',\n    '#bcbd22',\n    '#17becf',\n];\nconst category20 = [\n    '#1f77b4',\n    '#aec7e8',\n    '#ff7f0e',\n    '#ffbb78',\n    '#2ca02c',\n    '#98df8a',\n    '#d62728',\n    '#ff9896',\n    '#9467bd',\n    '#c5b0d5',\n    '#8c564b',\n    '#c49c94',\n    '#e377c2',\n    '#f7b6d2',\n    '#7f7f7f',\n    '#c7c7c7',\n    '#bcbd22',\n    '#dbdb8d',\n    '#17becf',\n    '#9edae5',\n];\nconst category20b = [\n    '#393b79',\n    '#5254a3',\n    '#6b6ecf',\n    '#9c9ede',\n    '#637939',\n    '#8ca252',\n    '#b5cf6b',\n    '#cedb9c',\n    '#8c6d31',\n    '#bd9e39',\n    '#e7ba52',\n    '#e7cb94',\n    '#843c39',\n    '#ad494a',\n    '#d6616b',\n    '#e7969c',\n    '#7b4173',\n    '#a55194',\n    '#ce6dbd',\n    '#de9ed6',\n];\nconst category20c = [\n    '#3182bd',\n    '#6baed6',\n    '#9ecae1',\n    '#c6dbef',\n    '#e6550d',\n    '#fd8d3c',\n    '#fdae6b',\n    '#fdd0a2',\n    '#31a354',\n    '#74c476',\n    '#a1d99b',\n    '#c7e9c0',\n    '#756bb1',\n    '#9e9ac8',\n    '#bcbddc',\n    '#dadaeb',\n    '#636363',\n    '#969696',\n    '#bdbdbd',\n    '#d9d9d9',\n];\nvar CategoricalColorScheme;\n(function (CategoricalColorScheme) {\n    CategoricalColorScheme[\"category10\"] = \"category10\";\n    CategoricalColorScheme[\"category20\"] = \"category20\";\n    CategoricalColorScheme[\"category20b\"] = \"category20b\";\n    CategoricalColorScheme[\"category20c\"] = \"category20c\";\n})(CategoricalColorScheme = exports.CategoricalColorScheme || (exports.CategoricalColorScheme = {}));\nexports.colorSchemeMap = new Map();\nexports.colorSchemeMap.set(CategoricalColorScheme.category10, category10);\nexports.colorSchemeMap.set(CategoricalColorScheme.category20, category20);\nexports.colorSchemeMap.set(CategoricalColorScheme.category20b, category20b);\nexports.colorSchemeMap.set(CategoricalColorScheme.category20c, category20c);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainScale_1 = require(\"./DomainScale\");\nclass DomainRangeScale extends DomainScale_1.DomainScale {\n    get isReversed() {\n        return this.props.reverse || false;\n    }\n}\nexports.DomainRangeScale = DomainRangeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompareOrder;\n(function (CompareOrder) {\n    CompareOrder[\"ascending\"] = \"asc\";\n    CompareOrder[\"descending\"] = \"desc\";\n})(CompareOrder = exports.CompareOrder || (exports.CompareOrder = {}));\nvar Offset;\n(function (Offset) {\n    Offset[\"zero\"] = \"zero\";\n    Offset[\"center\"] = \"center\";\n    Offset[\"normalize\"] = \"normalize\";\n})(Offset = exports.Offset || (exports.Offset = {}));\nfunction createSorter(sorts) {\n    return (a, b) => {\n        let result = 0;\n        for (const sort of sorts) {\n            const { order = CompareOrder.descending, field } = sort;\n            const valueA = field(a);\n            const valueB = field(b);\n            if (order === CompareOrder.ascending) {\n                result = valueA - valueB;\n            }\n            if (result !== 0) {\n                break;\n            }\n        }\n        return result;\n    };\n}\nexports.createSorter = createSorter;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-var-requires\nconst React = require(\"react\");\nconst orchestrator_1 = require(\"@markable/orchestrator\");\nconst ChartSpec_1 = require(\"./ChartSpec\");\nconst shallowequal = require('shallowequal');\nclass Chart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.receiveSpec = (spec) => {\n            const rendered = this.pipeline.renderScene(spec, {\n                width: this.props.width,\n                height: this.props.height,\n                padding: this.props.padding,\n            }, this.props.data);\n            this.setState({ rendered });\n        };\n        this.pipeline = new orchestrator_1.Orchestrator(props.renderer);\n        this.state = { rendered: null };\n    }\n    shouldComponentUpdate(props, state) {\n        return !shallowequal(this.props, props) || !shallowequal(this.state, state);\n    }\n    componentDidMount() {\n        if (this.props.scene) {\n            this.receiveSpec(this.props.scene);\n        }\n    }\n    render() {\n        const _a = this.props, { renderer, data } = _a, props = __rest(_a, [\"renderer\", \"data\"]);\n        return (React.createElement(React.Fragment, null,\n            React.createElement(ChartSpec_1.ChartSpec, Object.assign({}, props, { onSpecReady: this.receiveSpec }), this.props.children),\n            this.state.rendered));\n    }\n}\nexports.Chart = Chart;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nconst vsvg_1 = require(\"@markable/vsvg\");\nconst scene_1 = require(\"@markable/scene\");\nclass Orchestrator {\n    constructor(renderer, prerenderer = new vsvg_1.VirtualSvgConverter()) {\n        this.renderer = renderer;\n        this.prerenderer = prerenderer;\n    }\n    /**\n     * Renders a raw scenegraph object into view. This is mostly useful for internal debugging\n     * @param rawScene The raw scenegraph object to render\n     * @param options Charting options\n     */\n    renderScenegraph(rawScene, options = {}) {\n        try {\n            const scenegraph = scenegraph_1.parseScene(rawScene);\n            const intermediate = this.prerenderer.render(scenegraph, options);\n            return this.renderer.render(intermediate, {});\n        }\n        catch (err) {\n            console.log('error rendering scenegraph', err);\n            throw err;\n        }\n    }\n    /**\n     * Binds data to a scene and renders it into view.\n     * @param scene The scene to rendre\n     * @param options The chart options\n     * @param tables The charting data\n     */\n    renderScene(scene, options = {}, tables) {\n        try {\n            const sg = scene_1.createScenegraph(scene, tables, options);\n            const vdom = this.prerenderer.render(sg.root, options);\n            return this.renderer.render(vdom, sg.channelHandlers);\n        }\n        catch (err) {\n            console.log('error rendering scene', err);\n            throw err;\n        }\n    }\n}\nexports.Orchestrator = Orchestrator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst elements_1 = require(\"./elements\");\nconst registry_1 = require(\"./registry\");\nconst KNOWN_KEYS = [\n    'marktype',\n    'name',\n    'role',\n    'interactive',\n    'clip',\n    'items',\n    'zindex',\n    // layout\n    'x',\n    'y',\n    'width',\n    'height',\n    'align',\n    'baseline',\n    // fill\n    'fill',\n    'fillOpacity',\n    'opacity',\n    // stroke\n    'stroke',\n    'strokeOpacity',\n    'strokeWidth',\n    'strokeCap',\n    // stroke dash\n    'strokeDash',\n    'strokeDashOffset',\n    // arc\n    'startAngle',\n    'endAngle',\n    'innerRadius',\n    'outerRadius',\n    // arc, rect\n    'cornerRadius',\n    'padAngle',\n    // area, line\n    'interpolate',\n    'tension',\n    'orient',\n    'defined',\n    // image\n    'url',\n    // path\n    'path',\n    // rule\n    'x2',\n    'y2',\n    // symbol\n    'size',\n    'shape',\n    // text\n    'text',\n    'angle',\n    'theta',\n    'radius',\n    'dx',\n    'dy',\n    // font\n    'font',\n    'fontSize',\n    'fontWeight',\n    'fontStyle',\n    'fontVariant',\n];\nfunction sceneToJSON(scene, indent) {\n    return JSON.stringify(scene, KNOWN_KEYS, indent);\n}\nexports.sceneToJSON = sceneToJSON;\nfunction parseScene(json) {\n    const scene = typeof json === 'string' ? JSON.parse(json) : json;\n    return initializeMark(scene);\n}\nexports.parseScene = parseScene;\n/**\n * Unpack a raw scenegraph Mark node into the scenegraph object model\n * @param rawMark The raw mark object\n */\nfunction initializeMark(rawMark) {\n    const { marktype, role } = rawMark;\n    // Construct the output mark\n    const result = new elements_1.Mark();\n    result.marktype = marktype;\n    result.role = role;\n    result.items = (rawMark.items || []).map((rawItem) => {\n        const parentType = marktype ? interfaces_1.SGNodeType.Mark : interfaces_1.SGNodeType.Item;\n        // Initialize the data for this child node\n        const item = parentType === interfaces_1.SGNodeType.Mark\n            ? initializeItem(marktype, rawItem)\n            : initializeMark(rawItem);\n        // Set parentage information\n        item.parent = result;\n        item.parentType = parentType;\n        return item;\n    });\n    if (rawMark.hasOwnProperty('clip')) {\n        result.clip = rawMark.clip;\n    }\n    if (rawMark.hasOwnProperty('interactive')) {\n        result.interactive = rawMark.interactive;\n    }\n    return result;\n}\n/**\n * Unpack a raw scenegraph Item node into the scenegraph object model\n * @param marktype The mark type of the item\n * @param rawItem The raw item object\n */\nfunction initializeItem(marktype, rawItem) {\n    const result = registry_1.createItemType(marktype, rawItem);\n    // If this is a group item, populate the nested marks\n    if (result.itemtype === elements_1.GroupItem.ITEM_TYPE) {\n        const group = result;\n        const items = (rawItem.items || []).map((item) => initializeMark(item));\n        group.items = items;\n    }\n    return result;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An enumeration for the possible mark types.\n * Possible values are\n * \t'arc',\n *  'area',\n *  'group',\n *  'image',\n *  'line',\n *  'path',\n *  'rect',\n *  'rule',\n *  'symbol',\n *  'text', and\n *  'trail'.\n */\nvar MarkType;\n(function (MarkType) {\n    MarkType[\"Arc\"] = \"arc\";\n    MarkType[\"Area\"] = \"area\";\n    MarkType[\"Group\"] = \"group\";\n    MarkType[\"Image\"] = \"image\";\n    MarkType[\"Line\"] = \"line\";\n    MarkType[\"Path\"] = \"path\";\n    MarkType[\"Rect\"] = \"rect\";\n    MarkType[\"Rule\"] = \"rule\";\n    MarkType[\"Symbol\"] = \"symbol\";\n    MarkType[\"Text\"] = \"text\";\n    MarkType[\"Trail\"] = \"trail\";\n    MarkType[\"Shape\"] = \"shape\";\n})(MarkType = exports.MarkType || (exports.MarkType = {}));\n/**\n * An enumeration for area marks. May be 'horizontal' or 'vertical'\n */\nvar Orientation;\n(function (Orientation) {\n    Orientation[\"Horizontal\"] = \"horizontal\";\n    Orientation[\"Vertical\"] = \"vertical\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));\n/**\n * Line interpolation types. These define if and how curves are\n * smoothed in line, area, and stream marks.\n */\nvar Interpolation;\n(function (Interpolation) {\n    Interpolation[\"Basis\"] = \"basis\";\n    Interpolation[\"Bundle\"] = \"bundle\";\n    Interpolation[\"Cardinal\"] = \"cardinal\";\n    Interpolation[\"CatmullRom\"] = \"catmull-rom\";\n    Interpolation[\"Linear\"] = \"linear\";\n    Interpolation[\"Monotone\"] = \"monotone\";\n    Interpolation[\"Natural\"] = \"natural\";\n    Interpolation[\"step\"] = \"step\";\n    Interpolation[\"stepAfter\"] = \"step-after\";\n    Interpolation[\"stepBefore\"] = \"step-before\";\n})(Interpolation = exports.Interpolation || (exports.Interpolation = {}));\n/**\n * Horizontal Alignment parameter for marks. Mostly useful for Text marks.\n */\nvar HorizontalAlignment;\n(function (HorizontalAlignment) {\n    HorizontalAlignment[\"Left\"] = \"left\";\n    HorizontalAlignment[\"Center\"] = \"center\";\n    HorizontalAlignment[\"Right\"] = \"right\";\n})(HorizontalAlignment = exports.HorizontalAlignment || (exports.HorizontalAlignment = {}));\n/**\n * Vertical Alignment enumeration for marks (Image and Text)\n */\nvar VerticalAlignment;\n(function (VerticalAlignment) {\n    VerticalAlignment[\"Top\"] = \"top\";\n    VerticalAlignment[\"Middle\"] = \"middle\";\n    VerticalAlignment[\"Bottom\"] = \"bottom\";\n})(VerticalAlignment = exports.VerticalAlignment || (exports.VerticalAlignment = {}));\n/**\n * Vertical Text Alignment parameter for Text marks.\n */\nvar VerticalTextAlignment;\n(function (VerticalTextAlignment) {\n    VerticalTextAlignment[\"Alphabetic\"] = \"alphabetic\";\n    VerticalTextAlignment[\"Top\"] = \"top\";\n    VerticalTextAlignment[\"Middle\"] = \"middle\";\n    VerticalTextAlignment[\"Bottom\"] = \"bottom\";\n})(VerticalTextAlignment = exports.VerticalTextAlignment || (exports.VerticalTextAlignment = {}));\n/**\n * An enumeration of the kinds of symbols the Symbol mark may represent.\n */\nvar SymbolType;\n(function (SymbolType) {\n    SymbolType[\"Circle\"] = \"circle\";\n    SymbolType[\"Square\"] = \"square\";\n    SymbolType[\"Cross\"] = \"cross\";\n    SymbolType[\"Diamond\"] = \"diamond\";\n    SymbolType[\"TriangleUp\"] = \"triangle-up\";\n    SymbolType[\"TriangleDown\"] = \"triangle-down\";\n    SymbolType[\"TriangleRight\"] = \"triangle-right\";\n    SymbolType[\"TriangleLeft\"] = \"triangle-left\";\n})(SymbolType = exports.SymbolType || (exports.SymbolType = {}));\n/**\n * An enumeration of the TextDirection values for Text marks.\n */\nvar TextDirection;\n(function (TextDirection) {\n    TextDirection[\"LTR\"] = \"ltr\";\n    TextDirection[\"RTL\"] = \"rtl\";\n})(TextDirection = exports.TextDirection || (exports.TextDirection = {}));\n/**\n * Stroke-cap style for Marks with lines.\n */\nvar StrokeCap;\n(function (StrokeCap) {\n    StrokeCap[\"Butt\"] = \"butt\";\n    StrokeCap[\"Round\"] = \"round\";\n    StrokeCap[\"Square\"] = \"square\";\n})(StrokeCap = exports.StrokeCap || (exports.StrokeCap = {}));\n/**\n * Stroke-join style for Marks with lines.\n */\nvar StrokeJoin;\n(function (StrokeJoin) {\n    StrokeJoin[\"Miter\"] = \"miter\";\n    StrokeJoin[\"Round\"] = \"round\";\n    StrokeJoin[\"Bevel\"] = \"bevel\";\n})(StrokeJoin = exports.StrokeJoin || (exports.StrokeJoin = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SGNodeType;\n(function (SGNodeType) {\n    SGNodeType[\"Mark\"] = \"mark\";\n    SGNodeType[\"Item\"] = \"item\";\n})(SGNodeType = exports.SGNodeType || (exports.SGNodeType = {}));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./scene\"));\n__export(require(\"./axes\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MarkEncodingKey;\n(function (MarkEncodingKey) {\n    // Common encoding keys\n    MarkEncodingKey[\"x\"] = \"x\";\n    MarkEncodingKey[\"x2\"] = \"x2\";\n    MarkEncodingKey[\"xc\"] = \"xc\";\n    MarkEncodingKey[\"y\"] = \"y\";\n    MarkEncodingKey[\"y2\"] = \"y2\";\n    MarkEncodingKey[\"yc\"] = \"yc\";\n    MarkEncodingKey[\"width\"] = \"width\";\n    MarkEncodingKey[\"height\"] = \"height\";\n    MarkEncodingKey[\"opacity\"] = \"opacity\";\n    MarkEncodingKey[\"fill\"] = \"fill\";\n    MarkEncodingKey[\"fillOpacity\"] = \"fillOpacity\";\n    MarkEncodingKey[\"stroke\"] = \"stroke\";\n    MarkEncodingKey[\"strokeOpacity\"] = \"strokeOpacity\";\n    MarkEncodingKey[\"strokeWidth\"] = \"strokeWidth\";\n    MarkEncodingKey[\"strokeCap\"] = \"strokeCap\";\n    MarkEncodingKey[\"strokeDash\"] = \"strokeDash\";\n    MarkEncodingKey[\"strokeDashOffset\"] = \"strokeDashOffset\";\n    MarkEncodingKey[\"strokeJoin\"] = \"strokeJoin\";\n    MarkEncodingKey[\"strokeMiterLimit\"] = \"strokeMiterLimit\";\n    MarkEncodingKey[\"cursor\"] = \"cursor\";\n    MarkEncodingKey[\"href\"] = \"href\";\n    MarkEncodingKey[\"tooltip\"] = \"tooltip\";\n    MarkEncodingKey[\"zIndex\"] = \"zIndex\";\n    // Arc encoding keys\n    MarkEncodingKey[\"startAngle\"] = \"startAngle\";\n    MarkEncodingKey[\"endAngle\"] = \"endAngle\";\n    MarkEncodingKey[\"padAngle\"] = \"padAngle\";\n    MarkEncodingKey[\"innerRadius\"] = \"innerRadius\";\n    MarkEncodingKey[\"outerRadius\"] = \"outerRadius\";\n    MarkEncodingKey[\"cornerRadius\"] = \"cornerRadius\";\n    // Area encoding keys\n    MarkEncodingKey[\"orient\"] = \"orient\";\n    MarkEncodingKey[\"interpolate\"] = \"interpolate\";\n    MarkEncodingKey[\"tension\"] = \"tension\";\n    MarkEncodingKey[\"defined\"] = \"defined\";\n    // Group encoding keys\n    MarkEncodingKey[\"clip\"] = \"clip\";\n    // Image encoding keys\n    MarkEncodingKey[\"url\"] = \"url\";\n    MarkEncodingKey[\"aspect\"] = \"aspect\";\n    MarkEncodingKey[\"align\"] = \"align\";\n    MarkEncodingKey[\"baseline\"] = \"baseline\";\n    // Path encoding keys\n    MarkEncodingKey[\"path\"] = \"path\";\n    // Symbol encoding keys\n    MarkEncodingKey[\"size\"] = \"size\";\n    MarkEncodingKey[\"shape\"] = \"shape\";\n    // Text encoding keys\n    MarkEncodingKey[\"angle\"] = \"angle\";\n    MarkEncodingKey[\"dir\"] = \"dir\";\n    MarkEncodingKey[\"dx\"] = \"dx\";\n    MarkEncodingKey[\"dy\"] = \"dy\";\n    MarkEncodingKey[\"ellipsis\"] = \"ellipsis\";\n    MarkEncodingKey[\"font\"] = \"font\";\n    MarkEncodingKey[\"fontSize\"] = \"fontSize\";\n    MarkEncodingKey[\"fontWeight\"] = \"fontWeight\";\n    MarkEncodingKey[\"fontVariant\"] = \"fontVariant\";\n    MarkEncodingKey[\"fontStyle\"] = \"fontStyle\";\n    MarkEncodingKey[\"limit\"] = \"limit\";\n    MarkEncodingKey[\"radius\"] = \"radius\";\n    MarkEncodingKey[\"text\"] = \"text\";\n    MarkEncodingKey[\"theta\"] = \"theta\";\n})(MarkEncodingKey = exports.MarkEncodingKey || (exports.MarkEncodingKey = {}));\nvar Dimension;\n(function (Dimension) {\n    Dimension[\"Height\"] = \"height\";\n    Dimension[\"Width\"] = \"width\";\n})(Dimension = exports.Dimension || (exports.Dimension = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AxisOrientation;\n(function (AxisOrientation) {\n    AxisOrientation[\"Top\"] = \"top\";\n    AxisOrientation[\"Left\"] = \"left\";\n    AxisOrientation[\"Bottom\"] = \"bottom\";\n    AxisOrientation[\"Right\"] = \"right\";\n})(AxisOrientation = exports.AxisOrientation || (exports.AxisOrientation = {}));\n// #region TODO: Support These Options?\n// /**\n//  * Indicates if labels should be hidden if they exceed the axis range. If false (the default) no bounds overlap analysis is performed.\n//  * If true, labels will be hidden if they exceed the axis range by more than 1 pixel.\n//  * If this property is a number, it specifies the pixel tolerance: the maximum amount by which a label bounding box may exceed the axis range.\n//  */\n// labelBound?: boolean | number\n// /**\n//  * The maximum allowed length in pixels of axis tick labels.\n//  */\n// labelLimit?: number\n// /**\n//  * The strategy to use for resolving overlap of axis labels. If false (the default), no overlap reduction is attempted.\n//  * If set to true or \"parity\", a strategy of removing every other label is used (this works well for standard linear axes).\n//  * If set to \"greedy\", a linear scan of the labels is performed, removing any label that overlaps with the last visible label (this often works better for log-scaled axes).\n//  */\n// labelOverlap?: boolean | string\n// /**\n//  * \tIndicates if labels at the beginning or end of the axis should be aligned flush with the scale range.\n//  * If a number, indicates a pixel distance threshold: labels with anchor coordinates within the threshold distance for an axis end-point will be flush-adjusted.\n//  * If true, a default threshold of 1 pixel is used. Flush alignment for a horizontal axis will left-align labels near the beginning of the axis and right-align\n//  * labels near the end. For vertical axes, bottom and top text baselines will be applied instead.\n//  */\n// labelFlush?: boolean | number\n// /**\n//  * Indicates the number of pixels by which to offset flush-adjusted labels (default 0). For example, a value of 2 will push flush-adjusted labels 2 pixels outward\n//  * from the center of the axis. Offsets can help the labels better visually group with corresponding axis ticks.\n//  */\n// labelFlushOffset?: number\n// Tick Count Options\n// export type TickUnit =\n// \t| 'millisecond'\n// \t| 'second'\n// \t| 'minute'\n// \t| 'hour'\n// \t| 'day'\n// \t| 'week'\n// \t| 'month'\n// \t| 'year'\n// export interface TickUnitInterval {\n// \tinterval: TickUnit\n// \tstep: number\n// }\n// #endregion\n// // encode? Object\tOptional mark encodings for custom axis styling. Supports encoding blocks for axis, ticks, grid, labels, title, and domain. See custom axis encodings.\n// /**\n//  * A boolean flag indicating if grid lines should be included as part of the axis (default false).\n//  */\n// grid?: boolean\n// /**\n//  * Color of axis grid lines.\n//  */\n// gridColor?: boolean\n// /**\n//  * Stroke dash of axis grid lines (or [] for solid lines).\n//  */\n// gridDash?: number[]\n// /**\n//  * Opacity of axis grid lines.\n//  */\n// gridOpacity?: number\n// /**\n//  * The name of the scale to use for including grid lines. By default grid lines are driven by the same scale as the ticks and labels.\n//  */\n// gridScale?: string\n// /**\n//  * \tStroke width of axis grid lines.\n//  */\n// gridWidth?: number\n// /**\n//  * The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n//  */\n// minExtent?: number\n// /**\n//  * The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n//  */\n// maxExtent?: number\n// /**\n//  * The orthogonal offset in pixels by which to displace the axis from its position along the edge of the chart.\n//  */\n// offset?: number\n// /**\n//  * The anchor position of the axis in pixels (default 0). For x-axes with top or bottom orientation, this sets the axis group x coordinate. For y-axes with left or right orientation, this sets the axis group y coordinate.\n//  */\n// position?: number\n// /**\n//  * A title for the axis (none by default).\n//  */\n// title?: string\n// /**\n//  * \tHorizontal text alignment of axis titles.\n//  */\n// titleAlign?: string\n// /**\n//  * \tAngle in degrees of axis titles.\n//  */\n// titleAngle?: number\n// /**\n//  * \tVertical text baseline for axis titles.\n//  */\n// titleBaseline?: string\n// /**\n//  * Text color of axis titles.\n//  */\n// titleColor?: string\n// /**\n//  * \tFont name for axis titles.\n//  */\n// titleFont?: string\n// /**\n//  * \tFont size of axis titles.\n//  */\n// titleFontSize?: number\n// /**\n//  * \tFont weight of axis titles.\n//  */\n// titleFontWeight?: string | number\n// /**\n//  * \tThe maximum allowed length in pixels of axis titles.\n//  */\n// titleLimit?: number\n// /**\n//  * \tThe padding in pixels between the axis labels and axis title.\n//  */\n// titlePadding?: number\n// /**\n//  * \tCustom X position of the axis title relative to the axis group, overriding the standard layout.\n//  */\n// titleX?: number\n// /**\n//  * \tCustom Y position of the axis title relative to the axis group, overriding the standard layout.\n//  */\n// titleY?: number\n// /**\n//  * The integer z-index indicating the layering of the axis group relative to other axis, mark and legend groups. The default value is 0 and axes and grid lines are drawn behind any marks defined in the same specification level. Higher values (1) will cause axes and grid lines to be drawn on top of marks.\n//  */\n// zindex?: number\n// #region TODO should we even support these options?\n// /**\n//  * Boolean flag indicating if an extra axis tick should be added for the initial position of the axis.\n//  * This flag is useful for styling axes for band scales such that ticks are placed on band boundaries rather in the middle of a band.\n//  * Use in conjunction with \"bandPostion\": 1 and an axis \"padding\" value of 0.\n//  */\n// tickExtra?: boolean\n// #endregion\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./getItemSpace\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * For marks that support width and height settings (including rect and area),\n * the horizontal dimensions are determined (in order of precedence) by the x and x2 properties,\n * the x and width properties, the x2 and width properties, or the xc and width properties.\n * If all three of x, x2 and width are specified, the width value is ignored.\n * The y, y2, yc and height properties are treated similarly.\n * @param item\n */\nfunction getItemSpace(item) {\n    const { x, xc, x2, y, yc, y2, width, height } = item;\n    const computeDimension = (low, high, center, span) => {\n        let origin;\n        let resultSpan;\n        // Snap dimensions to lower-bound first.\n        // Then try to snap to the upper bound.\n        // Then, if those don't exist, try to snap to the center and span\n        if (low !== undefined) {\n            if (high !== undefined) {\n                origin = Math.min(low, high);\n                resultSpan = Math.abs(high - low);\n            }\n            else if (span !== undefined) {\n                origin = low;\n                resultSpan = span;\n            }\n            else if (center !== undefined) {\n                origin = Math.min(low, center);\n                resultSpan = Math.abs(center - low) * 2;\n            }\n            else {\n                origin = low;\n            }\n        }\n        else if (high !== undefined) {\n            if (span !== undefined) {\n                origin = high - span;\n                resultSpan = span;\n            }\n            else if (center !== undefined) {\n                resultSpan = Math.abs(high - center) * 2;\n                origin =\n                    center < high ? high - (high - center) * 2 : center - (center - high);\n            }\n        }\n        else if (span !== undefined && center !== undefined) {\n            origin = center - span / 2;\n            resultSpan = span;\n        }\n        return [origin, resultSpan];\n    };\n    const [originX, resultWidth] = computeDimension(x, x2, xc, width);\n    const [originY, resultHeight] = computeDimension(y, y2, yc, height);\n    return {\n        origin: {\n            x: originX || 0,\n            y: originY || 0,\n        },\n        shape: {\n            width: resultWidth,\n            height: resultHeight,\n        },\n    };\n}\nexports.getItemSpace = getItemSpace;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./svg\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VSvgTransformType;\n(function (VSvgTransformType) {\n    VSvgTransformType[\"translate\"] = \"translate\";\n    VSvgTransformType[\"rotate\"] = \"rotate\";\n    VSvgTransformType[\"scale\"] = \"scale\";\n})(VSvgTransformType = exports.VSvgTransformType || (exports.VSvgTransformType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_WIDTH = 250;\nexports.DEFAULT_HEIGHT = 250;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ArcItem_1 = require(\"./ArcItem\");\nexports.ArcItem = ArcItem_1.ArcItem;\nconst AreaItem_1 = require(\"./AreaItem\");\nexports.AreaItem = AreaItem_1.AreaItem;\nconst GroupItem_1 = require(\"./GroupItem\");\nexports.GroupItem = GroupItem_1.GroupItem;\nconst ImageItem_1 = require(\"./ImageItem\");\nexports.ImageItem = ImageItem_1.ImageItem;\nconst LineItem_1 = require(\"./LineItem\");\nexports.LineItem = LineItem_1.LineItem;\nconst PathItem_1 = require(\"./PathItem\");\nexports.PathItem = PathItem_1.PathItem;\nconst RectItem_1 = require(\"./RectItem\");\nexports.RectItem = RectItem_1.RectItem;\nconst RuleItem_1 = require(\"./RuleItem\");\nexports.RuleItem = RuleItem_1.RuleItem;\nconst SymbolItem_1 = require(\"./SymbolItem\");\nexports.SymbolItem = SymbolItem_1.SymbolItem;\nconst TextItem_1 = require(\"./TextItem\");\nexports.TextItem = TextItem_1.TextItem;\nconst TrailItem_1 = require(\"./TrailItem\");\nexports.TrailItem = TrailItem_1.TrailItem;\nconst ShapeItem_1 = require(\"./ShapeItem\");\nexports.ShapeItem = ShapeItem_1.ShapeItem;\n// Register the core item types\nconst registry_1 = require(\"../../registry\");\nregistry_1.registerItemType(ArcItem_1.ArcItem);\nregistry_1.registerItemType(AreaItem_1.AreaItem);\nregistry_1.registerItemType(GroupItem_1.GroupItem);\nregistry_1.registerItemType(ImageItem_1.ImageItem);\nregistry_1.registerItemType(LineItem_1.LineItem);\nregistry_1.registerItemType(PathItem_1.PathItem);\nregistry_1.registerItemType(RectItem_1.RectItem);\nregistry_1.registerItemType(RuleItem_1.RuleItem);\nregistry_1.registerItemType(SymbolItem_1.SymbolItem);\nregistry_1.registerItemType(TextItem_1.TextItem);\nregistry_1.registerItemType(TrailItem_1.TrailItem);\nregistry_1.registerItemType(ShapeItem_1.ShapeItem);\n__export(require(\"./Item\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass ArcItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = ArcItem.ITEM_TYPE;\n        this.cornerRadius = 0;\n    }\n}\nArcItem.ITEM_TYPE = interfaces_1.MarkType.Arc;\nexports.ArcItem = ArcItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass AreaItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = AreaItem.ITEM_TYPE;\n        this.orient = interfaces_1.Orientation.Vertical;\n        this.interpolate = interfaces_1.Interpolation.Linear;\n    }\n}\nAreaItem.ITEM_TYPE = interfaces_1.MarkType.Area;\nexports.AreaItem = AreaItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass GroupItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = GroupItem.ITEM_TYPE;\n        this.cornerRadius = 0;\n        this.items = [];\n    }\n}\nGroupItem.ITEM_TYPE = interfaces_1.MarkType.Group;\nexports.GroupItem = GroupItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass ImageItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = ImageItem.ITEM_TYPE;\n        this.aspect = true;\n        this.align = interfaces_1.HorizontalAlignment.Left;\n        this.baseline = interfaces_1.VerticalAlignment.Top;\n    }\n}\nImageItem.ITEM_TYPE = interfaces_1.MarkType.Image;\nexports.ImageItem = ImageItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass LineItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = LineItem.ITEM_TYPE;\n        this.interpolate = interfaces_1.Interpolation.Linear;\n    }\n}\nLineItem.ITEM_TYPE = interfaces_1.MarkType.Line;\nexports.LineItem = LineItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass PathItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = PathItem.ITEM_TYPE;\n    }\n}\nPathItem.ITEM_TYPE = interfaces_1.MarkType.Path;\nexports.PathItem = PathItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass RectItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = RectItem.ITEM_TYPE;\n        this.cornerRadius = 0;\n    }\n}\nRectItem.ITEM_TYPE = interfaces_1.MarkType.Rect;\nexports.RectItem = RectItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass RuleItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = RuleItem.ITEM_TYPE;\n    }\n}\nRuleItem.ITEM_TYPE = interfaces_1.MarkType.Rule;\nexports.RuleItem = RuleItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass SymbolItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = SymbolItem.ITEM_TYPE;\n        this.shape = interfaces_1.SymbolType.Circle;\n    }\n}\nSymbolItem.ITEM_TYPE = interfaces_1.MarkType.Symbol;\nexports.SymbolItem = SymbolItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass TextItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = TextItem.ITEM_TYPE;\n        this.align = interfaces_1.HorizontalAlignment.Left;\n        this.angle = 0;\n        this.baseline = interfaces_1.VerticalTextAlignment.Alphabetic;\n        this.dir = interfaces_1.TextDirection.LTR;\n        this.ellipsis = '...';\n        this.limit = 0;\n        this.radius = 0;\n    }\n}\nTextItem.ITEM_TYPE = interfaces_1.MarkType.Text;\nexports.TextItem = TextItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass TrailItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = TrailItem.ITEM_TYPE;\n    }\n}\nTrailItem.ITEM_TYPE = interfaces_1.MarkType.Trail;\nexports.TrailItem = TrailItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass ShapeItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = ShapeItem.ITEM_TYPE;\n    }\n}\nShapeItem.ITEM_TYPE = interfaces_1.MarkType.Shape;\nexports.ShapeItem = ShapeItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst SceneNode_1 = require(\"./SceneNode\");\nclass Mark extends SceneNode_1.SceneNode {\n    constructor() {\n        super(...arguments);\n        this.nodetype = interfaces_1.SGNodeType.Mark;\n        this.items = [];\n    }\n}\nexports.Mark = Mark;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst factory_1 = require(\"./factory\");\nclass MarkBuilder {\n    constructor(markType) {\n        this.markType = markType;\n        this.itemsValue = [];\n    }\n    items(...values) {\n        this.itemsValue.push(...values.map(itemProps => factory_1.createItem(this.markType, itemProps)));\n        return this;\n    }\n    clip(value) {\n        this.clipValue = value;\n        return this;\n    }\n    interactive(value) {\n        this.interactiveValue = value;\n        return this;\n    }\n    role(value) {\n        this.roleValue = value;\n        return this;\n    }\n    name(value) {\n        this.nameValue = value;\n        return this;\n    }\n    zIndex(value) {\n        this.zIndexValue = value;\n        return this;\n    }\n    build() {\n        const result = factory_1.createMark(this.markType, this.itemsValue);\n        result.clip = this.clipValue;\n        result.interactive = this.interactiveValue;\n        result.role = this.roleValue;\n        result.name = this.nameValue;\n        result.zIndex = this.zIndexValue;\n        return result;\n    }\n}\nexports.MarkBuilder = MarkBuilder;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./VirtualSvgConverter\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst element_renderers_1 = require(\"./element_renderers\");\nconst interfaces_2 = require(\"./element_renderers/interfaces\");\nconst DEFAULT_BG_COLOR = 'transparent';\nconst DEFAULT_ORIGIN = [0, 0];\n/**\n * The VirtualSvgRender renders Scenegraph data into a serializable Virtual DOM.\n *\n * The Virtual Dom acts as an intermediate form that can be rendered out into many forms.\n */\nclass VirtualSvgConverter {\n    render(mark, options) {\n        const { width = interfaces_1.DEFAULT_WIDTH, height = interfaces_1.DEFAULT_HEIGHT, backgroundColor = DEFAULT_BG_COLOR, origin = DEFAULT_ORIGIN, } = options;\n        const [x = 0, y = 0] = origin;\n        // Create the rendering Context\n        let id = 0;\n        const context = {\n            nextId: () => `${++id}`,\n        };\n        // Get the rendering of the root mark\n        const root = element_renderers_1.renderMark(mark, context);\n        const children = [\n            {\n                type: 'defs',\n                children: root.defs,\n            },\n            {\n                type: 'g',\n                transforms: [interfaces_2.translate(x, y)],\n                children: root.nodes,\n            },\n        ];\n        // Wrap the rendered root in an SVG\n        const svg = {\n            type: 'svg',\n            attrs: {\n                width: width + x,\n                height: height + y,\n            },\n            style: {\n                backgroundColor,\n            },\n            children,\n        };\n        return svg;\n    }\n}\nexports.VirtualSvgConverter = VirtualSvgConverter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nconst interfaces_2 = require(\"./interfaces\");\nclass ArcRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, ArcRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Arc, mark.role, mark.items.map(item => {\n            const { x, y } = item;\n            const result = {\n                type: 'path',\n                attrs: Object.assign({}, util_1.commonProps(item), { d: path_1.arc(item) }),\n                transforms: [interfaces_2.translate(x || 0, y || 0)],\n                channels: item.channels,\n                metadata: item.metadata,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nArcRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Arc;\nexports.ArcRenderer = ArcRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_shape_1 = require(\"d3-shape\");\nconst Rectangle_1 = require(\"./Rectangle\");\nconst Trail_1 = require(\"./Trail\");\nconst symbols_1 = require(\"./symbols\");\nconst x = (item) => item.x || 0;\nconst x2 = (item) => item.x2 || 0;\nconst y = (item) => item.y || 0;\nconst y2 = (item) => item.y2 || 0;\nconst w = (item) => item.width || 0;\nconst h = (item) => item.height || 0;\nconst sa = (item) => item.startAngle || 0;\nconst ea = (item) => item.endAngle || 0;\nconst pa = (item) => item.padAngle || 0;\nconst ir = (item) => item.innerRadius || 0;\nconst or = (item) => item.outerRadius || 0;\nconst cr = (item) => item.cornerRadius || 0;\nconst def = (item) => item.defined == null ? true : item.defined;\nconst symbolSize = (item) => (item.size == null ? 64 : item.size);\nconst symbolType = (item) => symbols_1.default(item.shape || 'circle');\nconst trailSize = (item) => item.size || 1;\nexports.rectShape = new Rectangle_1.Rectangle(x, y, w, h, cr);\nexports.trailShape = new Trail_1.Trail(x, y, trailSize, def);\nexports.arcShape = d3_shape_1.arc()\n    .startAngle(sa)\n    .endAngle(ea)\n    .padAngle(pa)\n    .innerRadius(ir)\n    .outerRadius(or)\n    .cornerRadius(cr);\nexports.areahShape = d3_shape_1.area()\n    .x1(x)\n    .x0(x2)\n    .y(y)\n    .defined(def);\nexports.areavShape = d3_shape_1.area()\n    .y1(y)\n    .y0(y2)\n    .x(x)\n    .defined(def);\nexports.lineShape = d3_shape_1.line()\n    .x(x)\n    .y(y)\n    .defined(def);\nexports.symbolShape = d3_shape_1.symbol()\n    .type(symbolType)\n    .size(symbolSize);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_path_1 = require(\"d3-path\");\nclass Rectangle {\n    constructor(x = d => d.x || 0, y = d => d.y || 0, width = d => d.width || 0, height = d => d.height || 0, cornerRadius = d => d.cornerRadius || 0) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.cornerRadius = cornerRadius;\n    }\n    /**\n     * Draws out the Rectangle Shape\n     * @param d The bound datum\n     * @param x0 The offset x\n     * @param y0 The offset y\n     * @param context The drawing context (compatible with Canvas2DRenderingContext)\n     *\n     */\n    build(d, x0, y0, context) {\n        // tslint:disable-next-line no-this-assignment\n        const { x, y, width, height, cornerRadius } = this;\n        const x1 = x0 != null ? x0 : +x(d);\n        const y1 = y0 != null ? y0 : +y(d);\n        const w = +width(d);\n        const h = +height(d);\n        const cr = +cornerRadius(d);\n        if (!context) {\n            context = d3_path_1.path();\n        }\n        if (cr <= 0) {\n            context.rect(x1, y1, w, h);\n        }\n        else {\n            const x2 = x1 + w;\n            const y2 = y1 + h;\n            context.moveTo(x1 + cr, y1);\n            context.lineTo(x2 - cr, y1);\n            context.quadraticCurveTo(x2, y1, x2, y1 + cr);\n            context.lineTo(x2, y2 - cr);\n            context.quadraticCurveTo(x2, y2, x2 - cr, y2);\n            context.lineTo(x1 + cr, y2);\n            context.quadraticCurveTo(x1, y2, x1, y2 - cr);\n            context.lineTo(x1, y1 + cr);\n            context.quadraticCurveTo(x1, y1, x1 + cr, y1);\n            context.closePath();\n        }\n        return context;\n    }\n}\nexports.Rectangle = Rectangle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_path_1 = require(\"d3-path\");\nconst pi = Math.PI;\nclass Trail {\n    constructor(x = d => d.x || 0, y = d => d.y || 0, size = d => d.size || 0, defined) {\n        this.x = x;\n        this.y = y;\n        this.size = size;\n        this.defined = defined;\n    }\n    build(data, context = d3_path_1.path()) {\n        let prevX;\n        let prevY;\n        let prevR;\n        let ready = false;\n        let isLastDefined = false;\n        /**\n         * Emits a point in the stream\n         * @param x The x value\n         * @param y The y value\n         * @param w The width at the point\n         */\n        const emitPoint = (x, y, w) => {\n            const r2 = w / 2;\n            if (ready) {\n                let ux = prevY - y;\n                let uy = x - prevX;\n                if (ux || uy) {\n                    // get normal vector\n                    const ud = Math.sqrt(ux * ux + uy * uy);\n                    const rx = (ux /= ud) * prevR;\n                    const ry = (uy /= ud) * prevR;\n                    const t = Math.atan2(uy, ux);\n                    // draw segment\n                    context.moveTo(prevX - rx, prevY - ry);\n                    context.lineTo(x - ux * r2, y - uy * r2);\n                    context.arc(x, y, r2, t - pi, t);\n                    context.lineTo(prevX + rx, prevY + ry);\n                    context.arc(prevX, prevY, prevR, t, t + pi);\n                }\n                else {\n                    context.arc(x, y, r2, 0, 2 * pi);\n                }\n                context.closePath();\n            }\n            else {\n                ready = true;\n            }\n            // Set Previous Values\n            prevX = x;\n            prevY = y;\n            prevR = r2;\n        };\n        data.forEach((d, i) => {\n            const isDefined = this.defined(d, i, data);\n            if (isDefined !== isLastDefined) {\n                isLastDefined = isDefined;\n                ready = false;\n            }\n            if (isLastDefined) {\n                emitPoint(+this.x(d, i, data), +this.y(d, i, data), +this.size(d, i, data));\n            }\n        });\n        return context;\n    }\n}\nexports.Trail = Trail;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_path_1 = require(\"d3-path\");\nconst parse_1 = require(\"./parse\");\nconst render_1 = require(\"./render\");\nconst tau = 2 * Math.PI;\nconst halfSqrt3 = Math.sqrt(3) / 2;\nconst builtins = {\n    circle: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            context.moveTo(r, 0);\n            context.arc(0, 0, r, 0, tau);\n            return context;\n        },\n    },\n    cross: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const s = r / 2.5;\n            context.moveTo(-r, -s);\n            context.lineTo(-r, s);\n            context.lineTo(-s, s);\n            context.lineTo(-s, r);\n            context.lineTo(s, r);\n            context.lineTo(s, s);\n            context.lineTo(r, s);\n            context.lineTo(r, -s);\n            context.lineTo(s, -s);\n            context.lineTo(s, -r);\n            context.lineTo(-s, -r);\n            context.lineTo(-s, -s);\n            context.closePath();\n            return context;\n        },\n    },\n    diamond: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            context.moveTo(-r, 0);\n            context.lineTo(0, -r);\n            context.lineTo(r, 0);\n            context.lineTo(0, r);\n            context.closePath();\n            return context;\n        },\n    },\n    square: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const w = Math.sqrt(size);\n            const x = -w / 2;\n            context.rect(x, x, w, w);\n            return context;\n        },\n    },\n    'triangle-up': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(0, -h);\n            context.lineTo(-r, h);\n            context.lineTo(r, h);\n            context.closePath();\n            return context;\n        },\n    },\n    'triangle-down': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(0, h);\n            context.lineTo(-r, -h);\n            context.lineTo(r, -h);\n            context.closePath();\n            return context;\n        },\n    },\n    'triangle-right': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(h, 0);\n            context.lineTo(-h, -r);\n            context.lineTo(-h, r);\n            context.closePath();\n            return context;\n        },\n    },\n    'triangle-left': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(-h, 0);\n            context.lineTo(h, -r);\n            context.lineTo(h, r);\n            context.closePath();\n            return context;\n        },\n    },\n};\nfunction symbols(symbolName) {\n    return builtins.hasOwnProperty(symbolName)\n        ? builtins[symbolName]\n        : customSymbol(symbolName);\n}\nexports.default = symbols;\nconst custom = {};\nfunction customSymbol(symbolPath) {\n    if (!custom.hasOwnProperty(symbolPath)) {\n        const parsed = parse_1.default(symbolPath);\n        custom[symbolPath] = {\n            draw(context, size) {\n                if (!context) {\n                    context = d3_path_1.path();\n                }\n                render_1.default(context, parsed, 0, 0, Math.sqrt(size) / 2);\n                return context;\n            },\n        };\n    }\n    return custom[symbolPath];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Path parsing and rendering code adapted from fabric.js -- Thanks!\nconst cmdlen = {\n    m: 2,\n    l: 2,\n    h: 1,\n    v: 1,\n    c: 6,\n    s: 4,\n    q: 4,\n    t: 2,\n    a: 7,\n};\nconst regexp = [/([MLHVCSQTAZmlhvcsqtaz])/g, /###/, /(\\d)([-+])/g, /\\s|,|###/];\nfunction default_1(pathstr) {\n    const result = [];\n    // First, break path into command sequence\n    const path = pathstr\n        .slice()\n        .replace(regexp[0], '###$1')\n        .split(regexp[1])\n        .slice(1);\n    // Next, parse each command in turn\n    path.forEach(command => {\n        const chunks = command\n            .slice(1)\n            .trim()\n            .replace(regexp[2], '$1###$2')\n            .split(regexp[3]);\n        const cmd = command.charAt(0);\n        const cmdLength = cmdlen[cmd.toLowerCase()];\n        const parsed = [cmd];\n        chunks.forEach(chunk => {\n            const param = +chunks;\n            if (param === param) {\n                // not NaN\n                parsed.push(param);\n            }\n        });\n        // Force the parameters into the expected command length\n        if (parsed.length - 1 > cmdLength) {\n            for (let i = 1; i < parsed.length; i += cmdLength) {\n                result.push([cmd].concat(parsed.slice(i, i + cmdLength)));\n            }\n        }\n        else {\n            result.push(parsed);\n        }\n    });\n    return result;\n}\nexports.default = default_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst arc_1 = require(\"./arc\");\nconst temp = ['l', 0, 0, 0, 0, 0, 0, 0];\nfunction scale(current, s) {\n    const c = (temp[0] = current[0]);\n    if (c === 'a' || c === 'A') {\n        temp[1] = s * current[1];\n        temp[2] = s * current[2];\n        temp[6] = s * current[6];\n        temp[7] = s * current[7];\n    }\n    else {\n        for (let i = 1, n = current.length; i < n; ++i) {\n            temp[i] = s * current[i];\n        }\n    }\n    return temp;\n}\nfunction default_1(context, path, l, t, s) {\n    let current; // current instruction\n    let previous = null;\n    let x = 0; // current x\n    let y = 0; // current y\n    let controlX = 0; // current control point x\n    let controlY = 0; // current control point y\n    let tempX;\n    let tempY;\n    let tempControlX;\n    let tempControlY;\n    if (l == null) {\n        l = 0;\n    }\n    if (t == null) {\n        t = 0;\n    }\n    if (s == null) {\n        s = 1;\n    }\n    if (context.beginPath) {\n        context.beginPath();\n    }\n    for (let i = 0, len = path.length; i < len; ++i) {\n        current = path[i];\n        if (s !== 1) {\n            current = scale(current, s);\n        }\n        switch (current[0] // first letter\n        ) {\n            case 'l': // lineto, relative\n                x += current[1];\n                y += current[2];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'L': // lineto, absolute\n                x = current[1];\n                y = current[2];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'h': // horizontal lineto, relative\n                x += current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'H': // horizontal lineto, absolute\n                x = current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'v': // vertical lineto, relative\n                y += current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'V': // verical lineto, absolute\n                y = current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'm': // moveTo, relative\n                x += current[1];\n                y += current[2];\n                context.moveTo(x + l, y + t);\n                break;\n            case 'M': // moveTo, absolute\n                x = current[1];\n                y = current[2];\n                context.moveTo(x + l, y + t);\n                break;\n            case 'c': // bezierCurveTo, relative\n                tempX = x + current[5];\n                tempY = y + current[6];\n                controlX = x + current[3];\n                controlY = y + current[4];\n                context.bezierCurveTo(x + current[1] + l, // x1\n                y + current[2] + t, // y1\n                controlX + l, // x2\n                controlY + t, // y2\n                tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                break;\n            case 'C': // bezierCurveTo, absolute\n                x = current[5];\n                y = current[6];\n                controlX = current[3];\n                controlY = current[4];\n                context.bezierCurveTo(current[1] + l, current[2] + t, controlX + l, controlY + t, x + l, y + t);\n                break;\n            case 's': // shorthand cubic bezierCurveTo, relative\n                // transform to absolute x,y\n                tempX = x + current[3];\n                tempY = y + current[4];\n                // calculate reflection of previous control points\n                controlX = 2 * x - controlX;\n                controlY = 2 * y - controlY;\n                context.bezierCurveTo(controlX + l, controlY + t, x + current[1] + l, y + current[2] + t, tempX + l, tempY + t);\n                // set control point to 2nd one of this command\n                // the first control point is assumed to be the reflection of\n                // the second control point on the previous command relative\n                // to the current point.\n                controlX = x + current[1];\n                controlY = y + current[2];\n                x = tempX;\n                y = tempY;\n                break;\n            case 'S': // shorthand cubic bezierCurveTo, absolute\n                tempX = current[3];\n                tempY = current[4];\n                // calculate reflection of previous control points\n                controlX = 2 * x - controlX;\n                controlY = 2 * y - controlY;\n                context.bezierCurveTo(controlX + l, controlY + t, current[1] + l, current[2] + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                // set control point to 2nd one of this command\n                // the first control point is assumed to be the reflection of\n                // the second control point on the previous command relative\n                // to the current point.\n                controlX = current[1];\n                controlY = current[2];\n                break;\n            case 'q': // quadraticCurveTo, relative\n                // transform to absolute x,y\n                tempX = x + current[3];\n                tempY = y + current[4];\n                controlX = x + current[1];\n                controlY = y + current[2];\n                context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                break;\n            case 'Q': // quadraticCurveTo, absolute\n                tempX = current[3];\n                tempY = current[4];\n                context.quadraticCurveTo(current[1] + l, current[2] + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                controlX = current[1];\n                controlY = current[2];\n                break;\n            case 't': // shorthand quadraticCurveTo, relative\n                // transform to absolute x,y\n                tempX = x + current[1];\n                tempY = y + current[2];\n                if (previous[0].match(/[QqTt]/) === null) {\n                    // If there is no previous command or if the previous command was not a Q, q, T or t,\n                    // assume the control point is coincident with the current point\n                    controlX = x;\n                    controlY = y;\n                }\n                else if (previous[0] === 't') {\n                    // calculate reflection of previous control points for t\n                    controlX = 2 * x - tempControlX;\n                    controlY = 2 * y - tempControlY;\n                }\n                else if (previous[0] === 'q') {\n                    // calculate reflection of previous control points for q\n                    controlX = 2 * x - controlX;\n                    controlY = 2 * y - controlY;\n                }\n                tempControlX = controlX;\n                tempControlY = controlY;\n                context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                controlX = x + current[1];\n                controlY = y + current[2];\n                break;\n            case 'T':\n                tempX = current[1];\n                tempY = current[2];\n                // calculate reflection of previous control points\n                controlX = 2 * x - controlX;\n                controlY = 2 * y - controlY;\n                context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                break;\n            case 'a':\n                drawArc(context, x + l, y + t, [\n                    current[1],\n                    current[2],\n                    current[3],\n                    current[4],\n                    current[5],\n                    current[6] + x + l,\n                    current[7] + y + t,\n                ]);\n                x += current[6];\n                y += current[7];\n                break;\n            case 'A':\n                drawArc(context, x + l, y + t, [\n                    current[1],\n                    current[2],\n                    current[3],\n                    current[4],\n                    current[5],\n                    current[6] + l,\n                    current[7] + t,\n                ]);\n                x = current[6];\n                y = current[7];\n                break;\n            case 'z':\n            case 'Z':\n                context.closePath();\n                break;\n        }\n        previous = current;\n    }\n}\nexports.default = default_1;\nfunction drawArc(context, x, y, coords) {\n    const seg = arc_1.segments(coords[5], // end x\n    coords[6], // end y\n    coords[0], // radius x\n    coords[1], // radius y\n    coords[3], // large flag\n    coords[4], // sweep flag\n    coords[2], // rotation\n    x, y);\n    seg.forEach((bez) => {\n        context.bezierCurveTo(bez[0], bez[1], bez[2], bez[3], bez[4], bez[5]);\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.segmentCache = {};\nexports.bezierCache = {};\nconst join = [].join;\n// Copied from Inkscape svgtopdf, thanks!\nfunction segments(x, y, rx, ry, large, sweep, rotateX, ox, oy) {\n    const key = join.call(arguments);\n    if (exports.segmentCache[key]) {\n        return exports.segmentCache[key];\n    }\n    const th = rotateX * (Math.PI / 180);\n    const sin_th = Math.sin(th);\n    const cos_th = Math.cos(th);\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5;\n    const py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5;\n    let pl = px * px / (rx * rx) + py * py / (ry * ry);\n    if (pl > 1) {\n        pl = Math.sqrt(pl);\n        rx *= pl;\n        ry *= pl;\n    }\n    const a00 = cos_th / rx;\n    const a01 = sin_th / rx;\n    const a10 = -sin_th / ry;\n    const a11 = cos_th / ry;\n    const x0 = a00 * ox + a01 * oy;\n    const y0 = a10 * ox + a11 * oy;\n    const x1 = a00 * x + a01 * y;\n    const y1 = a10 * x + a11 * y;\n    const d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0);\n    let sfactor_sq = 1 / d - 0.25;\n    if (sfactor_sq < 0) {\n        sfactor_sq = 0;\n    }\n    let sfactor = Math.sqrt(sfactor_sq);\n    if (sweep === large) {\n        sfactor = -sfactor;\n    }\n    const xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0);\n    const yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0);\n    const th0 = Math.atan2(y0 - yc, x0 - xc);\n    const th1 = Math.atan2(y1 - yc, x1 - xc);\n    let th_arc = th1 - th0;\n    if (th_arc < 0 && sweep === 1) {\n        th_arc += 2 * Math.PI;\n    }\n    else if (th_arc > 0 && sweep === 0) {\n        th_arc -= 2 * Math.PI;\n    }\n    const segs = Math.ceil(Math.abs(th_arc / (Math.PI * 0.5 + 0.001)));\n    const result = [];\n    for (let i = 0; i < segs; ++i) {\n        const th2 = th0 + i * th_arc / segs;\n        const th3 = th0 + (i + 1) * th_arc / segs;\n        result[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th];\n    }\n    return (exports.segmentCache[key] = result);\n}\nexports.segments = segments;\nfunction bezier(params) {\n    const key = join.call(params);\n    if (exports.bezierCache[key]) {\n        return exports.bezierCache[key];\n    }\n    const cx = params[0];\n    const cy = params[1];\n    const th0 = params[2];\n    const th1 = params[3];\n    const rx = params[4];\n    const ry = params[5];\n    const sin_th = params[6];\n    const cos_th = params[7];\n    const a00 = cos_th * rx;\n    const a01 = -sin_th * ry;\n    const a10 = sin_th * rx;\n    const a11 = cos_th * ry;\n    const cos_th0 = Math.cos(th0);\n    const sin_th0 = Math.sin(th0);\n    const cos_th1 = Math.cos(th1);\n    const sin_th1 = Math.sin(th1);\n    const th_half = 0.5 * (th1 - th0);\n    const sin_th_h2 = Math.sin(th_half * 0.5);\n    const t = 8 / 3 * sin_th_h2 * sin_th_h2 / Math.sin(th_half);\n    const x1 = cx + cos_th0 - t * sin_th0;\n    const y1 = cy + sin_th0 + t * cos_th0;\n    const x3 = cx + cos_th1;\n    const y3 = cy + sin_th1;\n    const x2 = x3 + t * sin_th1;\n    const y2 = y3 - t * cos_th1;\n    return (exports.bezierCache[key] = [\n        a00 * x1 + a01 * y1,\n        a10 * x1 + a11 * y1,\n        a00 * x2 + a01 * y2,\n        a10 * x2 + a11 * y2,\n        a00 * x3 + a01 * y3,\n        a10 * x3 + a11 * y3,\n    ]);\n}\nexports.bezier = bezier;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_shape_1 = require(\"d3-shape\");\nconst lookup = {\n    basis: {\n        curve: d3_shape_1.curveBasis,\n    },\n    'basis-closed': {\n        curve: d3_shape_1.curveBasisClosed,\n    },\n    'basis-open': {\n        curve: d3_shape_1.curveBasisOpen,\n    },\n    bundle: {\n        curve: d3_shape_1.curveBundle,\n        tension: 'beta',\n        value: 0.85,\n    },\n    cardinal: {\n        curve: d3_shape_1.curveCardinal,\n        tension: 'tension',\n        value: 0,\n    },\n    'cardinal-open': {\n        curve: d3_shape_1.curveCardinalOpen,\n        tension: 'tension',\n        value: 0,\n    },\n    'cardinal-closed': {\n        curve: d3_shape_1.curveCardinalClosed,\n        tension: 'tension',\n        value: 0,\n    },\n    'catmull-rom': {\n        curve: d3_shape_1.curveCatmullRom,\n        tension: 'alpha',\n        value: 0.5,\n    },\n    'catmull-rom-closed': {\n        curve: d3_shape_1.curveCatmullRomClosed,\n        tension: 'alpha',\n        value: 0.5,\n    },\n    'catmull-rom-open': {\n        curve: d3_shape_1.curveCatmullRomOpen,\n        tension: 'alpha',\n        value: 0.5,\n    },\n    linear: {\n        curve: d3_shape_1.curveLinear,\n    },\n    'linear-closed': {\n        curve: d3_shape_1.curveLinearClosed,\n    },\n    monotone: {\n        horizontal: d3_shape_1.curveMonotoneY,\n        vertical: d3_shape_1.curveMonotoneX,\n    },\n    natural: {\n        curve: d3_shape_1.curveNatural,\n    },\n    step: {\n        curve: d3_shape_1.curveStep,\n    },\n    'step-after': {\n        curve: d3_shape_1.curveStepAfter,\n    },\n    'step-before': {\n        curve: d3_shape_1.curveStepBefore,\n    },\n};\nfunction curves(type, orientation, tension) {\n    const entry = lookup.hasOwnProperty(type) && lookup[type];\n    // let curve: CurveFactory | CurveBundleFactory\n    if (entry) {\n        const curveFactory = entry.curve || entry[orientation || 'vertical'];\n        if (entry.tension && tension != null) {\n            return curveFactory[entry.tension](tension);\n        }\n        else {\n            return curveFactory;\n        }\n    }\n    else {\n        throw new Error(`could not retrieve curveFactory type ${type}, orientation ${orientation}`);\n    }\n}\nexports.default = curves;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nclass AreaRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, AreaRenderer.TARGET_MARK_TYPE);\n        if (mark.items.map.length === 0) {\n            return { nodes: [] };\n        }\n        const areaItems = mark.items.map(a => {\n            const space = interfaces_1.getItemSpace(a);\n            const ai = a;\n            ai.width = space.shape.width;\n            ai.height = space.shape.height;\n            return ai;\n        });\n        const areaItem = {\n            type: 'path',\n            attrs: {\n                d: path_1.area(areaItems),\n            },\n            metadata: areaItems[0].metadata,\n            channels: areaItems[0].channels,\n        };\n        mark.items.forEach(item => (areaItem.attrs = Object.assign({}, areaItem.attrs, util_1.commonProps(item))));\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Area, mark.role, [areaItem]);\n        return { nodes };\n    }\n}\nAreaRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Area;\nexports.AreaRenderer = AreaRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-submodule-imports\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst index_1 = require(\"./index\");\nconst path_1 = require(\"../path\");\nconst interfaces_2 = require(\"./interfaces\");\nfunction flatMap(items, lambda) {\n    const mappedItems = items.map(lambda);\n    return Array.prototype.concat.apply([], mappedItems);\n}\n/**\n * Renders a group's \"rectangle\", which can have a fill and stroke\n * @param item\n */\nfunction renderGroupRectangle(item, space) {\n    const groupRectCommonProps = util_1.commonProps(item);\n    const originX = space.origin.x || 0;\n    const originY = space.origin.y || 0;\n    const rectItem = item;\n    rectItem.width = space.shape.width;\n    rectItem.height = space.shape.height;\n    const groupRectShape = {\n        d: path_1.rectangle(item, originX, originY).toString(),\n    };\n    const attrs = Object.assign({}, groupRectCommonProps, groupRectShape);\n    const { metadata, channels } = item;\n    const groupRect = {\n        type: 'path',\n        attrs,\n        metadata,\n        channels,\n    };\n    return groupRect;\n}\n/**\n * Renders children of the group\n * @param item The group item\n */\nfunction renderChildren(item, context) {\n    let nodes = [];\n    let defs = [];\n    const groupItems = item.items || [];\n    groupItems.forEach(m => {\n        const renderedChild = index_1.renderMark(m, context);\n        if (renderedChild.defs) {\n            defs = [...defs, ...renderedChild.defs];\n        }\n        nodes = [...nodes, ...renderedChild.nodes];\n    });\n    return { defs, nodes };\n}\nfunction renderGroup(item, space, children) {\n    const { channels, metadata } = item;\n    const group = {\n        type: 'g',\n        transforms: [interfaces_2.translate(space.origin.x, space.origin.y)],\n        children,\n        metadata,\n        channels,\n    };\n    return group;\n}\nfunction renderGroupClip(clipId, group, groupRect) {\n    const clipPath = {\n        type: 'clipPath',\n        attrs: {\n            id: clipId,\n        },\n        children: [groupRect],\n    };\n    group = {\n        type: 'g',\n        attrs: {\n            clipPath: `url(#${clipId})`,\n        },\n        children: [group],\n    };\n    return { clipPath, group };\n}\nclass GroupRenderer {\n    render(mark, context) {\n        util_1.assertTypeIs(mark, GroupRenderer.TARGET_MARK_TYPE);\n        const defs = [];\n        const nodes = flatMap(mark.items, (item) => {\n            const space = interfaces_1.getItemSpace(item);\n            // Render the Group's Rectangle\n            const groupRect = renderGroupRectangle(item, space);\n            // Render the Group's children\n            const { defs: groupDefs, nodes: groupChildren } = renderChildren(item, context);\n            defs.push(...(groupDefs || []));\n            // Render the group\n            let group = renderGroup(item, space, groupChildren);\n            // Handle if the group is clipped\n            if (item.clip) {\n                const { group: groupWrapper, clipPath } = renderGroupClip(`clip${context.nextId()}`, group, groupRect);\n                defs.push(clipPath);\n                group = groupWrapper;\n            }\n            return [groupRect, group];\n        });\n        return { nodes, defs };\n    }\n}\nGroupRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Group;\nexports.GroupRenderer = GroupRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nclass ImageRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, ImageRenderer.TARGET_MARK_TYPE);\n        // TODO\n        return { nodes: [] };\n    }\n}\nImageRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Image;\nexports.ImageRenderer = ImageRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nclass LineRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, LineRenderer.TARGET_MARK_TYPE);\n        if (mark.items.map.length === 0) {\n            return { nodes: [] };\n        }\n        const lineItem = {\n            type: 'path',\n            attrs: {\n                d: path_1.line(mark.items),\n            },\n            metadata: mark.items[0].metadata,\n            channels: mark.items[0].channels,\n        };\n        mark.items.forEach(item => (lineItem.attrs = Object.assign({}, lineItem.attrs, util_1.commonProps(item))));\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Line, mark.role, [lineItem]);\n        return { nodes };\n    }\n}\nLineRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Line;\nexports.LineRenderer = LineRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst interfaces_2 = require(\"./interfaces\");\nclass PathRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, PathRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Path, mark.role, mark.items.map(item => {\n            const { x, y } = item;\n            const result = {\n                type: 'path',\n                attrs: Object.assign({}, util_1.commonProps(item), { d: item.path }),\n                transforms: [interfaces_2.translate(x || 0, y || 0)],\n                metadata: item.metadata,\n                channels: item.channels,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nPathRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Path;\nexports.PathRenderer = PathRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nclass RectRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, RectRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Rect, mark.role, mark.items.map(item => {\n            const { metadata, channels } = item;\n            const space = interfaces_1.getItemSpace(item);\n            const attrs = util_1.commonProps(item);\n            const rectItem = item;\n            rectItem.width = space.shape.width;\n            rectItem.height = space.shape.height;\n            attrs.d = path_1.rectangle(rectItem, space.origin.x, space.origin.y).toString();\n            const result = {\n                type: 'path',\n                attrs,\n                metadata,\n                channels,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nRectRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Rect;\nexports.RectRenderer = RectRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst interfaces_2 = require(\"./interfaces\");\nclass RuleRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, RuleRenderer.TARGET_MARK_TYPE);\n        // Render each item embedded in this mark\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Rule, mark.role, mark.items.map(item => {\n            const x = item.x || 0;\n            const y = item.y || 0;\n            const attrs = util_1.commonProps(item);\n            if (item.x2 !== undefined) {\n                attrs.x2 = item.x2 - x;\n            }\n            if (item.y2 !== undefined) {\n                attrs.y2 = item.y2 - y;\n            }\n            const result = {\n                type: 'line',\n                attrs,\n                transforms: [interfaces_2.translate(x, y)],\n                channels: item.channels,\n                metadata: item.metadata,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nRuleRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Rule;\nexports.RuleRenderer = RuleRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nconst interfaces_2 = require(\"./interfaces\");\nclass SymbolRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, SymbolRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Symbol, mark.role, mark.items.map(item => {\n            const { x = 0, y = 0 } = item;\n            const result = {\n                type: 'path',\n                attrs: Object.assign({}, util_1.commonProps(item), { d: path_1.symbol(item) }),\n                transforms: [interfaces_2.translate(x, y)],\n                metadata: item.metadata,\n                channels: item.channels,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nSymbolRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Symbol;\nexports.SymbolRenderer = SymbolRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nconst interfaces_2 = require(\"./interfaces\");\nconst alignments = { left: 'start', center: 'middle', right: 'end' };\nconst DEFAULT_FONT_SIZE = 11;\nconst DEFAULT_FONT_FAMILY = 'sans-serif';\nfunction calculateTextOrigin({ x, y, baseline, fontSize, radius = 0, theta = 0, }) {\n    x = x || 0;\n    y = y || 0;\n    if (radius) {\n        const t = theta - Math.PI / 2;\n        x += radius * Math.cos(t);\n        y += radius * Math.sin(t);\n    }\n    return [x, y];\n}\nfunction calculateBaseline(alignment) {\n    switch (alignment) {\n        case interfaces_1.VerticalTextAlignment.Top:\n            return 'hanging';\n        case interfaces_1.VerticalTextAlignment.Middle:\n            return 'central';\n        case interfaces_1.VerticalTextAlignment.Bottom:\n            return 'baseline';\n        default:\n            return undefined;\n    }\n}\nfunction getTextTransforms(item) {\n    const origin = calculateTextOrigin(item);\n    const transforms = [];\n    if (item.angle !== undefined) {\n        transforms.push(interfaces_2.translate(origin[0], origin[1]), interfaces_2.rotate(item.angle));\n        if (item.dx !== undefined || item.dy !== undefined) {\n            transforms.push(interfaces_2.translate(item.dx || 0, item.dy || 0));\n        }\n    }\n    else {\n        transforms.push(interfaces_2.translate(origin[0] + (item.dx || 0) || 0, origin[1] + (item.dy || 0) || 0));\n    }\n    return transforms;\n}\nclass TextRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, TextRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Text, mark.role, mark.items.map(item => {\n            const attrs = Object.assign({}, util_1.commonProps(item), { alignmentBaseline: calculateBaseline(item.baseline) });\n            if (item.align) {\n                attrs.textAnchor = alignments[item.align];\n            }\n            const children = item.text !== undefined ? [item.text] : undefined;\n            const result = {\n                type: 'text',\n                attrs,\n                style: {\n                    fontSize: item.fontSize || DEFAULT_FONT_SIZE,\n                    fontFamily: item.font || DEFAULT_FONT_FAMILY,\n                    fontWeight: item.fontWeight,\n                    fontStyle: item.fontStyle,\n                    fontVariant: item.fontVariant,\n                },\n                transforms: getTextTransforms(item),\n                metadata: item.metadata,\n                channels: item.channels,\n                children,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nTextRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Text;\nexports.TextRenderer = TextRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nclass TrailRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, TrailRenderer.TARGET_MARK_TYPE);\n        // TODO\n        return { nodes: [] };\n    }\n}\nTrailRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Trail;\nexports.TrailRenderer = TrailRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst util_1 = require(\"./util\");\nclass ShapeRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, ShapeRenderer.TARGET_MARK_TYPE);\n        // TODO\n        return { nodes: [] };\n    }\n}\nShapeRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Shape;\nexports.ShapeRenderer = ShapeRenderer;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./scene\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ChartOptionsManager_1 = require(\"./ChartOptionsManager\");\nconst SceneFrame_1 = require(\"./SceneFrame\");\nconst processNode_1 = require(\"./processNode\");\n/**\n * Builds a new scenegraph instance by binding data to a scene specification.\n *\n * @param data The data to bind with\n */\nfunction createScenegraph(root, data, options) {\n    const optionsManager = new ChartOptionsManager_1.ChartOptionsManager(options);\n    const width = optionsManager.chartSpace.shape.width;\n    const height = optionsManager.chartSpace.shape.height;\n    const emptyNode = undefined;\n    const rootFrame = new SceneFrame_1.SceneFrame(emptyNode, undefined, data, {\n        width,\n        height,\n    });\n    return {\n        root: processNode_1.processNode(root, rootFrame)[0],\n        channelHandlers: rootFrame.channelHandlers,\n    };\n}\nexports.createScenegraph = createScenegraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nclass ChartOptionsManager {\n    constructor(options) {\n        this.options = options;\n    }\n    get chartSpace() {\n        const width = this.options.width || interfaces_1.DEFAULT_WIDTH;\n        const height = this.options.height || interfaces_1.DEFAULT_HEIGHT;\n        return {\n            origin: {\n                x: this.paddingLeft,\n                y: this.paddingTop,\n            },\n            shape: {\n                width: width - this.paddingLeft - this.paddingRight,\n                height: height - this.paddingTop - this.paddingBottom,\n            },\n        };\n    }\n    get paddingTop() {\n        return this.getPadding('top');\n    }\n    get paddingBottom() {\n        return this.getPadding('bottom');\n    }\n    get paddingLeft() {\n        return this.getPadding('left');\n    }\n    get paddingRight() {\n        return this.getPadding('right');\n    }\n    getPadding(name) {\n        const paddingType = typeof this.options.padding;\n        if (paddingType === 'number') {\n            return this.options.padding;\n        }\n        else if (paddingType === 'object') {\n            return this.options.padding[name] || 0;\n        }\n        return 0;\n    }\n}\nexports.ChartOptionsManager = ChartOptionsManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The scene frame is analagous to a stack-frame - it contains contextual\n * information for a section of a scene, including dimensions, scales, data, and event handlers\n */\nclass SceneFrame {\n    constructor(node, mark, data, view, viewTL = [0, 0], viewBR = [view.height, view.width], scales = {}, channels = {}, channelId = 0, channelHandlers = {}, boundDataItem = {}) {\n        this.node = node;\n        this.mark = mark;\n        this.data = data;\n        this.view = view;\n        this.viewTL = viewTL;\n        this.viewBR = viewBR;\n        this.scales = scales;\n        this.channels = channels;\n        this.channelId = channelId;\n        this.channelHandlers = channelHandlers;\n        this.boundDataItem = boundDataItem;\n    }\n    /**\n     * Emits a new scene frame with the given node. Recomputes scales and registers handelrs.\n     */\n    pushNode(node) {\n        const scales = this.getRecomputedScales(node, this.viewTL, this.viewBR);\n        return new SceneFrame(node, undefined, this.data, this.view, this.viewTL, this.viewBR, scales, {}, this.channelId, this.channelHandlers, this.boundDataItem);\n    }\n    pushMark(mark) {\n        const channels = this.registerChannels(mark.channels);\n        return new SceneFrame(this.node, mark, this.data, this.view, this.viewTL, this.viewBR, this.scales, channels, this.channelId, this.channelHandlers, this.boundDataItem);\n    }\n    pushData(data) {\n        const dataFrame = Object.assign({}, this.data, data);\n        return new SceneFrame(this.node, this.mark, dataFrame, this.view, this.viewTL, this.viewBR, this.scales, this.channels, this.channelId, this.channelHandlers, this.boundDataItem);\n    }\n    /**\n     * Pushes a new sceneframe with an updated viewspace. Recomputes scales.\n     *\n     * @param view The new view to push. This is the size of the group that will be inserted\n     * @param viewTL The top-left of the draw-area within the view. This does not affect the emitted\n     * group, but does affect draw-scales\n     * @param viewBR The bottom-right of the draw-area within the view. This does not affect the emitted\n     * group, but does affect draw-scales\n     */\n    pushView(view, viewTL = [0, 0], viewBR = [view.height, view.width]) {\n        const scales = this.getRecomputedScales(this.node, viewTL, viewBR);\n        return new SceneFrame(this.node, this.mark, this.data, view, viewTL, viewBR, scales, this.channels, this.channelId, this.channelHandlers, this.boundDataItem);\n    }\n    pushBoundDataItem(dataItem) {\n        return new SceneFrame(this.node, this.mark, this.data, this.view, this.viewTL, this.viewBR, this.scales, this.channels, this.channelId, this.channelHandlers, dataItem);\n    }\n    getRecomputedScales(node, viewTL, viewBR) {\n        const data = this.data;\n        let scales = Object.assign({}, this.scales);\n        const xBounds = [viewTL[1], viewBR[1]];\n        const yBounds = [viewBR[0], viewTL[0]];\n        node.scales.forEach(creator => {\n            const args = {\n                viewBounds: { x: xBounds, y: yBounds },\n                data,\n                scales,\n            };\n            const newScales = creator(args);\n            scales = Object.assign({}, scales, newScales);\n        });\n        return scales;\n    }\n    registerChannels(channels) {\n        // For each channel the client specifies, encode the name-mapping in the Scenegraph and\n        // map the handler function in our scene result\n        return Object.entries(channels).reduce((prev, [eventName, handler]) => {\n            prev[eventName] = this.registerHandler(handler);\n            return prev;\n        }, {});\n    }\n    registerHandler(handler) {\n        const id = `evt${this.channelId++}`;\n        this.channelHandlers[id] = handler;\n        return id;\n    }\n}\nexports.SceneFrame = SceneFrame;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nconst createBoundItem_1 = require(\"./createBoundItem\");\nfunction buildMarkItem(mark, frame) {\n    const markFrame = frame.pushMark(mark);\n    /**\n     * If the data is a faceted group, then bind one group per facet.\n     */\n    const boundData = getBoundData(mark, markFrame);\n    const items = Array.isArray(boundData)\n        ? createItemPerDataRow(markFrame, boundData)\n        : createItemPerFacet(markFrame, boundData);\n    return scenegraph_1.createMark(mark.type, items);\n}\nexports.buildMarkItem = buildMarkItem;\n/**\n * Creates one scenegraph item per facet partition\n *\n * @param frame The current scene frame\n * @param partitions the item faceting configuration\n */\nfunction createItemPerFacet(frame, { name, partitions }) {\n    return partitions.map((partition, index) => {\n        return createBoundItem_1.createBoundItem(frame.pushData({ [name]: partition }), partition, index, partitions);\n    });\n}\n/**\n * Creates one sceengraph item per row in a data-table\n * @param frame The current scene frame\n * @param data The data table\n */\nfunction createItemPerDataRow(frame, data) {\n    return data.map((row, index) => createBoundItem_1.createBoundItem(frame, row, index, data));\n}\n/**\n * Gets the bound data for a mark.\n * * If the mark is a singleton, this will return an array with a single sentinel object.\n * * If the mark is not faceted, this will return the source table specified by the mark\n * * If the mark is faceted, this will return a partition set, with data for each facet partition.\n *\n * @param mark The mark to bind data to\n * @param dataFrame The current data-frame, which provides data-sets at this scope\n */\nfunction getBoundData(mark, frame) {\n    const { singleton, table, facet } = mark;\n    // If the table is unset, render as a singleton of the existing bound data-item\n    if (singleton) {\n        return [frame.boundDataItem];\n    }\n    if (!table) {\n        console.log('error with mark', mark);\n        throw new Error('mark must either have singleton set to true or have no data defined');\n    }\n    const sourceTable = frame.data[table];\n    if (!facet) {\n        return sourceTable || [];\n    }\n    const { name, partitionOn } = facet;\n    const getFacetKey = typeof partitionOn === 'function' ? partitionOn : (d) => d[partitionOn];\n    const partitionMap = new Map();\n    const partitions = [];\n    sourceTable.forEach((row) => {\n        const key = getFacetKey(row);\n        if (!partitionMap.has(key)) {\n            const newPartition = [];\n            partitions.push(newPartition);\n            partitionMap.set(key, newPartition);\n        }\n        const partition = partitionMap.get(key);\n        partition.push(row);\n    });\n    return { name, partitions };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nconst processNode_1 = require(\"../processNode\");\n/**\n * Creates a scenegraph item bound to a data row\n *\n * @param frame The current scene frame\n * @param row The data row\n * @param index The data row index\n * @param table The data table\n */\nfunction createBoundItem(frame, row, index, table) {\n    const mark = frame.mark;\n    const item = createItemFromMark(mark, row, index, table, frame);\n    if (mark.type !== interfaces_1.MarkType.Group) {\n        return item;\n    }\n    // Update the view and recompute scales\n    const groupDrawRect = getNextDrawRect(interfaces_1.getItemSpace(item), frame.view);\n    const itemFrame = frame\n        .pushView({\n        width: groupDrawRect.right - groupDrawRect.left,\n        height: groupDrawRect.bottom - groupDrawRect.top,\n    })\n        .pushBoundDataItem(row);\n    // Mash in the children and the bounds\n    const items = mark.child ? processNode_1.processNode(mark.child, itemFrame) : [];\n    const groupItem = Object.assign({}, item, { items, x: groupDrawRect.left, y: groupDrawRect.top, x2: groupDrawRect.right, y2: groupDrawRect.bottom });\n    return groupItem;\n}\nexports.createBoundItem = createBoundItem;\n/**\n * Creates a scenegraph item for a giver mark\n * @param mark The mark being used to specify the new item\n * @param row The data row bound to the mark\n * @param index The index of the data-row relative to its table\n * @param data The data table containing the row bound to the mark\n * @param channelNames The event-handling channel names to attach to this item\n * @param scales The current scale frame, required to encode item properties\n * @param dataFrame The current data frame, required to encode item properties\n */\nfunction createItemFromMark(mark, row, index, data, frame) {\n    const { type, encodings, name, role } = mark;\n    return scenegraph_1.createItem(type, Object.assign({}, transferEncodings(row, index, data, encodings, frame), { name,\n        role, metadata: { index }, channels: frame.channels }));\n}\n/**\n * Computes the draw-rectangle for a group given its item-space and it's parent's draw space.\n *\n * It's important to note that these are a group's dimensions, because they will greedily\n * use parent space if their space has not been specified\n *\n * @param space The space measured for the group item\n * @param drawRect\n */\nfunction getNextDrawRect(space, viewSize) {\n    const { width: availableWidth, height: availableHeight } = viewSize;\n    const { origin: { x = 0, y = 0 }, shape: { width = availableWidth, height = availableHeight }, } = space;\n    const top = y;\n    const left = x;\n    const right = left + width;\n    const bottom = top + height;\n    return {\n        top,\n        left,\n        bottom,\n        right,\n    };\n}\nfunction transferEncodings(d, index, data, encodings, frame) {\n    const props = {};\n    Object.keys(encodings)\n        .filter(t => t !== 'items')\n        .forEach(key => {\n        const encoding = encodings[key];\n        if (encoding) {\n            const dataContext = {\n                d,\n                index,\n                data,\n                tables: frame.data,\n            };\n            const value = encoding(dataContext, frame.scales);\n            props[key] = value;\n        }\n    });\n    return props;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst buildAxis_1 = require(\"../axes/buildAxis\");\n/**\n * TODO: Store these defaults in a unified place\n */\nconst DEFAULT_AXIS_THICKNESS = 25;\n/**\n * Builds axes into a screen frame\n * @param node The current scene node\n * @param frame Thec curren scene frame\n */\nfunction buildAxes(node, frame) {\n    // If no axes are present, return an empty axis array and an unchanged view\n    if (node.axes.length === 0) {\n        return {\n            axes: [],\n            remainingSpace: { origin: { x: 0, y: 0 }, shape: frame.view },\n        };\n    }\n    const axisSpace = getAxisSpace(frame);\n    const axes = node.axes.map(axis => buildAxis_1.buildAxis(axis, frame, axisSpace));\n    // Build the frame here so that the marks have updated scales\n    const remainingSpace = getRemainingSpace(frame, axisSpace);\n    return {\n        axes,\n        remainingSpace,\n    };\n}\nexports.buildAxes = buildAxes;\nfunction getRemainingSpace(frame, axisSpace) {\n    const { width: availableWidth = 0, height: availableHeight = 0 } = frame.view;\n    // Build the frame here so that the marks have updated scales\n    const remainingSpace = {\n        origin: {\n            x: axisSpace.left,\n            y: axisSpace.top,\n        },\n        shape: {\n            width: availableWidth - axisSpace.left - axisSpace.right,\n            height: availableHeight - axisSpace.top - axisSpace.bottom,\n        },\n    };\n    return remainingSpace;\n}\n/**\n * Gets the space consumed by the axes. Each key is an axis orientation, and the values are their respective thickness\n * @param frame\n */\nfunction getAxisSpace(frame) {\n    /**\n     * Hard space is space required by an axis. Soft space is space\n     * required for labels to not bleed over the edge. Soft space is only used\n     * if hard space is zero.\n     */\n    const space = {\n        top: {\n            hard: 0,\n            soft: 0,\n        },\n        left: {\n            hard: 0,\n            soft: 0,\n        },\n        bottom: {\n            hard: 0,\n            soft: 0,\n        },\n        right: {\n            hard: 0,\n            soft: 0,\n        },\n    };\n    frame.node.axes.forEach(a => {\n        const thickness = axisThickness(a);\n        const fontSize = a.labelFontSize;\n        const fontPad = fontSize / 2;\n        switch (a.orient) {\n            case interfaces_1.AxisOrientation.Top:\n                space.top.hard = Math.max(space.top.hard, thickness);\n                break;\n            case interfaces_1.AxisOrientation.Right:\n                space.right.hard = Math.max(space.right.hard, thickness);\n                space.top.soft = Math.max(space.top.soft, fontPad);\n                space.bottom.soft = Math.max(space.top.soft, fontPad);\n                break;\n            case interfaces_1.AxisOrientation.Bottom:\n                space.bottom.hard = Math.max(space.bottom.hard, thickness);\n                break;\n            case interfaces_1.AxisOrientation.Left:\n                space.left.hard = Math.max(space.left.hard, thickness);\n                space.top.soft = Math.max(space.top.soft, fontPad);\n                space.bottom.soft = Math.max(space.top.soft, fontPad);\n                break;\n        }\n    });\n    return {\n        top: Math.max(space.top.hard, space.top.soft),\n        left: Math.max(space.left.hard, space.left.soft),\n        bottom: Math.max(space.bottom.hard, space.bottom.soft),\n        right: Math.max(space.right.hard, space.right.soft),\n    };\n}\nfunction axisThickness(axis) {\n    return axis.thickness || DEFAULT_AXIS_THICKNESS;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nconst components_1 = require(\"./components\");\nconst getContext_1 = require(\"./getContext\");\nfunction buildAxis(axis, frame, axisSpace) {\n    const context = createPopulatedContext(axis, frame, axisSpace);\n    const groupSize = getGroupSize(context, frame.view);\n    const origin = getGroupOrigin(context, frame.view);\n    // Build the components of the axis\n    const items = [];\n    components_1.components.forEach(e => {\n        if (e.isScenegraphElementGenerated(context)) {\n            items.push(e.createScenegraphElement(context));\n        }\n    });\n    return scenegraph_1.buildMark(interfaces_1.MarkType.Group)\n        .role('axis')\n        .items(Object.assign({ items, x: origin.x, y: origin.y }, groupSize))\n        .build();\n}\nexports.buildAxis = buildAxis;\nfunction createPopulatedContext(axis, frame, axisSpace) {\n    const initialContext = getContext_1.getContext(axis, frame, axisSpace);\n    let result = initialContext;\n    components_1.components.forEach(component => (result = component.createContext(result)));\n    return result;\n}\nfunction getGroupOrigin(context, availableSpace) {\n    const { height = 0, width = 0 } = availableSpace;\n    switch (context.axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return { x: 0, y: 0 };\n        case interfaces_1.AxisOrientation.Bottom:\n            return {\n                x: 0,\n                y: height - context.thickness,\n            };\n        case interfaces_1.AxisOrientation.Left:\n            return { x: 0, y: 0 };\n        case interfaces_1.AxisOrientation.Right:\n            return { x: width - context.thickness, y: 0 };\n    }\n}\nfunction getGroupSize(context, availableSpace) {\n    const { height = 0, width = 0 } = availableSpace;\n    if (context.horizontal) {\n        return {\n            width,\n            height: context.thickness,\n        };\n    }\n    else {\n        return {\n            width: context.thickness,\n            height,\n        };\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst domain_1 = require(\"./domain\");\nconst tickLines_1 = require(\"./tickLines\");\nconst tickLabels_1 = require(\"./tickLabels\");\n/**\n * The axis component class instances\n */\nexports.components = [\n    new domain_1.Domain(),\n    new tickLines_1.TickLines(),\n    new tickLabels_1.TickLabels(),\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nconst crossValue_1 = require(\"./crossValue\");\nclass Domain {\n    createContext(context) {\n        const range = context.range;\n        const maxRange = Math.max(...range);\n        const minRange = Math.min(...range);\n        return Object.assign({}, context, { domainMinRange: minRange, domainMaxRange: maxRange, domainCross: crossValue_1.crossValue(context.axis, context.thickness) });\n    }\n    isScenegraphElementGenerated(context) {\n        return !!context.axis.domain;\n    }\n    createScenegraphElement(context) {\n        const { axis, rangeProperty, rangeEndProperty, crossProperty, domainCross, domainMinRange, domainMaxRange, } = context;\n        return scenegraph_1.buildMark(interfaces_1.MarkType.Rule)\n            .role('axis-domain')\n            .items({\n            stroke: axis.domainColor,\n            strokeWidth: axis.domainWidth,\n            [rangeProperty]: domainMinRange,\n            [rangeEndProperty]: domainMaxRange + axis.domainWidth,\n            [crossProperty]: domainCross,\n        })\n            .build();\n    }\n}\nexports.Domain = Domain;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nfunction crossValue(axis, thickness) {\n    const domainWidth = axis.domainWidth;\n    const { orient } = axis;\n    let result = domainWidth;\n    switch (orient) {\n        case interfaces_1.AxisOrientation.Bottom: {\n            result = domainWidth / 2;\n            break;\n        }\n        case interfaces_1.AxisOrientation.Left: {\n            result = thickness - domainWidth / 2;\n            break;\n        }\n        case interfaces_1.AxisOrientation.Right: {\n            result = domainWidth / 2;\n            break;\n        }\n        case interfaces_1.AxisOrientation.Top: {\n            result = thickness + domainWidth / 2;\n            break;\n        }\n    }\n    return result;\n}\nexports.crossValue = crossValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nconst getTickValues_1 = require(\"./getTickValues\");\nconst getLabelFormatter_1 = require(\"./getLabelFormatter\");\nclass TickLines {\n    createContext(context) {\n        const tickCrossStart = getTickCrossStart(context);\n        const tickCrossEnd = getTickCrossEnd(context);\n        const labelFormatter = getLabelFormatter_1.getLabelFormatter(context);\n        context = Object.assign({}, context, { labelFormatter, tickCrossEnd, tickCrossStart });\n        const ticks = getTickValues_1.getTickValues(context);\n        context = Object.assign({}, context, { ticks });\n        return context;\n    }\n    isScenegraphElementGenerated(context) {\n        return !!context.axis.ticks;\n    }\n    createScenegraphElement(context) {\n        return scenegraph_1.buildMark(interfaces_1.MarkType.Rule)\n            .role('axis-ticks')\n            .items(...context.ticks.map(tick => createTickItem(tick, context)))\n            .build();\n    }\n}\nexports.TickLines = TickLines;\nfunction getTickCrossStart(context) {\n    const tickSize = context.axis.tickSize;\n    return context.topOrLeft ? context.thickness - tickSize : tickSize;\n}\nfunction getTickCrossEnd(context) {\n    return context.topOrLeft\n        ? context.thickness\n        : context.axis.tickWidth;\n}\nfunction createTickItem(tick, context) {\n    const { axis: { tickColor: stroke, tickWidth: strokeWidth }, } = context;\n    const crossStart = getCrossStart(context);\n    const crossEnd = getCrossEnd(context);\n    const rangeStart = getRangeStart(tick, context);\n    return {\n        [context.rangeProperty]: rangeStart,\n        [context.crossProperty]: crossStart,\n        [context.crossEndProperty]: crossEnd,\n        stroke,\n        strokeWidth,\n    };\n}\nfunction getRangeStart(tick, context) {\n    const strokeWidth = context.axis.tickWidth;\n    return tick.position + strokeWidth;\n}\nfunction getCrossStart(context) {\n    const tickSize = context.axis.tickSize;\n    const tickWidth = context.axis.tickWidth;\n    const result = context.topOrLeft ? context.thickness - tickSize : tickSize;\n    return result + tickWidth / 2;\n}\nfunction getCrossEnd(context) {\n    const tickWidth = context.axis.tickWidth;\n    return context.topOrLeft ? context.thickness : tickWidth;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Gets logical tick values and their associated labels\n * @param context The axis context\n */\nfunction getTickValues(context) {\n    const { axis, scale } = context;\n    if (axis.values != null) {\n        return axis.values.map(av => (Object.assign({}, av, { position: scale(av.value) })));\n    }\n    // Try to get the ticks from the `tick` utility built into d3 scales\n    return scale.ticks\n        ? getTicksFromScaleTicks(context)\n        : scale.domain\n            ? getTicksFromScaleDomain(axis, scale)\n            : [];\n}\nexports.getTickValues = getTickValues;\nfunction getDomainScaleValue(t, scale, axis) {\n    const tickRound = axis.tickRound;\n    const bandPosition = axis.bandPosition;\n    const result = scale.bandwidth\n        ? scale(t) + scale.bandwidth() * bandPosition\n        : t;\n    return tickRound ? Math.round(result) : result;\n}\nfunction getTicksFromScaleTicks(context) {\n    const { axis, scale } = context;\n    const tickWidth = axis.tickWidth;\n    if (!scale.ticks) {\n        throw new Error('cannot extract scale domain');\n    }\n    const ticks = axis.tickCount != null ? scale.ticks(axis.tickCount) : scale.ticks();\n    return ticks.map((t) => {\n        const position = scale(t);\n        return {\n            value: t,\n            position: axis.tickRound\n                ? Math.round(position)\n                : position - tickWidth / 2,\n            label: context.labelFormatter(t),\n        };\n    });\n}\nfunction getTicksFromScaleDomain(axis, scale) {\n    if (!scale.domain) {\n        throw new Error('cannot extract scale domain');\n    }\n    const domain = scale.domain();\n    return domain.map((t) => ({\n        value: t,\n        position: getDomainScaleValue(t, scale, axis),\n        label: `${t}`,\n    }));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_time_format_1 = require(\"d3-time-format\");\nconst d3_format_1 = require(\"d3-format\");\nfunction isTimeScale(scale) {\n    return scale.__scaletype__ === 'utc' || scale.__scaletype__ === 'time';\n}\nfunction getLabelFormatter(context) {\n    const scale = context.scale;\n    const { labelFormat } = context.axis;\n    if (!labelFormat) {\n        return (t) => `${t}`;\n    }\n    return isTimeScale(scale) ? d3_time_format_1.timeFormat(labelFormat) : d3_format_1.format(labelFormat);\n}\nexports.getLabelFormatter = getLabelFormatter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst scenegraph_1 = require(\"@markable/scenegraph\");\nclass TickLabels {\n    createContext(context) {\n        return context;\n    }\n    isScenegraphElementGenerated(context) {\n        return !!context.axis.labels;\n    }\n    createScenegraphElement(context) {\n        return scenegraph_1.buildMark(interfaces_1.MarkType.Text)\n            .role('axis-tick-labels')\n            .items(...(context.ticks || []).map(tick => createTickLabel(tick, context)))\n            .build();\n    }\n}\nexports.TickLabels = TickLabels;\nfunction createTickLabel(tick, context) {\n    const { axis, rangeProperty, crossProperty } = context;\n    const fontSize = axis.labelFontSize;\n    const tickSize = axis.tickSize;\n    const pad = axis.labelPadding;\n    const font = axis.labelFont;\n    const fill = axis.labelColor;\n    const fontWeight = axis.labelFontWeight;\n    const text = tick.label;\n    const align = getHorizontalAlignment(axis);\n    const baseline = getBaseline(axis);\n    const labelAngle = axis.labelAngle;\n    const crossPropertyValue = context.topOrLeft\n        ? context.thickness - tickSize - pad\n        : tickSize + pad + (axis.orient === interfaces_1.AxisOrientation.Bottom ? 1 : 0);\n    const result = {\n        strokeWidth: 0,\n        stroke: 'none',\n        [rangeProperty]: tick.position + 1,\n        [crossProperty]: crossPropertyValue,\n        fontWeight,\n        text,\n        fill,\n        font,\n        fontSize,\n        baseline,\n        align,\n    };\n    if (labelAngle !== undefined) {\n        result.theta = labelAngle * Math.PI / 180;\n    }\n    return result;\n}\nfunction getBaseline(axis) {\n    if (axis.labelBaseline) {\n        return axis.labelBaseline;\n    }\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return interfaces_1.VerticalTextAlignment.Bottom;\n        case interfaces_1.AxisOrientation.Bottom:\n            return interfaces_1.VerticalTextAlignment.Top;\n        case interfaces_1.AxisOrientation.Left:\n        case interfaces_1.AxisOrientation.Right:\n            return interfaces_1.VerticalTextAlignment.Middle;\n    }\n}\nfunction getHorizontalAlignment(axis) {\n    if (axis.labelAlign !== undefined) {\n        return axis.labelAlign;\n    }\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n        case interfaces_1.AxisOrientation.Bottom:\n            return interfaces_1.HorizontalAlignment.Center;\n        case interfaces_1.AxisOrientation.Left:\n            return interfaces_1.HorizontalAlignment.Right;\n        case interfaces_1.AxisOrientation.Right:\n            return interfaces_1.HorizontalAlignment.Left;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nfunction getContext(axis, frame, axisSpace) {\n    // Create the new axis space\n    const thickness = getThickness(axis, axisSpace);\n    const axisFrame = frame.pushView(getScaleSize(axis, axisSpace, thickness, frame.view), getScaleTL(axis, axisSpace, frame.view), getScaleBR(axis, axisSpace, frame.view));\n    const scaleName = axis.scale;\n    const scale = axisFrame.scales[scaleName];\n    const range = (scale.range && scale.range()) || [0, 0];\n    const horizontal = axis.orient === interfaces_1.AxisOrientation.Top ||\n        axis.orient === interfaces_1.AxisOrientation.Bottom;\n    const topOrLeft = axis.orient === interfaces_1.AxisOrientation.Top || axis.orient === interfaces_1.AxisOrientation.Left;\n    return {\n        axis,\n        range,\n        scale,\n        thickness,\n        horizontal,\n        topOrLeft,\n        frame: axisFrame,\n        rangeProperty: horizontal ? 'x' : 'y',\n        rangeEndProperty: horizontal ? 'x2' : 'y2',\n        crossProperty: horizontal ? 'y' : 'x',\n        crossEndProperty: horizontal ? 'y2' : 'x2',\n    };\n}\nexports.getContext = getContext;\nfunction getThickness(axis, space) {\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return space.top;\n        case interfaces_1.AxisOrientation.Right:\n            return space.right;\n        case interfaces_1.AxisOrientation.Bottom:\n            return space.bottom;\n        case interfaces_1.AxisOrientation.Left:\n            return space.left;\n        default:\n            return 0;\n    }\n}\nfunction getScaleTL(axis, space, availableSpace) {\n    const { width, height } = availableSpace;\n    const { left, top, bottom, right } = space;\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return [0, left];\n        case interfaces_1.AxisOrientation.Bottom:\n            return [height - bottom, left];\n        case interfaces_1.AxisOrientation.Left:\n            return [top, 0];\n        case interfaces_1.AxisOrientation.Right:\n            return [top, width - right];\n    }\n}\nfunction getScaleBR(axis, space, availableSpace) {\n    const { width, height } = availableSpace;\n    const { left, top, bottom, right } = space;\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return [top, width - right];\n        case interfaces_1.AxisOrientation.Bottom:\n            return [height, width - right];\n        case interfaces_1.AxisOrientation.Left:\n            return [height - bottom, left];\n        case interfaces_1.AxisOrientation.Right:\n            return [height - bottom, width];\n    }\n}\nfunction getScaleSize(axis, space, axisThickness, availableSpace) {\n    const { left, right, top, bottom } = space;\n    const { height: viewHeight = 0, width: viewWidth = 0 } = availableSpace;\n    const isHorizontal = axis.orient === interfaces_1.AxisOrientation.Top ||\n        axis.orient === interfaces_1.AxisOrientation.Bottom;\n    if (isHorizontal) {\n        return {\n            width: viewWidth - left - right,\n            height: axisThickness,\n        };\n    }\n    else {\n        return {\n            width: axisThickness,\n            height: viewHeight - top - bottom,\n        };\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst builder_1 = require(\"@markable/builder\");\nconst Context_1 = require(\"./Context\");\nclass ChartSpec extends React.PureComponent {\n    render() {\n        let sceneNodeBuilder;\n        this.sceneBuilder = builder_1.scene(node => (sceneNodeBuilder = node), this.dimensions, this.origin);\n        return (React.createElement(Context_1.SceneNodeBuilderProvider, { value: sceneNodeBuilder }, this.props.children));\n    }\n    componentDidMount() {\n        this.updateSpec();\n    }\n    componentDidUpdate() {\n        return this.updateSpec();\n    }\n    get origin() {\n        if (!this.props.padding) {\n            return [0, 0];\n        }\n        const pad = this.props.padding;\n        const isNumberPad = typeof pad === 'number';\n        return isNumberPad\n            ? [pad, pad]\n            : [pad.left || 0, pad.top || 0];\n    }\n    get dimensions() {\n        const { width, height } = this.props;\n        return { width, height };\n    }\n    updateSpec() {\n        if (this.sceneBuilder) {\n            const spec = this.sceneBuilder.build();\n            this.props.onSpecReady(spec);\n        }\n    }\n}\nexports.ChartSpec = ChartSpec;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DEFAULT_COLOR = '#777';\nconst DEFAULT_TEXT_COLOR = '#000';\nconst DEFAULT_STROKE = 1;\nconst DEFAULT_TICK_SIZE = 5;\nconst DEFAULT_FONT_SIZE = 10;\nconst DEFAULT_FONT = 'sans-serif';\nconst DEFAULT_LABEL_PADDING = 1;\nconst DEFAULT_BAND_POSITION = 0.5;\nconst DEFAULT_THICKNESS = 25;\nclass AxisBuilder {\n    // #endregion\n    constructor(scaleName, orientValue) {\n        this.scaleName = scaleName;\n        this.orientValue = orientValue;\n        this.thicknessValue = DEFAULT_THICKNESS;\n        // #region Domain Configuration Fields\n        this.domainValue = true;\n        this.domainColorValue = DEFAULT_COLOR;\n        this.domainWidthValue = DEFAULT_STROKE;\n        // #endregion\n        // #region Tick Configuration Fields\n        this.ticksValue = true;\n        this.tickColorValue = DEFAULT_COLOR;\n        this.tickOffsetValue = 0;\n        this.tickRoundValue = false;\n        this.tickSizeValue = DEFAULT_TICK_SIZE;\n        this.tickWidthValue = DEFAULT_STROKE;\n        // #endregion\n        // #region Label Configuration Fields\n        this.labelsValue = true;\n        this.labelFontValue = DEFAULT_FONT;\n        this.labelFontSizeValue = DEFAULT_FONT_SIZE;\n        this.labelColorValue = DEFAULT_TEXT_COLOR;\n        this.labelPaddingValue = DEFAULT_LABEL_PADDING;\n        this.bandPositionValue = DEFAULT_BAND_POSITION;\n        if (!this.scaleName) {\n            throw new Error('scale name must be defined');\n        }\n        if (!this.orientValue) {\n            throw new Error('axis orientation must be defined');\n        }\n    }\n    // #region Domain Configuration\n    domain(value) {\n        this.domainValue = value;\n        return this;\n    }\n    domainWidth(value) {\n        this.domainWidthValue = value;\n        return this;\n    }\n    domainColor(value) {\n        this.domainColorValue = value;\n        return this;\n    }\n    // #endregion\n    // #region Tick Configuration\n    ticks(value) {\n        this.ticksValue = value;\n        return this;\n    }\n    tickColor(value) {\n        this.tickColorValue = value;\n        return this;\n    }\n    tickCount(value) {\n        this.tickCountValue = value;\n        return this;\n    }\n    tickOffset(value) {\n        this.tickOffsetValue = value;\n        return this;\n    }\n    tickRound(value) {\n        this.tickRoundValue = value;\n        return this;\n    }\n    tickSize(value) {\n        this.tickSizeValue = value;\n        return this;\n    }\n    tickWidth(value) {\n        this.tickWidthValue = value;\n        return this;\n    }\n    bandPosition(value) {\n        this.bandPositionValue = value;\n        return this;\n    }\n    values(values) {\n        this.tickValues = values;\n        return this;\n    }\n    // #endregion\n    // #region Labels Configuratino\n    labels(value) {\n        this.labelsValue = value;\n        return this;\n    }\n    labelFont(value) {\n        this.labelFontValue = value;\n        return this;\n    }\n    labelFontSize(value) {\n        this.labelFontSizeValue = value;\n        return this;\n    }\n    labelColor(value) {\n        this.labelColorValue = value;\n        return this;\n    }\n    labelPadding(value) {\n        this.labelPaddingValue = value;\n        return this;\n    }\n    labelFontWeight(value) {\n        this.labelFontWeightValue = value;\n        return this;\n    }\n    labelAngle(value) {\n        this.labelAngleValue = value;\n        return this;\n    }\n    labelFormat(value) {\n        this.labelFormatValue = value;\n        return this;\n    }\n    thickness(value) {\n        this.thicknessValue = value;\n        return this;\n    }\n    // #endregion\n    build() {\n        return {\n            scale: this.scaleName,\n            orient: this.orientValue,\n            domain: this.domainValue,\n            domainWidth: this.domainWidthValue,\n            domainColor: this.domainColorValue,\n            ticks: this.ticksValue,\n            tickCount: this.tickCountValue,\n            tickColor: this.tickColorValue,\n            tickOffset: this.tickOffsetValue,\n            tickRound: this.tickRoundValue,\n            tickSize: this.tickSizeValue,\n            tickWidth: this.tickWidthValue,\n            values: this.tickValues,\n            labels: this.labelsValue,\n            labelFont: this.labelFontValue,\n            labelFontSize: this.labelFontSizeValue,\n            labelColor: this.labelColorValue,\n            labelPadding: this.labelPaddingValue,\n            labelAlign: this.labelAlignValue,\n            labelFontWeight: this.labelFontWeightValue,\n            bandPosition: this.bandPositionValue,\n            labelAngle: this.labelAngleValue,\n            labelFormat: this.labelFormatValue,\n            thickness: this.thicknessValue,\n        };\n    }\n}\nexports.AxisBuilder = AxisBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst builder_1 = require(\"@markable/builder\");\nconst Context_1 = require(\"./Context\");\nclass Axis extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, api => {\n            this.receiveApi(api);\n            return this.props.children;\n        }));\n    }\n    receiveApi(api) {\n        const { scale, orient } = this.props;\n        const newAxis = builder_1.axis(scale, orient);\n        // For any other properties that are set to defined values, pipe them into the axis builder\n        Object.keys(this.props).forEach(propName => {\n            const propValue = this.props[propName];\n            if (propName !== 'scale' &&\n                propName !== 'orient' &&\n                propValue !== undefined) {\n                ;\n                newAxis[propName](propValue);\n            }\n        });\n        api.axes(newAxis);\n    }\n}\nexports.Axis = Axis;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Scale\"));\n__export(require(\"./quantitative\"));\n__export(require(\"./discrete\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst Context_1 = require(\"../Context\");\nclass Scale extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, api => {\n            this.apiInstance = api;\n            this.addScale();\n            return null;\n        }));\n    }\n    get api() {\n        if (!this.apiInstance) {\n            throw new Error('api must be defined');\n        }\n        return this.apiInstance;\n    }\n    addScale() {\n        this.api.scale((args) => this.props.create(args));\n    }\n}\nexports.Scale = Scale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./LinearScale\"));\n__export(require(\"./LogScale\"));\n__export(require(\"./PowScale\"));\n__export(require(\"./SequentialScale\"));\n__export(require(\"./SqrtScale\"));\n__export(require(\"./TimeScale\"));\n__export(require(\"./UtcScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LinearScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.linear(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .padding(this.props.padding)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.LinearScale = LinearScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LinearScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const scale = d3_scale_1.scaleLinear()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(scale);\n        return {\n            [this.nameValue]: scale,\n        };\n    }\n}\nexports.LinearScale = LinearScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LogScale extends QuantitativeScale_1.QuantitativeScale {\n    base(value) {\n        this.baseValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleLog()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        if (this.baseValue !== undefined) {\n            result.base(this.baseValue);\n        }\n        return { [this.nameValue]: result };\n    }\n}\nexports.LogScale = LogScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass PowScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    exponent(value) {\n        this.exponentValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scalePow()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        if (this.exponentValue !== undefined) {\n            result.exponent(this.exponentValue);\n        }\n        return { [this.nameValue]: result };\n    }\n}\nexports.PowScale = PowScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainScale_1 = require(\"../DomainScale\");\nclass SequantialScale extends DomainScale_1.DomainScale {\n    interpolator(value) {\n        this.interpolatorValue = value;\n        return this;\n    }\n    /**\n     * A boolean indicating if output values should be clamped to the range (default false).\n     * If clamping is disabled and the scale is passed a value outside the domain, the scale\n     *  may return a value outside the range through extrapolation. If clamping is enabled,\n     * the output value of the scale is always within the scales range.\n     */\n    clamp(value) {\n        this.clampValue = value;\n        return this;\n    }\n    createScale(args) {\n        if (!this.interpolatorValue) {\n            throw new Error('interpolator must be set');\n        }\n        const domain = this.getDomain(args);\n        const result = d3_scale_1.scaleSequential(this.interpolatorValue).domain(domain);\n        if (this.clampValue !== undefined) {\n            result.clamp(this.clampValue);\n        }\n        return {\n            [this.nameValue]: result,\n        };\n    }\n}\nexports.SequantialScale = SequantialScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass SqrtScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleSqrt()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        return { [this.nameValue]: result };\n    }\n}\nexports.SqrtScale = SqrtScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nfunction setType(result) {\n    result.__scaletype__ = 'time';\n}\nclass TimeScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleTime()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        setType(result);\n        return { [this.nameValue]: result };\n    }\n}\nexports.TimeScale = TimeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nfunction setType(result) {\n    result.__scaletype__ = 'utc';\n}\nclass UtcScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleUtc()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        setType(result);\n        return { [this.nameValue]: result };\n    }\n}\nexports.UtcScale = UtcScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nconst getBoundRange_1 = require(\"../getBoundRange\");\nclass BandScale extends DomainRangeScale_1.DomainRangeScale {\n    /**\n     * The name of the band-width static scale\n     */\n    bandwidthName(value) {\n        this.bandwidthValue = value;\n        return this;\n    }\n    /**\n     * The outer and inner padding value\n     */\n    padding(value) {\n        this.paddingValue = value;\n        return this;\n    }\n    /**\n     * The inner padding value\n     */\n    paddingInner(value) {\n        this.paddingInnerValue = value;\n        return this;\n    }\n    /**\n     * The outer padding value\n     */\n    paddingOuter(value) {\n        this.paddingOuterValue = value;\n        return this;\n    }\n    /**\n     * Bin alignment 0-beginning, 1=end\n     */\n    align(value) {\n        this.alignValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const bandscale = d3_scale_1.scaleBand()\n            .domain(domain.map(d => '' + d))\n            .range(range);\n        if (this.alignValue) {\n            bandscale.align(this.alignValue);\n        }\n        if (this.paddingValue) {\n            bandscale.padding(this.paddingValue);\n        }\n        if (this.paddingOuterValue) {\n            bandscale.paddingOuter(this.paddingOuterValue);\n        }\n        if (this.paddingInnerValue) {\n            bandscale.paddingInner(this.paddingInnerValue);\n        }\n        const result = { [this.nameValue]: bandscale };\n        if (this.bandwidthValue) {\n            result[this.bandwidthValue] = bandscale.bandwidth;\n        }\n        return result;\n    }\n    handleRangeBind(args, rangeBind) {\n        return getBoundRange_1.getBoundRange(args, rangeBind);\n    }\n}\nexports.BandScale = BandScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainScale_1 = require(\"../DomainScale\");\nconst colorSchemeMap_1 = require(\"../colorSchemeMap\");\nclass OrdinalScale extends DomainScale_1.DomainScale {\n    /**\n     * The range of values to map to\n     */\n    range(value) {\n        this.rangeValue = value;\n        return this;\n    }\n    /**\n     * The color scheme to use as the target ordinal domain\n     */\n    colorScheme(value) {\n        this.colorSchemeValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange();\n        const scale = d3_scale_1.scaleOrdinal(this.rangeValue)\n            .domain(domain)\n            .range(range);\n        return { [this.nameValue]: scale };\n    }\n    getRange() {\n        if (this.colorSchemeValue) {\n            return colorSchemeMap_1.colorSchemeMap.get(this.colorSchemeValue);\n        }\n        else if (this.rangeValue) {\n            return this.rangeValue;\n        }\n        else {\n            throw new Error('Either colorScheme or domain must be set');\n        }\n    }\n}\nexports.OrdinalScale = OrdinalScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nconst getBoundRange_1 = require(\"../getBoundRange\");\nclass PointScale extends DomainRangeScale_1.DomainRangeScale {\n    /**\n     * Bin alignment 0-beginning, 1=end\n     */\n    align(value) {\n        this.alignValue = value;\n        return this;\n    }\n    /**\n     * The outer and inner padding value\n     */\n    padding(value) {\n        this.paddingValue = value;\n        return this;\n    }\n    round(value) {\n        this.roundValue = value;\n        return this;\n    }\n    stepName(value) {\n        this.stepNameValue = value;\n        return this;\n    }\n    createScale(args) {\n        const scale = d3_scale_1.scalePoint()\n            .domain(this.getDomain(args))\n            .range(this.getRange(args));\n        if (this.paddingValue !== undefined) {\n            scale.padding(this.paddingValue);\n        }\n        if (this.alignValue !== undefined) {\n            scale.align(this.alignValue);\n        }\n        if (this.roundValue !== undefined) {\n            scale.round(this.roundValue);\n        }\n        const result = { [this.nameValue]: scale };\n        if (this.stepNameValue) {\n            result[this.stepNameValue] = scale.step;\n        }\n        return result;\n    }\n    handleRangeBind(args, rangeBind) {\n        return getBoundRange_1.getBoundRange(args, rangeBind);\n    }\n}\nexports.PointScale = PointScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LogScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.log(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .base(this.props.base)\n            .padding(this.props.padding)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.LogScale = LogScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass PowScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    createScale() {\n        return scales_1.pow(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .exponent(this.props.exponent)\n            .padding(this.props.padding)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.PowScale = PowScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst DomainScale_1 = require(\"../DomainScale\");\nclass SequantialScale extends DomainScale_1.DomainScale {\n    createScale() {\n        return scales_1.sequential(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .clamp(this.props.clamp)\n            .interpolator(this.props.interpolator)\n            .build();\n    }\n}\nexports.SequantialScale = SequantialScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass SqrtScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.sqrt(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .padding(this.props.padding)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.SqrtScale = SqrtScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass TimeScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.time(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .padding(this.props.padding)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.TimeScale = TimeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass UtcScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.utc(this.props.name)\n            .name(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .padding(this.props.padding)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.UtcScale = UtcScale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./BandScale\"));\n__export(require(\"./OrdinalScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nclass BandScale extends DomainRangeScale_1.DomainRangeScale {\n    createScale() {\n        return scales_1.band(this.props.name, this.props.bandWidth)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .align(this.props.align)\n            .padding(this.props.padding)\n            .paddingOuter(this.props.paddingOuter)\n            .paddingInner(this.props.paddingInner)\n            .reverse(this.isReversed)\n            .build();\n    }\n}\nexports.BandScale = BandScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@markable/scales\");\nconst DomainScale_1 = require(\"../DomainScale\");\nclass OrdinalScale extends DomainScale_1.DomainScale {\n    createScale() {\n        return scales_1.ordinal(this.props.name)\n            .table(this.props.table)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .colorScheme(this.props.colorScheme)\n            .build();\n    }\n}\nexports.OrdinalScale = OrdinalScale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Arc\"));\n__export(require(\"./Area\"));\n__export(require(\"./Group\"));\n__export(require(\"./Image\"));\n__export(require(\"./Line\"));\n__export(require(\"./Path\"));\n__export(require(\"./Rect\"));\n__export(require(\"./Rule\"));\n__export(require(\"./Shape\"));\n__export(require(\"./Symbol\"));\n__export(require(\"./Text\"));\n__export(require(\"./Trail\"));\n__export(require(\"./SymbolTypes\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Arc extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Arc;\n    }\n    encodeCustomProperties() {\n        const { startAngle, endAngle, padAngle, innerRadius, outerRadius, cornerRadius, } = this.props;\n        return {\n            startAngle,\n            endAngle,\n            padAngle,\n            innerRadius,\n            outerRadius,\n            cornerRadius,\n        };\n    }\n}\nexports.Arc = Arc;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Area extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Area;\n    }\n    encodeCustomProperties() {\n        const { orient, interpolate, tension, defined } = this.props;\n        return {\n            orient,\n            interpolate,\n            tension,\n            defined,\n        };\n    }\n}\nexports.Area = Area;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Group extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Group;\n    }\n    encodeCustomProperties() {\n        const { clip, cornerRadius } = this.props;\n        return {\n            clip,\n            cornerRadius,\n        };\n    }\n    addMark() {\n        let node;\n        this.api.mark(this.createMark().child(n => (node = n)));\n        return node;\n    }\n    createMark() {\n        const nodeBuilder = super.createMark();\n        const { facetName, facetKey } = this.props;\n        if (facetName || facetKey) {\n            if (!facetName || !facetKey) {\n                throw new Error('Both facetName and facetKey props must be defined to enable faceting');\n            }\n            nodeBuilder.facet({\n                name: facetName,\n                partitionOn: facetKey,\n            });\n        }\n        return nodeBuilder;\n    }\n}\nexports.Group = Group;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Image extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Image;\n    }\n    encodeCustomProperties() {\n        const { url, aspect, align, baseline } = this.props;\n        return {\n            url,\n            aspect,\n            align,\n            baseline,\n        };\n    }\n}\nexports.Image = Image;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Line extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Line;\n    }\n    encodeCustomProperties() {\n        const { interpolate, tension, defined } = this.props;\n        return { interpolate, tension, defined };\n    }\n}\nexports.Line = Line;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Path extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Path;\n    }\n    encodeCustomProperties() {\n        const { path } = this.props;\n        return { path };\n    }\n}\nexports.Path = Path;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Rect extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Rect;\n    }\n    encodeCustomProperties() {\n        return {\n            cornerRadius: this.props.cornerRadius,\n        };\n    }\n}\nexports.Rect = Rect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Rule extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Rule;\n    }\n    encodeCustomProperties() {\n        return {};\n    }\n}\nexports.Rule = Rule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Shape extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Shape;\n    }\n    encodeCustomProperties() {\n        return {};\n    }\n}\nexports.Shape = Shape;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Symbol extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Symbol;\n    }\n    encodeCustomProperties() {\n        const { size, shape } = this.props;\n        return { size, shape };\n    }\n}\nexports.Symbol = Symbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Text extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Text;\n    }\n    encodeCustomProperties() {\n        const { align, angle, baseline, dir, dx, dy, ellipsis, font, fontSize, fontWeight, fontVariant, fontStyle, limit, radius, text, theta, } = this.props;\n        return {\n            align,\n            angle,\n            baseline,\n            dir,\n            dx,\n            dy,\n            ellipsis,\n            font,\n            fontSize,\n            fontWeight,\n            fontVariant,\n            fontStyle,\n            limit,\n            radius,\n            text,\n            theta,\n        };\n    }\n}\nexports.Text = Text;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Trail extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Trail;\n    }\n    encodeCustomProperties() {\n        const { size, defined } = this.props;\n        return { size, defined };\n    }\n}\nexports.Trail = Trail;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable max-classes-per-file\nconst interfaces_1 = require(\"@markable/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass SymbolOfType extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Symbol;\n    }\n    encodeCustomProperties() {\n        const { size } = this.props;\n        const shape = this.getShape();\n        return { size, shape };\n    }\n}\nclass Circle extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Circle;\n    }\n}\nexports.Circle = Circle;\nclass Cross extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Cross;\n    }\n}\nexports.Cross = Cross;\nclass Diamond extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Diamond;\n    }\n}\nexports.Diamond = Diamond;\nclass Square extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Square;\n    }\n}\nexports.Square = Square;\nclass TriangleDown extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.TriangleDown;\n    }\n}\nexports.TriangleDown = TriangleDown;\nclass TriangleUp extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.TriangleUp;\n    }\n}\nexports.TriangleUp = TriangleUp;\nclass TriangleLeft extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.TriangleLeft;\n    }\n}\nexports.TriangleLeft = TriangleLeft;\nclass TriangleRight extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Circle;\n    }\n}\nexports.TriangleRight = TriangleRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst interfaces_1 = require(\"@markable/interfaces\");\nfunction createElementFor(vdom, key, handlers) {\n    const { type, children, attrs = {}, style, transforms: vdomTransforms = [], channels = {}, metadata = { index: -1 }, } = vdom;\n    const reactAttrs = Object.assign({ key,\n        style, transform: getTransformAttribute(vdomTransforms) }, attrs);\n    // Map the handlers into the vdom\n    Object.keys(channels).forEach(eventName => {\n        const eventId = channels[eventName];\n        const reactEventName = eventName;\n        const handler = handlers[eventId];\n        reactAttrs[reactEventName] = (eventArg) => handler(eventArg, metadata);\n    });\n    return React.createElement(type, reactAttrs, (children || [])\n        .filter(c => !!c)\n        .map((c, index) => typeof c !== 'object' ? c : createElementFor(c, `${index}`, handlers)));\n}\nfunction getTransformAttribute(vdomTransforms) {\n    const transforms = [];\n    vdomTransforms.forEach(t => {\n        if (t.type === interfaces_1.VSvgTransformType.rotate) {\n            transforms.push(`rotate(${t.value})`);\n        }\n        else if (t.type === interfaces_1.VSvgTransformType.translate) {\n            transforms.push(`translate(${t.value[0]}, ${t.value[1]})`);\n        }\n    });\n    return transforms.length > 0 ? transforms.join(' ') : undefined;\n}\n/**\n * Renders a Virtual DOM out to React-DOM's Virtual DOM\n */\nclass Renderer {\n    render(vdom, handlers) {\n        return createElementFor(vdom, 'root', handlers);\n    }\n}\nexports.Renderer = Renderer;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./layout\"));\n__export(require(\"./interfaces\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./StackTransform\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-var-requires no-submodule-imports\nconst interfaces_1 = require(\"../interfaces\");\nfunction flatMap(items, lambda) {\n    const mappedItems = items.map(lambda);\n    return Array.prototype.concat.apply([], mappedItems);\n}\nclass StackTransform {\n    constructor() {\n        this.offsetVal = interfaces_1.Offset.zero;\n        this.outputFields = ['y0', 'y1'];\n        this.stackCenter = (group, max) => {\n            const [y0, y1] = this.outputFields;\n            const field = this.fieldVal;\n            const sum = group.sum || 0;\n            let last = (max - sum) / 2;\n            for (const d of group) {\n                const value = Math.abs(field(d));\n                d[y0] = last;\n                d[y1] = last += value;\n            }\n        };\n        this.stackNormalize = (group) => {\n            const [y0, y1] = this.outputFields;\n            const field = this.fieldVal;\n            const scale = 1 / group.sum;\n            let last = 0;\n            let v = 0;\n            for (const d of group) {\n                const value = Math.abs(field(d));\n                d[y0] = last;\n                d[y1] = last = scale * (v += value);\n            }\n        };\n        this.stackZero = (group) => {\n            const [y0, y1] = this.outputFields;\n            const field = this.fieldVal;\n            let lastPos = 0;\n            let lastNeg = 0;\n            for (const d of group) {\n                const v = field(d);\n                if (v < 0) {\n                    d[y0] = lastNeg;\n                    d[y1] = lastNeg += v;\n                }\n                else {\n                    d[y0] = lastPos;\n                    d[y1] = lastPos += v;\n                }\n            }\n        };\n    }\n    /**\n     * The data field that determines the stack heights.\n     * @param field\n     */\n    field(field) {\n        this.fieldVal = field;\n        return this;\n    }\n    /**\n     * An array of fields by which to partition the data into separate stacks.\n     * @param groupBy\n     */\n    groupBy(...groupBy) {\n        this.groupByVal = groupBy;\n        return this;\n    }\n    /**\n     * Criteria for sorting values within each stack.\n     * @param sort\n     */\n    sort(...sort) {\n        this.sortVal = sort;\n        return this;\n    }\n    /**\n     * The baseline offset. One of zero (default), center, or normalize. The center offset will center the stacks. The normalize offset will compute percentage values for each stack point, with output values in the range [0,1].\n     * @param offset\n     */\n    offset(offset) {\n        this.offsetVal = offset;\n        return this;\n    }\n    /**\n     * The output fields for the computed start and end stack values. The default is [\"y0\", \"y1\"].\n     * @param outputFields\n     */\n    output(start, end) {\n        this.outputFields = [start, end];\n        return this;\n    }\n    transform(data) {\n        // Clone the data to keep this functional\n        const innerData = [...data.map(d => (Object.assign({}, d)))];\n        const rawGroups = this.partitionGroups(innerData);\n        const groups = this.computeMaxesAndSums(rawGroups);\n        this.processDataStacks(groups);\n        return flatMap(groups, (t) => t);\n    }\n    get stacker() {\n        switch (this.offsetVal) {\n            case interfaces_1.Offset.zero:\n                return this.stackZero;\n            case interfaces_1.Offset.center:\n                return this.stackCenter;\n            case interfaces_1.Offset.normalize:\n                return this.stackNormalize;\n            default:\n                throw new Error(`unknown offset: ${this.offsetVal}`);\n        }\n    }\n    partitionGroups(data) {\n        const groupBy = this.groupByVal;\n        const groups = [];\n        if (groupBy === undefined) {\n            // copy the given data table as the first group\n            groups.push(data.slice());\n        }\n        else {\n            // For each row in the table, assign it to its group\n            const map = new Map();\n            for (const d of data) {\n                const groupKey = groupBy.map(gb => gb(d)).join(',');\n                if (!map.has(groupKey)) {\n                    const newGroup = [];\n                    map.set(groupKey, newGroup);\n                    groups.push(newGroup);\n                }\n                const group = map.get(groupKey);\n                group.push(d);\n            }\n        }\n        return groups;\n    }\n    computeMaxesAndSums(groups) {\n        const field = this.fieldVal;\n        const sorter = this.sortVal && interfaces_1.createSorter(this.sortVal);\n        let max = 0;\n        let sum = 0;\n        // compute sums of groups, sort groups as needed\n        for (const group of groups) {\n            let groupMax = 0;\n            let groupSum = 0;\n            for (const d of group) {\n                const value = Math.abs(field(d));\n                if (value > groupMax) {\n                    groupMax = value;\n                }\n                groupSum += value;\n            }\n            group.sum = groupSum;\n            group.max = groupMax;\n            if (groupSum > max) {\n                max = groupSum;\n            }\n            sum += groupSum;\n            if (sorter) {\n                group.sort(sorter);\n            }\n        }\n        groups.max = max;\n        groups.sum = sum;\n        return groups;\n    }\n    processDataStacks(groups) {\n        const stacker = this.stacker;\n        groups.forEach(g => stacker(g, groups.max));\n    }\n}\nexports.StackTransform = StackTransform;\n"],"sourceRoot":""}